<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Uyouii&#39;s Blogs">
<meta property="og:url" content="https://uyouii.github.io/page/2/index.html">
<meta property="og:site_name" content="Uyouii&#39;s Blogs">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Uyouii&#39;s Blogs">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://uyouii.github.io/page/2/"/>





  <title>Uyouii's Blogs</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Uyouii's Blogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">There are many things need to learn.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2018/02/23/socket-编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/23/socket-编程/" itemprop="url">socket 编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-23T17:16:07+08:00">
                2018-02-23
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-02-23T17:22:05+08:00">
                2018-02-23
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unix-Network-Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Unix Network Programming</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="套接字"><a href="#套接字" class="headerlink" title="套接字"></a>套接字</h2><p>标识每个端点的两个值（IP地址和端口号）通常称为一个套接字。</p>
<p>TCP无法仅仅通过查看端口号来分离外来的分节到不同的端点。它必须查看套接字对的所有4个元素才能确定由哪个端点接收某个到达的分节。</p>
<h2 id="不同套接字地址结构比较"><a href="#不同套接字地址结构比较" class="headerlink" title="不同套接字地址结构比较"></a>不同套接字地址结构比较</h2><p><img src="https://github.com/Uyouii/Uyouii.github.io/raw/master/images/different%20address%20struct.JPG" alt="image"></p>
<h2 id="getsockopt-和-setsockopt-函数"><a href="#getsockopt-和-setsockopt-函数" class="headerlink" title="getsockopt 和 setsockopt 函数"></a>getsockopt 和 setsockopt 函数</h2><p>这两个函数仅用于套接字<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsockopt</span><span class="params">(<span class="keyword">int</span> sockfd, <span class="keyword">int</span> level, <span class="keyword">int</span> optname, <span class="keyword">void</span> *optval, <span class="keyword">socklen_t</span> *optlen)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">setsockopt</span><span class="params">(<span class="keyword">int</span> sockfd, <span class="keyword">int</span> level, <span class="keyword">int</span> optname, <span class="keyword">const</span> <span class="keyword">void</span>* optval, <span class="keyword">socklen_t</span> optlen)</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>optval是一个指向某个变量的指针，setsockopt从<code>*optval</code>中取得选项待设置的新值，getsockopt则把已获取的选项当前值存放到<code>*optval</code>中。</p>
<p>套接字选项粗分为两大基本类型：一是启用或者禁止某个特性的二元选项（称为标志选项），二是取得并返回我们可以设置或检查的特定值选项（称为值选项）。</p>
<p>当给这些标志选项调用getsockopt函数时，<code>*optval</code>是一个整数。<code>*optval</code>中返回的值为0表示相应选项被禁止，不为0表示相应选项被启用。</p>
<p>setsockopt函数需要一个不为0的<code>*optva</code>值来启用选项，一个为0的<code>*optval</code>值来禁止选项。</p>
<h2 id="套接字选项"><a href="#套接字选项" class="headerlink" title="套接字选项"></a>套接字选项</h2><h3 id="SO-KEEPALIVE-套接字选项"><a href="#SO-KEEPALIVE-套接字选项" class="headerlink" title="SO_KEEPALIVE 套接字选项"></a>SO_KEEPALIVE 套接字选项</h3><p>给一个TCP套接字设置保持存活（keep-alive）选项后，如果在2小时内在该套接字的任一方向上都没有数据交换，TCP就自动给对端发送一个保持存活探测分节(keep-alive probe)。这是一个对端必须响应的TCP分节。</p>
<p>发送该分节后：</p>
<ol>
<li>对端以期望的ACK响应。应用进程得不到通知（因为一切正常）。在又经过仍无动静的2小时后，TCP将发出另一个探测分节。</li>
<li>对端以rst响应，它告知本端TCP：对端已崩溃且已重新启动。该套接字的待处理错误被置为ECONNRESET，套接字本身则被关闭。</li>
<li>对端对保持存活探测分节没有任何响应。源自Berkeley的TCP将另外发送8个探测分节，两两相隔75秒，试图得到一个响应。TCP在发出第一个探测分节后11分15秒内若没有得到任何响应则放弃。</li>
</ol>
<p>如果根本没有对TCP的探测分节的响应，该套接字的待处理错误就被置为ETIMEOUT，套接字本身则被关闭，然而如果该套接字收到一个ICMP错误作为某个探测分节的响应，那就返回相应的错误，套接字本身也被关闭。</p>
<p>本选项的功能是检测对端主机是否崩溃或变得不可达。如果对端进程崩溃，它的TCP将跨连接发送一个FIN，这可以通过调用select很容易的检测到。同时也要认识到，即使对任何保持存活探测分节均无响应（第三种情况），我们也不能肯定对端主机已经崩溃，因而TCP可能会终止一个有效连接。</p>
<p>本选项一本由服务器调用，不过客户端也可以使用。服务器使用本选项是因为它们花大部分时间阻塞在等待穿越TCP的连接输入上，也就是说在等待客户端的请求。然而如果客户主机连接掉线、电源掉线或系统崩溃，服务器进程将永远不会知道，并将继续等待永远不会到达的输入。这种情况称为半开连接（half-open connection）。保持存活选项将检测出这些半开连接并终止他们。</p>
<h3 id="SO-RCVBUF-和-SO-SNDBUF-套接字选项"><a href="#SO-RCVBUF-和-SO-SNDBUF-套接字选项" class="headerlink" title="SO_RCVBUF 和 SO_SNDBUF 套接字选项"></a>SO_RCVBUF 和 SO_SNDBUF 套接字选项</h3><p>每个套接字都有一个发送缓冲区和一个接收缓冲区。</p>
<p>接收缓冲区被TCP、UDP和SCTP用来保存接收到的数据，知道由应用进程来读取。对于TCP来说，套接字接收缓冲区中可用空间的大小限定了TCP通告对端的窗口大小。TCP套接字接收缓冲区不可能溢出，因为不允许对端发出超过本端所通告窗口大小的数据。这就是TCP的流量控制，如果对端无视窗口大大小而发出了超过该窗口大小的数据，本端TCP将丢弃他们。UDP是没有流量控制的：较快的发送端可以很容易地淹没较慢的接收端，导致接收端的UDP丢弃数据报。事实上较快的发送端甚至可以淹没本机的网络接口，导致数据报被本机丢弃。</p>
<p>当设置TCP套接字接收缓冲区的大小时，函数调用的顺序很重要。这是因为TCP的窗口规模选项是在建立连接时用SYN分节与对端互换得到的。对于客户，这意味着SO_RCVBUF选项必须在调用connect之前设置；对于服务器，这意味着该选项必须在调用listen之前给监听套接字设置。给已连接套接字设置该选项对于可能存在的窗口规模选项没有任何影响，因为accept直到TCP的三路握手完成才会创建并返回已连接套接字。这就是必须给监听套接字设置本选项的原因。（套接字缓冲区的大小总是由新创建的已连接套接字从监听套接字继承而来）。</p>
<p>TCP套接字缓冲区的大小至少应该是相应连接的MSS值的四倍。这一点的依据是TCP快速恢复算法的工作机制。TCP发送端使用三个重复的确认来检测某个分节是否丢失。发现某个分节丢失后，接收端将给新收到的每个分节发送一个重复的确认，如果窗口大小不足以存放4个这样的分节，那就不可能连发三个重复的确认，从而无法激活快速恢复算法。</p>
<h3 id="TCP-NODELAY套接字选项"><a href="#TCP-NODELAY套接字选项" class="headerlink" title="TCP_NODELAY套接字选项"></a>TCP_NODELAY套接字选项</h3><p>开启TCP_NODELAY选项将禁止TCP的Nagle算法。</p>
<p>Nagle算法的目的在于减少广域网（WAN）上小分组的数目。该算法指出：如果某个给定连接上有待确认数据（outstanding dataa），那么原本应该作为用户写操作相应的在该连接上立即发送相应小分组的行为就不会发生，直到现有数据被确认为止。这里“小”的定义就是小于MSS的任何分组。TCP总是尽可能地发送最大大小的分组，Nagle算法的目的在于防止一个连接在任何时刻有多个小分组待确认。</p>
<p>Nalge算法常常与另一个TCP算法联合使用：ACK延滞算法（delayed ACK algorithm）。该算法使得TCP在收到数据后不立即发送ACK，而是等待一小段时间(典型值为50~200ms)，然后才发送ACK。TCP期待在这一小段时间内自身有数据发送回对端，被延滞的ACK就可以由这些数据捎带，从而省掉一个TCP分节。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2018/02/02/python2-7-深入理解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/02/python2-7-深入理解/" itemprop="url">python2.7 深入理解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-02T11:04:13+08:00">
                2018-02-02
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-02-02T13:48:59+08:00">
                2018-02-02
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/learning-python/" itemprop="url" rel="index">
                    <span itemprop="name">learning python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="tuple-和-list的异同"><a href="#tuple-和-list的异同" class="headerlink" title="tuple 和 list的异同"></a>tuple 和 list的异同</h2><ol>
<li>tuple是不可变的，list是可变的。</li>
<li>tuple表示的是结构，list表示的是顺序。</li>
<li>list不能当作dict的key，tuple可以。</li>
<li>由于元组支持的操作比列表小，所以元组的操作相对于list会快上一点点。(除非有巨量的数据需要去处理，否则这一点不需要特别强调)</li>
</ol>
<p>tuple所谓的不可变指的是指向的位置不可变。如果tuple中含有一个list，这个list的内容是可以变化的，因为list本身在内存中的分配不是连续的。</p>
<h2 id="while-else-和-for-else"><a href="#while-else-和-for-else" class="headerlink" title="while/else 和 for/else"></a>while/else 和 for/else</h2><p>循环可以有一个<code>else</code>子句<br>在循环迭代完整个列表(对于<code>for</code>)后或执行条件为<code>false</code>(对于<code>while</code>)时执行，但循环被<code>break</code>中止的情况下不会执行。</p>
<h2 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h2><p>value if condition else other_value</p>
<p>e.g.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">is_fat = <span class="keyword">True</span></span><br><span class="line">state = <span class="string">"fat"</span> <span class="keyword">if</span> is_fat <span class="keyword">else</span> <span class="string">"not fat"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="嵌套函数和闭包-Closure"><a href="#嵌套函数和闭包-Closure" class="headerlink" title="嵌套函数和闭包(Closure)"></a>嵌套函数和闭包(Closure)</h2><p>函数不仅可以定义在模块的最外层，还可以定义在另一个函数的内部，像这种定义在函数里面的函数称之为<code>嵌套函数</code>。</p>
<p>嵌套函数可以访问到其外层作用域中声明的非局部变量。</p>
<p>闭包却可以即使脱离函数本身的作用范围，局部变量还是可以被访问得到。</p>
<p>闭包的定义：<br>在一些语言中，在函数中可以（嵌套）定义另一个函数时，如果内部的函数引用了外部的函数的变量， 则可能产生闭包。运行时，一旦外部的 函数被执行，一个闭包就形成了， 闭包中包含了内部函数的代码，以及所需外部函数中的变量的引用。</p>
<p>闭包可以用来在一个函数与一组“私有”变量之间创建关联关系。 在给定函数被多次调用的过程中，这些私有变量能够保持其持久性。</p>
<blockquote>
<p>注意：python闭包必须通过嵌套函数定义实现，但是嵌套函数不一定是闭包。</p>
</blockquote>
<p>当一个函数在执行完以后，访问了嵌套作用域的局部变量，闭包就产生了。假如嵌套函数没有访问嵌套作用域的局部变量，它就不是闭包。</p>
<p>产生闭包必须具备三个条件：</p>
<ol>
<li>需要定义嵌套函数</li>
<li>嵌套函数需要引用enclosing function中的变量</li>
<li>enclosing function需要返回嵌套函数</li>
</ol>
<p>闭包的作用：<br>闭包可以避免全局变量的使用，并且可以隐藏一些数据的格式。同时也可以提供面向对象的方法。</p>
<p><a href="https://www.programiz.com/python-programming/closure" target="_blank" rel="noopener">Python Closures</a></p>
<h2 id="迭代器-Iterators"><a href="#迭代器-Iterators" class="headerlink" title="迭代器(Iterators)"></a>迭代器(Iterators)</h2><p>python中的迭代器是一个可以被迭代的对象，每次迭代返回一个数据元素。</p>
<p>python的迭代器对象必须要实现两个特殊的方法：<code>__iter()__</code>和<code>__next()__</code>，被称为<strong>iterator protocol</strong></p>
<p>如果我们可以从一个对象获取<code>iterator</code>，则把这个对象成为<code>iterable</code>。很多python内置的容器都是可迭代的，像list, tuple, string。</p>
<p>可以通过<code>next()</code>函数人工的迭代遍历迭代器中所有的元素，当没有数据返回时，函数会抛出<code>StopIteration</code>异常。</p>
<p>一个更优雅的使用迭代器的方式是使用<code>for</code>循环，<code>for</code>可以迭代任何能够返回迭代器的对象。</p>
<h3 id="for-的内部实现"><a href="#for-的内部实现" class="headerlink" title="for 的内部实现"></a>for 的内部实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> iterable:</span><br><span class="line">    <span class="comment"># do something with element</span></span><br></pre></td></tr></table></figure>
<p>实际实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create an iterator object from that iterable</span></span><br><span class="line">iter_obj = iter(iterable)</span><br><span class="line"></span><br><span class="line"><span class="comment"># infinite loop</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># get the next item</span></span><br><span class="line">        element = next(iter_obj)</span><br><span class="line">        <span class="comment"># do something with element</span></span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># if StopIteration is raised, break from loop</span></span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure></p>
<p><code>for</code>语句首先通过调用<code>iter()</code>创建了一个迭代器对象：<code>iter_obj</code>。</p>
<p>在循环内部通过调用<code>next()</code>函数去获取下一个元素。在所有元素都处理完之后，<code>StopIteration</code>被抛出，并在循环内部被捕获，并保证其他类型的异常不被捕获。</p>
<h3 id="实现迭代器对象"><a href="#实现迭代器对象" class="headerlink" title="实现迭代器对象"></a>实现迭代器对象</h3><p>实现迭代器对象只需要实现两个方法：<code>__iter()__</code>和<code>__next()__</code></p>
<p><code>__iter()__</code>方法返回迭代器对象本身。如果需要的话，可以进行初始化的操作。</p>
<p><code>__next()__</code>方法返回序列中的下一个元素。当达到最后一个元素的下一个调用时必须抛出<code>StopIteration</code>异常。</p>
<p>for example：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PowTwo</span>:</span></span><br><span class="line">    <span class="string">"""Class to implement an iterator</span></span><br><span class="line"><span class="string">    of powers of two"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, max = <span class="number">0</span>)</span>:</span></span><br><span class="line">        self.max = max</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.n = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.n &lt;= self.max:</span><br><span class="line">            result = <span class="number">2</span> ** self.n</span><br><span class="line">            self.n += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.programiz.com/python-programming/iterator" target="_blank" rel="noopener">Python Interators</a></p>
<h2 id="生成器-Generators"><a href="#生成器-Generators" class="headerlink" title="生成器(Generators)"></a>生成器(Generators)</h2><p>生成器是创建迭代器的一种简单的方式。简单的说，生成器就是可以返回一个可迭代对象的函数（每次返回一个元素）</p>
<p>生成器的创建非常简单，只需要把函数定义中的<code>return</code>替换为<code>yeild</code>即可。</p>
<p>如果一个函数中包含了至少一个<code>yeild</code>语句，这个函数就是生成器。<code>yeild</code>和<code>return</code>都会从函数中返回值。</p>
<p>不同的是，<code>return</code>语句会终止整个函数的执行，<code>yeild</code>语句会暂停函数的执行并且储存函数的状态，在下一次成功调用后继续执行。</p>
<p>生成器函数和普通函数的异同：</p>
<ol>
<li>生成器函数包含了一个或者多个<code>yelid</code>语句</li>
<li>当被调用时，生成器函数返回一个迭代器对象，但是函数不会立即开始执行。</li>
<li><code>__iter()__</code>方法和<code>__next()__</code>方法会被自动的实现，所以可以调用<code>next()</code>函数获取下一个元素。</li>
<li>当函数执行<code>yelid</code>语句时，函数会被暂停执行，控制权会返还给调用者</li>
<li>局部变量和他们的状态在成功的调用之间会被保存</li>
<li>当函数结束时，<code>StopIteration</code>会在下一次的调用时被自动抛出。</li>
</ol>
<p>每个生成器只能被调用一次，要重新开始生成器的调用可以创建一个新的生成器对象，像:<code>a = my_gen()</code></p>
<blockquote>
<p>可以直接在for循环中使用生成器</p>
</blockquote>
<h3 id="生成器表达式-Generator-Expression"><a href="#生成器表达式-Generator-Expression" class="headerlink" title="生成器表达式(Generator Expression)"></a>生成器表达式(Generator Expression)</h3><p>生成器表达式(generateor expression)的语法和列表推导式(list comprehension)的结构很像，只需要把方括号替换为圆括号。</p>
<p>generator expression和list comprehension最主要的区别就是list comprehension每次生成整个列表，但是generator expression每次生成一个元素。</p>
<p>genreator expression只有每次被调用的时候才会输出元素，所以generator expression比list comprehension在内存的使用上跟高效。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Initialize the list</span></span><br><span class="line">my_list = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># square each term using list comprehension</span></span><br><span class="line"><span class="comment"># Output: [1, 9, 36, 100]</span></span><br><span class="line">[x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> my_list]</span><br><span class="line"></span><br><span class="line"><span class="comment"># same thing can be done using generator expression</span></span><br><span class="line"><span class="comment"># Output: &lt;generator object &lt;genexpr&gt; at 0x0000000002EBDAF8&gt;</span></span><br><span class="line">(x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> my_list)</span><br></pre></td></tr></table></figure>
<p>generator expression可以被函数调用，这种情况下圆括号可以省去。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> my_list)</span><br><span class="line"><span class="number">146</span></span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.programiz.com/python-programming/generator" target="_blank" rel="noopener">Python Generators</a></p>
<h2 id="装饰器-decorator"><a href="#装饰器-decorator" class="headerlink" title="装饰器(decorator)"></a>装饰器(decorator)</h2><p>装饰器可以向已经写好的代码中添加功能，程序的一部分可以在编译时修改程序的另一部分。</p>
<blockquote>
<p>everything in python are objects.</p>
</blockquote>
<p>python函数的一些特性：</p>
<ol>
<li>同一个函数对象可以绑定不同的函数名称</li>
<li>函数可以作为参数传递给另一个函数(这些函数也被称为higher order functions)</li>
<li>函数可以把函数当作返回值</li>
</ol>
<p>函数和方法被称为可调用的(called)。在python中任何实现<code>__call__()</code>方法的对象都称为可调用的(called)。</p>
<p>装饰器就是<code>callable</code>并返回<code>callable</code>的对象。</p>
<p>装饰器一般读取一个函数，为其添加功能然后返回。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_pretty</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">"I got decorated"</span>)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ordinary</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"I am ordinary"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ordinary()</span><br><span class="line">I am ordinary</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># let's decorate this ordinary function</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pretty = make_pretty(ordinary)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pretty()</span><br><span class="line">I got decorated</span><br><span class="line">I am ordinary</span><br></pre></td></tr></table></figure>
<p>可以使用@符号和装饰器名称一起使用，放在函数定义前，表示该函数使用该装饰器<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@make_pretty</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ordinary</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"I am ordinary"</span>)</span><br></pre></td></tr></table></figure></p>
<p>等价于<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ordinary</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"I am ordinary"</span>)</span><br><span class="line">ordinary = make_pretty(ordinary)</span><br></pre></td></tr></table></figure></p>
<p>带参数的装饰器需要保证inner function的参数和被修饰的函数参数保持一致。可以用一种通用的装饰器的实现方法：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">works_for_all</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">"I can decorate any function"</span>)</span><br><span class="line">        <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br></pre></td></tr></table></figure></p>
<p><code>args</code>是位置参数的元组，<code>kwargs</code>是默认参数的字典。</p>
<p>同一个函数可以被多个装饰器装饰多次（可以是同一个装饰器）。</p>
<p><a href="https://www.programiz.com/python-programming/decorator" target="_blank" rel="noopener">Python Decorator</a></p>
<h2 id="属性（Property）"><a href="#属性（Property）" class="headerlink" title="属性（Property）"></a>属性（Property）</h2><p>property example:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Celsius</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, temperature = <span class="number">0</span>)</span>:</span></span><br><span class="line">        self.temperature = temperature</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">to_fahrenheit</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (self.temperature * <span class="number">1.8</span>) + <span class="number">32</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_temperature</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"Getting value"</span>)</span><br><span class="line">        <span class="keyword">return</span> self._temperature</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_temperature</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">-273</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"Temperature below -273 is not possible"</span>)</span><br><span class="line">        print(<span class="string">"Setting value"</span>)</span><br><span class="line">        self._temperature = value</span><br><span class="line"></span><br><span class="line">    temperature = property(get_temperature,set_temperature)</span><br></pre></td></tr></table></figure></p>
<p>我们在最后一行创造了一个property对象：<code>temperature</code>。任何获取<code>temperature</code>值的代码会自动调用<code>get_temperature()</code>方法，而不是向<code>__dict__</code>中查找，任何给<code>temperature</code>赋值的代码会自动调用<code>set_temperature()</code>。</p>
<p>在python中，<code>property()</code>是一个内置的函数，创建和返回一个property对象。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">property(fget=<span class="keyword">None</span>, fset=<span class="keyword">None</span>, fdel=<span class="keyword">None</span>, doc=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>fget</code>是获取属性的值的函数，<code>fset</code>是设置属性值的函数，<code>fdel</code>是删除属性的函数，<code>doc</code>是一个字符串（类似于注释）。</p>
<p>property对象有三个方法：<code>gettter()</code>,<code>setter()</code>和<code>delete()</code>用于设置<code>fget</code>,<code>fset</code>和<code>del</code>。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temperature = property(get_temperature,set_temperature)</span><br></pre></td></tr></table></figure></p>
<p>可以等价于<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make empty property</span></span><br><span class="line">temperature = property()</span><br><span class="line"><span class="comment"># assign fget</span></span><br><span class="line">temperature = temperature.getter(get_temperature)</span><br><span class="line"><span class="comment"># assign fset</span></span><br><span class="line">temperature = temperature.setter(set_temperature)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注意：python2中实现property时，需要继承object，否则setter无效。python3默认继承，所以没有问题。</p>
</blockquote>
<h3 id="使用装饰器实现property"><a href="#使用装饰器实现property" class="headerlink" title="使用装饰器实现property"></a>使用装饰器实现property</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Celsius</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, temperature = <span class="number">0</span>)</span>:</span></span><br><span class="line">        self._temperature = temperature</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">to_fahrenheit</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (self.temperature * <span class="number">1.8</span>) + <span class="number">32</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">temperature</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"Getting value"</span>)</span><br><span class="line">        <span class="keyword">return</span> self._temperature</span><br><span class="line"></span><br><span class="line"><span class="meta">    @temperature.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">temperature</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">-273</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"Temperature below -273 is not possible"</span>)</span><br><span class="line">        print(<span class="string">"Setting value"</span>)</span><br><span class="line">        self._temperature = value</span><br></pre></td></tr></table></figure>
<p><a href="https://www.programiz.com/python-programming/property" target="_blank" rel="noopener">Python Property</a></p>
<h2 id="方法和函数的区别"><a href="#方法和函数的区别" class="headerlink" title="方法和函数的区别"></a>方法和函数的区别</h2><blockquote>
<p><strong>function(函数)</strong> —— A series of statements which returns some value toa caller. It can also be passed zero or more arguments which may beused in the execution of the body.</p>
<p><strong>method(方法)</strong> —— A function which is defined inside a class body. If called as an attribute of an instance of that class, the method will get the instance object as its first argument (which isusually called self).</p>
</blockquote>
<p>本质上，函数和方法的区别是：函数属于<code>FunctionObject</code>，而方法属于<code>PyMethodObject</code>。</p>
<p>e.g.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">aa</span><span class="params">(d, na=None, *kasd, **kassd)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">a = A()</span><br><span class="line"><span class="keyword">print</span> aa</span><br><span class="line"><span class="keyword">print</span> A.f</span><br><span class="line"><span class="keyword">print</span> a.f</span><br></pre></td></tr></table></figure></p>
<p>结果：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;function aa at <span class="number">0x0000000004D995F8</span>&gt;</span><br><span class="line">&lt;unbound method A.f&gt;</span><br><span class="line">&lt;bound method A.f of &lt;__main__.A object at <span class="number">0x0000000004DB97F0</span>&gt;&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="Bound-Method-和-Unbound-Method"><a href="#Bound-Method-和-Unbound-Method" class="headerlink" title="Bound Method 和 Unbound Method"></a>Bound Method 和 Unbound Method</h3><p>method还可以分为bound method和unbound method，bound method多了一个实例绑定的过程。</p>
<p>A.f是unbound method，a.f是bound method</p>
<p>bound和unbound的判断依据就是，当方法真正执行时，有没有传入实例。</p>
<p>A.f(a)和a.f()用法的区别只在于，第一种需要认为传入实例才能调用，第二种虚拟机帮我们做好了传入实例的动作，两种方法本质上是等价的。</p>
<h2 id="类方法-classmethod-和静态方法-statimethod"><a href="#类方法-classmethod-和静态方法-statimethod" class="headerlink" title="类方法(classmethod)和静态方法(statimethod)"></a>类方法(classmethod)和静态方法(statimethod)</h2><blockquote>
<p><strong>@classmethod</strong> means: when this method is called, we pass the class as the first argument instead of the instance of that class (as we normally do with methods). This means you can use the class and its properties inside that method rather than a particular instance.</p>
<p><strong>@staticmethod</strong> means: when this method is called, we don’t pass an instance of the class to it (as we normally do with methods). This means you can put a function inside a class but you can’t access the instance of that class (this is useful when your method does not use the instance).</p>
</blockquote>
<p><code>classmethod</code> must have a reference to a class object as the first parameter, whereas <code>staticmethod</code> can have no parameters at all.</p>
<p>example:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, day=<span class="number">0</span>, month=<span class="number">0</span>, year=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self.day = day</span><br><span class="line">        self.month = month</span><br><span class="line">        self.year = year</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">from_string</span><span class="params">(cls, date_as_string)</span>:</span></span><br><span class="line">        day, month, year = map(int, date_as_string.split(<span class="string">'-'</span>))</span><br><span class="line">        date1 = cls(day, month, year)</span><br><span class="line">        <span class="keyword">return</span> date1</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_date_valid</span><span class="params">(date_as_string)</span>:</span></span><br><span class="line">        day, month, year = map(int, date_as_string.split(<span class="string">'-'</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> day &lt;= <span class="number">31</span> <span class="keyword">and</span> month &lt;= <span class="number">12</span> <span class="keyword">and</span> year &lt;= <span class="number">3999</span></span><br><span class="line"></span><br><span class="line">date2 = Date.from_string(<span class="string">'11-09-2012'</span>)</span><br><span class="line">is_date = Date.is_date_valid(<span class="string">'11-09-2012'</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="class-method"><a href="#class-method" class="headerlink" title="class method"></a>class method</h3><p>现在如果有一种需求通过接收一个外部的格式化的字符串(形如dd-mm-yy)需要创造大量的<code>Date</code>的实例。</p>
<p>在C++中可以通过重载的方式实现这种操作(重载Date的构造函数)，但是python没有这种特性。</p>
<p>上述的<code>classmethod</code>方法中，<code>cls</code>这个对象承载的是这个类本身，而不是这个类的实例。并且在<code>cls</code>的子类中也可以获取到这个方法。</p>
<h3 id="static-method"><a href="#static-method" class="headerlink" title="static method"></a>static method</h3><p>静态方法和类方法很像，但是静态方法没有强制性参数的要求。</p>
<p>但是静态方法无法访问这个实例本身，也无法调用类的内部方法和变量。</p>
<p><a href="https://stackoverflow.com/questions/12179271/meaning-of-classmethod-and-staticmethod-for-beginner" target="_blank" rel="noopener">classmethod and staticmethod in stackoverflow</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2018/01/30/python2.7 基础知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/30/python2.7 基础知识/" itemprop="url">python2.7 基础知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-30T21:13:58+08:00">
                2018-01-30
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-02-02T11:08:03+08:00">
                2018-02-02
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/learning-python/" itemprop="url" rel="index">
                    <span itemprop="name">learning python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.pythondoc.com/pythontutorial27/index.html" target="_blank" rel="noopener">python 入门指南</a></p>
<h2 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h2><ol>
<li><code>//</code>运算符用于 floor division 而无论操作数是什么类型。</li>
<li>可以使用 <code>**</code> 运算符计算幂乘方</li>
</ol>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><ol>
<li>使用 原始字符串，方法是在第一个引号前面加上一个 <code>r</code>，例如 <code>r&#39;C:\some\name&#39;</code></li>
<li>字符串文本能够分成多行。一种方法是使用三引号：<code>&quot;&quot;&quot;...&quot;&quot;&quot;</code> 或者 <code>&#39;&#39;&#39;...&#39;&#39;&#39;</code>。行尾换行符会被自动包含到字符串中，但是可以在行尾加上 <code>\</code> 来避免这个行为。</li>
<li>字符串可以由 <code>+</code> 操作符连接(粘到一起)，可以由 <code>*</code> 表示重复</li>
<li>相邻的两个字符串文本自动连接在一起，只用于两个字符串文本，不能用于字符串表达式，如果想连接多个变量或者连接一个变量和一个字符串文本，使用 <code>+</code></li>
<li><p>支持索引和切片。索引用于获得单个字符，切片 让你获得一个子字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>word = <span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">0</span>:<span class="number">2</span>]  <span class="comment"># characters from position 0 (included) to 2 (excluded)</span></span><br><span class="line"><span class="string">'Py'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">2</span>:<span class="number">5</span>]  <span class="comment"># characters from position 2 (included) to 5 (excluded)</span></span><br><span class="line"><span class="string">'tho'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Python字符串不可以被更改—它们是<strong>不可变</strong>的。因此，赋值给字符串索引的位置会导致错误。</p>
</li>
<li>内置函数 len() 返回字符串长度。</li>
</ol>
<h3 id="See-also"><a href="#See-also" class="headerlink" title="See also"></a>See also</h3><blockquote>
<p><a href="https://docs.python.org/2.7/library/stdtypes.html#typesseq" target="_blank" rel="noopener">Sequence Types — str, unicode, list, tuple, bytearray, buffer, xrange</a><br><br><br>字符串和下节描述的Unicode字符串是 序列类型 的例子，它们支持这种类型共同的操作。</p>
<p><a href="https://docs.python.org/2.7/library/stdtypes.html#string-methods" target="_blank" rel="noopener">String Methods</a><br><br><br>字符串和Unicode字符串都支持大量的方法用于基本的转换和查找。<br><br></p>
<p><a href="https://docs.python.org/2.7/library/string.html#new-string-formatting" target="_blank" rel="noopener">String Formatting</a><br><br><br>这里描述了使用 str.format() 进行字符串格式化的信息。</p>
<p><a href="https://docs.python.org/2.7/library/stdtypes.html#string-formatting" target="_blank" rel="noopener">String Formatting Operations</a><br><br><br>这里描述了旧式的字符串格式化操作，它们在字符串和Unicode字符串是 % 操作符的左操作数时调用。</p>
</blockquote>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><ol>
<li>在迭代过程中修改迭代序列不安全(只有在使用链表这样的可变序列时才会有这样的情况)。如果你想要修改你迭代的序列(例如：复制选择项)，你可以迭代它的复本。</li>
<li><p>需要迭代链表索引的话，可以结合使用 range() 和 len()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [&apos;Mary&apos;, &apos;had&apos;, &apos;a&apos;, &apos;little&apos;, &apos;lamb&apos;]</span><br><span class="line">for i in range(len(a)):</span><br><span class="line">    print i, a[i]</span><br></pre></td></tr></table></figure>
</li>
<li><p>循环可以有一个<code>else</code>子句；它在循环迭代完整个列表(对于<code>for</code>)后或执行条件为false(对于<code>while</code>) 时执行，但循环被 <code>break</code>中止的情况下不会执行。</p>
</li>
<li><code>try</code>语句的<code>else</code>子句在未出现异常时运行，循环的<code>else</code>子句在未出现<code>break</code>时运行。</li>
</ol>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ol>
<li>函数调用 会为函数局部变量生成一个新的符号表。确切地说，所有函数中的变量赋值都是将值存储在<strong>局部符号表</strong>。变量引用首先在局部符号表中查找，然后是包含函数的局部符号表，然后是全局符号表，最后是内置名字表。因此，全局变量不能在函数中直接赋值 (除非用<code>global</code>语句命名)，尽管他们可以被引用。</li>
<li>函数引用的实际参数在函数调用时引入局部符号表，因此，实参总是传值调用(这里的值总是一个对象引用，而不是该对象的值)。</li>
<li>没有 return 语句的函数确实会返回一个值： <code>None</code>。</li>
<li><strong>函数默认值只被赋值一次</strong>。这使得当默认值是可变对象时会有所不同，比如列表、字典或者大多数类的实例。</li>
<li><code>def</code>是一个可执行指令，只有<code>def</code>执行的时候才会计算默认默认参数的值</li>
<li>在函数调用中，关键字的参数必须跟随在位置参数的后面。</li>
<li>引入一个形如<code>**name</code>的参数时，它接收一个字典。形如<code>*name</code>的形式参数，它接收一个元组。</li>
<li>可以在调用函数时加一个<code>*</code>操作符来自动把参数列表拆开。使用 <code>**</code> 操作符分拆关键字参数为字典。</li>
</ol>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">list.append(x)</span><br><span class="line">把一个元素添加到链表的结尾，相当于 a[len(a):] = [x]。</span><br><span class="line"></span><br><span class="line">list.extend(L)</span><br><span class="line">将一个给定列表中的所有元素都添加到另一个列表中，相当于 a[len(a):] = L。</span><br><span class="line"></span><br><span class="line">list.insert(i, x)</span><br><span class="line">在指定位置插入一个元素。第一个参数是准备插入到其前面的那个元素的索引。</span><br><span class="line">例如 a.insert(<span class="number">0</span>, x) 会插入到整个链表之前，而 a.insert(len(a), x) 相当于 a.append(x)。</span><br><span class="line"></span><br><span class="line">list.remove(x)</span><br><span class="line">删除链表中值为 x 的第一个元素。如果没有这样的元素，就会返回一个错误。</span><br><span class="line"></span><br><span class="line">list.pop([i])</span><br><span class="line">从链表的指定位置删除元素，并将其返回。</span><br><span class="line">如果没有指定索引，a.pop()返回最后一个元素。元素随即从链表中被删除。</span><br><span class="line"><span class="string">"方法中 i 两边的方括号表示这个参数是可选的，而不是要求你输入一对方括号。"</span></span><br><span class="line"></span><br><span class="line">list.index(x)</span><br><span class="line">返回链表中第一个值为 x 的元素的索引。如果没有匹配的元素就会返回一个错误。</span><br><span class="line"></span><br><span class="line">list.count(x)</span><br><span class="line">返回 x 在链表中出现的次数。</span><br><span class="line"></span><br><span class="line">list.sort(cmp=<span class="keyword">None</span>, key=<span class="keyword">None</span>, reverse=<span class="keyword">False</span>)</span><br><span class="line">对链表中的元素就地进行排序（参数可以用来自定义排序方法）。</span><br><span class="line"></span><br><span class="line">list.reverse()</span><br><span class="line">就地倒排链表中的元素。</span><br></pre></td></tr></table></figure>
<h3 id="函数式编程工具"><a href="#函数式编程工具" class="headerlink" title="函数式编程工具"></a>函数式编程工具</h3><h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h4><p><code>filter(function, sequence)</code>返回一个 sequence(序列)，包括了给定序列中所有调用 function(item) 后返回值为 true 的元素(如果可能的话，会返回相同的类型)。<br>如果该序列 (sequence)是一个 str, unicode 或者 tuple，返回值必定是同一类型，否则，它总是 list。</p>
<h4 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h4><p><code>map(function, sequence)</code>为每一个元素依次调用 function(item) 并将返回值组成一个链表返回。</p>
<p>可以传入多个序列，函数也必须要有对应数量的参数，执行时会依次用各序列上对应的元素来调用函数(如果某些序列比其它的短，就用 None 来代替)。如果把 None 做为一个函数传入，则直接返回参数做为替代。</p>
<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h4><p><code>reduce(function, sequence)</code>返回一个单值，它是这样构造的：首先以序列的前两个元素调用函数 function，再以返回值和第三个参数调用，依次执行下去。</p>
<p>如果序列中只有一个元素，就返回它，如果序列是空的，就抛出一个异常。</p>
<p>可以传入第三个参数作为初始值。如果序列是空的，就返回初始值，否则函数会先接收初始值和序列的第一个元素，然后是返回值和下一个元素，依此类推。</p>
<h3 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h3><p>列表推导式由包含一个表达式的括号组成，表达式后面跟随一个 for 子句，之后可以有零或多个 for 或 if 子句。结果是一个列表，由表达式依据其后面的 for 和 if 子句上下文计算而来的结果构成。</p>
<p>例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">squares = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[(x, y) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="keyword">for</span> y <span class="keyword">in</span> [<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>] <span class="keyword">if</span> x != y]</span><br><span class="line">[(<span class="number">1</span>, <span class="number">3</span>), (<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">3</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">1</span>), (<span class="number">3</span>, <span class="number">4</span>)]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> pi</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[str(round(pi, i)) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">6</span>)]</span><br><span class="line">[<span class="string">'3.1'</span>, <span class="string">'3.14'</span>, <span class="string">'3.142'</span>, <span class="string">'3.1416'</span>, <span class="string">'3.14159'</span>]</span><br></pre></td></tr></table></figure></p>
<p>列表推导式可以嵌套。</p>
<p>例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>matrix = [</span><br><span class="line"><span class="meta">... </span>    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line"><span class="meta">... </span>    [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>],</span><br><span class="line"><span class="meta">... </span>    [<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>],</span><br><span class="line"><span class="meta">... </span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[[row[i] <span class="keyword">for</span> row <span class="keyword">in</span> matrix] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>)]</span><br><span class="line">[[<span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>], [<span class="number">2</span>, <span class="number">6</span>, <span class="number">10</span>], [<span class="number">3</span>, <span class="number">7</span>, <span class="number">11</span>], [<span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>]]</span><br></pre></td></tr></table></figure></p>
<h3 id="del语句"><a href="#del语句" class="headerlink" title="del语句"></a>del语句</h3><p><code>del</code>语句可以从列表中按给定的索引而不是值来删除一个子项。<br>它不同于有返回值的 pop() 方法。语句 del 还可以从列表中删除切片或清空整个列表(我们以前介绍过一个方法是将空列表赋值给列表的切片)。</p>
<p>del 也可以删除整个变量。</p>
<h2 id="元组和序列"><a href="#元组和序列" class="headerlink" title="元组和序列"></a>元组和序列</h2><p>一个元组由数个逗号分隔的值组成。</p>
<p>元组在输出时总是有括号的，以便于正确表达嵌套结构。在输入时可以有或没有括号，不过经常括号都是必须的(如果元组是一个更大的表达式的一部分)。</p>
<p>不能给元组的一个独立的元素赋值(尽管你可以通过联接和切割来模拟)。还可以创建包含可变对象的元组，例如链表。</p>
<p>元组是<strong>不可变的</strong>，通常包含不同种类的元素并通过分拆或索引访问（如果是 namedtuples，甚至可以通过属性）。列表是<strong>可变的</strong>，它们的元素通常是相同的类型并通过迭代访问。</p>
<p>构造包含零个或一个元素的元组：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>empty = ()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>singleton = <span class="string">'hello'</span>,    <span class="comment"># &lt;-- note trailing comma</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>可变参数(multiple assignment)其实只是元组封装和序列拆封的一个结合。</p>
</blockquote>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>集合是一个无序不重复元素的集。集合对象还支持union(联合)，intersection(交)，difference(差)和 sysmmetric difference(对称差集)等数学运算。</p>
<p>大括号或set()函数可以用来创建集合。注意：想要创建空集合，你必须使用 set() 而不是 {}。后者用于创建空字典。</p>
<p>类似列表推导式，集合也有推导式语法：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = &#123;x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">'abracadabra'</span> <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">'abc'</span>&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>字典以 关键字 为索引，关键字可以是任意<strong>不可变类型</strong>，通常用字符串或数值。如果元组中只包含字符串和数字，它可以作为关键字，如果它直接或间接地包含了可变对象，就不能当做关键字。</p>
<p>字典的主要操作是依据键来存储和析取值。也可以用<code>del</code>来删除键：值对(key:value)。</p>
<p>对一个字典执行<code>keys()</code>将返回一个字典中所有关键字组成的无序列表(如果你想要排序，只需使用 sorted())。</p>
<p>dict() 构造函数可以直接从 key-value 对中创建字典:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict([(<span class="string">'sape'</span>, <span class="number">4139</span>), (<span class="string">'guido'</span>, <span class="number">4127</span>), (<span class="string">'jack'</span>, <span class="number">4098</span>)])</span><br></pre></td></tr></table></figure></p>
<p>字典推导式可以从任意的键值表达式中创建字典:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>)&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果关键字都是简单的字符串，有时通过关键字参数指定 key-value 对更为方便:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict(sape=<span class="number">4139</span>, guido=<span class="number">4127</span>, jack=<span class="number">4098</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>模块可以包含执行语句，一般用来初始化模块，仅在第一次被导入的地方执行一次。</p>
<p>每个模块都有自己私有的符号表，被模块内所有的函数定义作为全局符号表使用。因此，模块的作者可以在模块内部使用全局变量，而无需担心它与某个用户的全局变量意外冲突。也可以引用模块函数的表示法访问模块的全局变量，<code>modname.itemname</code>。</p>
<blockquote>
<p>出于性能考虑，每个模块在每个解释器会话中只导入一遍。因此，如果修改了模块，需要重启解释器或者如果想交互式的测试这么一个模块，可以用<code>reload()</code>重新加载，例如 reload(modulename)。</p>
</blockquote>
<p>如果调用python module.py执行某个模块，此时改模块的<code>__name__</code>被设置为<code>__main__</code>。如果在模块后加入代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></p>
<p>就可以让此文件像作为模块导入时一样作为脚本执行。此代码只有在模块作为 “main” 文件执行时才被调用。如果模块被导入，则不会执行这段代码。</p>
<p>当导入一个叫<code>module</code>的模块时，解释器现在当前的目录中搜索名为<code>module.py</code>的文件，如果没有找到的话，接着会到sys.path变量中给出的目录列表中查找。</p>
<p>sys.path变量的初始值：</p>
<ol>
<li>输入脚本的目录(当前目录)。</li>
<li>环境变量<code>PYTHONPATH</code>表示的目录列表中搜索</li>
<li>Python 默认安装路径中搜索。</li>
</ol>
<p>如果在<code>name.py</code>所在的目录下存在一个名为<code>name.pyc</code>的文件，它会被视为<code>name</code>模块的预编译(<code>byte-compiled</code>,二进制编译版本)，对于引用了大量标准模块的短程序，可以提高启动速度。用于创建<code>name.pyc</code>的这一版<code>spam.py</code>的修改时间记录在<code>spam.pyc</code>文件中，如果两者不匹配，<code>.pyc</code>文件就被忽略。</p>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>为了让 Python 将目录当做内容包，目录中必须包含<code>__init__.py</code>文件。这是为了避免一个含有烂俗名字的目录无意中隐藏了稍后在模块搜索路径中出现的有效模块，比如<code>string</code>。最简单的情况下，只需要一个空的<code>__init__.py</code>文件即可。当然它也可以执行包的初始化代码，或者定义<code>__all__</code>变量。</p>
<p>执行<code>from package import *</code>时，如果包中的<code>__init__.py</code>代码定义了一个名为<code>__all__</code>的列表，就会按照列表中给出的模块名进行导入。</p>
<p>显式或隐式相对位置导入都基于当前模块的命名。因为主模块的名字总是 <code>__main__</code>，Python 应用程序的主模块应该总是用绝对导入。</p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>try 语句按如下方式工作：</p>
<ul>
<li>首先，执行 try 子句(在 try 和 except 关键字之间的部分)。</li>
<li>如果没有异常发生，except 子句在 try 语句执行完毕后就被忽略了。</li>
<li><p>如果在 try 子句执行过程中发生了异常，那么该子句其余的部分就会被忽略。<br>如果异常匹配于 except 关键字后面指定的异常类型，<br>就执行对应的 except 子句。<br>然后继续执行 try 语句之后的代码。</p>
</li>
<li><p>如果发生了一个异常，在 except 子句中没有与之匹配的分支，<br>它就会传递到上一级 try 语句中。<br>如果最终仍找不到对应的处理语句，它就成为一个 未处理异常，终止程序运行，显示提示信息。</p>
</li>
</ul>
<p>一个 try 语句可能包含多个 except 子句，分别指定处理不同的异常。至多只会有一个分支被执行。异常处理程序只会处理对应的 try 子句中发生的异常，在同一个 try 语句中，其他子句中发生的异常则不作处理。一个 except 子句可以在括号中列出多个异常的名字，例如:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> (RuntimeError, TypeError, NameError):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></p>
<p>最后一个 except 子句可以省略异常名称，以作为通配符使用。你需要慎用此法，因为它会轻易隐藏一个实际的程序错误！可以使用这种方法打印一条错误信息，然后重新抛出异常(允许调用者处理这个异常):<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> IOError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure></p>
<p>try … except 语句可以带有一个 else子句 ，该子句只能出现在所有 except 子句之后。当 try 语句没有抛出异常时，需要执行一些代码，可以使用这个子句。</p>
<p><code>raise</code>语句允许程序员强制抛出一个指定的异常。要抛出的异常由<code>raise</code>的唯一参数标识。它必需是一个异常实例或异常类(继承自 Exception 的类)。<br>如果你需要明确一个异常是否抛出，但不想处理它，<code>raise</code>语句可以让你很简单的重新抛出该异常。</p>
<p>不管有没有发生异常，finally子句 在程序离开 try 后都一定会被执行。当 try 语句中发生了未被 except 捕获的异常(或者它发生在 except 或 else 子句中)，在 finally 子句执行完后它会被重新抛出。try 语句经由 break，continue 或 return 语句退出也一样会执行 finally 子句。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> KeyboardInterrupt</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Goodbye, world!'</span></span><br></pre></td></tr></table></figure></p>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h3 id="命名空间和作用域"><a href="#命名空间和作用域" class="headerlink" title="命名空间和作用域"></a>命名空间和作用域</h3><p>命名空间 是从命名到对象的映射。当前命名空间主要是通过 Python 字典实现的。</p>
<p>不同命名空间中的命名没有任何联系。</p>
<p>不同的命名空间在不同的时刻创建，有不同的生存期。包含内置命名的命名空间在 Python 解释器启动时创建，会一直保留，不被删除。模块的全局命名空间在模块定义被读入时创建，通常，模块命名空间也会一直保存到解释器退出。由解释器在最高层调用执行的语句，不管它是从脚本文件中读入还是来自交互式输入，都是<code>__main__</code>模块的一部分，所以它们也拥有自己的命名空间(内置命名也同样被包含在一个模块中，它被称作<code>__builtin__</code>)。</p>
<p>当调用函数时，就会为它创建一个局部命名空间，并且在函数返回或抛出一个并没有在函数内部处理的异常时被删除。每个递归调用都有自己的局部命名空间。</p>
<h4 id="作用于访问顺序："><a href="#作用于访问顺序：" class="headerlink" title="作用于访问顺序："></a>作用于访问顺序：</h4><p>包含局部命名的使用域在最里面，首先被搜索；其次搜索的是中层的作用域，这里包含了同级的函数；最后搜索最外面的作用域，它包含内置命名。</p>
<ul>
<li>首先搜索最内层的作用域，它包含局部命名任意函数包含的作用域，是内层嵌套作用域搜索起点，包含非局部，但是也非全局的命名</li>
<li>接下来的作用域包含当前模块的全局命名</li>
<li>最外层的作用域(最后搜索)是包含内置命名的命名空间。</li>
</ul>
<p>一个定义于某模块中的函数的全局作用域是该模块的命名空间，而不是该函数的别名被定义或调用的位置。</p>
<h3 id="类对象"><a href="#类对象" class="headerlink" title="类对象"></a>类对象</h3><p>类对象支持两种操作：属性引用和实例化。</p>
<p>类定义了<code>__init__()</code>方法的话，类的实例化操作会自动为新创建的类实例调用<code>__init__()</code>方法。</p>
<p>和局部变量一样，数据属性不需要声明，第一次使用时它们就会生成。</p>
<p>类中所有(用户定义)的函数对象对应它的实例中的方法。实例中的函数是方法对象，不是函数对象。</p>
<p>例子：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="string">"""A simple example class"""</span></span><br><span class="line">    i = <span class="number">12345</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'hello world'</span></span><br><span class="line">x = MyClass()</span><br></pre></td></tr></table></figure></p>
<p>方法的特别之处在于实例对象作为函数的第一个参数传给了函数。</p>
<p>调用<code>x.f()</code>相当于<code>MyClass.f(x)</code></p>
<blockquote>
<p>引用非数据属性的实例属性时，会搜索它的类。如果这个命名确认为一个有效的函数对象类属性，就会将实例对象和函数对象封装进一个抽象对象：这就是方法对象。以一个参数列表调用方法对象时，它被重新拆 封，用实例对象和原始的参数列表构造一个新的参数列表，然后函数对象调用这个新的参数列表。</p>
</blockquote>
<p>一般来说，<code>实例变量</code>用于对每一个实例都是唯一的数据，<code>类变量</code>用于类的所有实例共享的属性和方法。</p>
<p>数据属性会覆盖同名的方法属性。</p>
<p>方法可以像引用普通的函数那样引用全局命名。与方法关联的全局作用域是包含类定义的模块(类本身永远不会做为全局作用域使用)。</p>
<blockquote>
<p>对于 C++ 程序员来说，Python 中的所有方法本质上都是虚方法</p>
</blockquote>
<p>派生类中的覆盖方法可能是想要扩充而不是简单的替代基类中的重名方法。有一个简单的方法可以直接调用基类方法，只要调用：<code>BaseClassName.methodname(self, arguments)</code>。</p>
<h2 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h2><ul>
<li><p>在Python源文件中可以使用非 ASCII 编码。最好的方法是在 #! 行的后面再增加一行特殊的注释来定义源文件的编码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: encoding -*-</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="http://www.pythondoc.com/pythontutorial27/classes.html#tut-iterators" target="_blank" rel="noopener">迭代器</a></p>
</li>
<li><p><a href="http://www.pythondoc.com/pythontutorial27/classes.html#tut-generators" target="_blank" rel="noopener">生成器</a></p>
</li>
<li><p><a href="http://www.pythondoc.com/pythontutorial27/inputoutput.html" target="_blank" rel="noopener">格式化输入和输出</a></p>
</li>
<li><p><a href="http://www.pythondoc.com/pythontutorial27/inputoutput.html#tut-files" target="_blank" rel="noopener">文件读写</a></p>
</li>
<li><p>序列中循环时，索引位置和对应值可以使用<code>enumerate()</code>函数同时得到:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate([<span class="string">'tic'</span>, <span class="string">'tac'</span>, <span class="string">'toe'</span>]):</span><br><span class="line"><span class="meta">... </span>    print(i, v)</span><br></pre></td></tr></table></figure>
</li>
<li><p>同时循环两个或更多的序列，可以使用 zip() 整体打包:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>questions = [<span class="string">'name'</span>, <span class="string">'quest'</span>, <span class="string">'favorite color'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>answers = [<span class="string">'lancelot'</span>, <span class="string">'the holy grail'</span>, <span class="string">'blue'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> q, a <span class="keyword">in</span> zip(questions, answers):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'What is your &#123;0&#125;?  It is &#123;1&#125;.'</span>.format(q, a)</span><br></pre></td></tr></table></figure>
</li>
<li><p>需要逆向循环序列的话，先正向定位序列，然后调用 reversed() 函数:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> reversed(xrange(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>)):</span><br><span class="line"><span class="meta">... </span>    print(i)</span><br></pre></td></tr></table></figure>
</li>
<li><p>sorted() 函数不改动原序列，而是生成一个新的已排序的序列。</p>
</li>
<li><p>遍历字典时，使用 iteritems() 方法可以同时得到键和对应的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>knights = &#123;<span class="string">'gallahad'</span>: <span class="string">'the pure'</span>, <span class="string">'robin'</span>: <span class="string">'the brave'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> knights.iteritems():</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> k, v</span><br></pre></td></tr></table></figure>
</li>
<li><p>在循环内部修改正在遍历的序列，应首先制作副本：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">words = [<span class="string">'cat'</span>, <span class="string">'window'</span>, <span class="string">'defenestrate'</span>]</span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> words[:]:  <span class="comment"># Loop over a slice copy of the entire list.</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>print 用一个逗号结尾就可以禁止输出换行</p>
</li>
</ul>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li><code>is</code> 用来判断两个对象是否是同一个对象，<code>==</code> 用来判断两个对象是否相等</li>
</ol>
<h2 id="编码风格"><a href="#编码风格" class="headerlink" title="编码风格"></a>编码风格</h2><ul>
<li>使用 4 空格缩进，而非 TAB。</li>
<li>在小缩进(可以嵌套更深)和大缩进(更易读)之间，4 空格是一个很好的折中。TAB 引发了一些混乱，最好弃用。</li>
<li>折行以确保其不会超过 79 个字符。</li>
<li>这有助于小显示器用户阅读，也可以让大显示器能并排显示几个代码文件。</li>
<li>使用空行分隔函数和类，以及函数中的大块代码。</li>
<li>可能的话，注释独占一行</li>
<li>使用文档字符串</li>
<li>把空格放到操作符两边，以及逗号后面，但是括号里侧不加空格：a = f(1, 2) + g(3, 4)。</li>
<li>统一函数和类命名。</li>
<li>推荐类名用 驼峰命名，函数和方法名用小写<em>和</em>下划线。总是用self作为方法的第一个参数(关于类和方法的知识详见 初识类)。</li>
<li>不要使用花的编码，如果你的代码的目的是要在国际化环境。Python的默认情况下，UTF-8，甚至普通的 ASCII 总是工作的最好。</li>
<li>同样，也不要使用非 ASCII 字符的标识符，除非是不同语种的会阅读或者维护代码。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2018/01/30/Lua-Table-Parser/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/30/Lua-Table-Parser/" itemprop="url">Lua Table Parser</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-30T18:03:35+08:00">
                2018-01-30
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-02-07T22:07:11+08:00">
                2018-02-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Lua-Table-Parser-使用说明"><a href="#Lua-Table-Parser-使用说明" class="headerlink" title="Lua Table Parser 使用说明"></a>Lua Table Parser 使用说明</h1><p>PyLuaTblParser类中有两个私有变量：</p>
<ol>
<li><code>self.str_praser</code>是类<code>LuaStrParser</code>的实例，用来实现lua字符串的解析。</li>
<li><code>self.lua_table</code>是一个<code>dict</code>或者<code>list</code>，用来储存从lua table字符串或者其他dict中读取的数据。</li>
</ol>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load</span><span class="params">(self, s)</span>:</span></span><br><span class="line">读取Lua table数据，输入s为一个符合Lua table定义的字符串，无返回值</span><br><span class="line">遇到Lua table格式错误则抛出异常</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dump</span><span class="params">(self)</span>:</span></span><br><span class="line">根据类中数据返回Lua table字符串</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadLuaTable</span><span class="params">(self, f)</span>:</span></span><br><span class="line">从文件中读取Lua table字符串，f为文件路径，遇到Lua Table的格式错误则抛出异常，文件操作失败抛出异常</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dumpLuaTable</span><span class="params">(self, f)</span>:</span></span><br><span class="line">将类中的内容以Lua table格式存入文件，f为文件路径，文件若存在则覆盖，文件操作失败抛出异常</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDict</span><span class="params">(self, d)</span>:</span></span><br><span class="line">读取dict中的数据，存入类中，只处理数字和字符串两种类型的key，其他类型的key直接忽略</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dumpDict</span><span class="params">(self)</span>:</span></span><br><span class="line">返回一个dict，包含类中的数据</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, d)</span>:</span></span><br><span class="line">用字典d更新类中的数据，类似于字典的update</span><br><span class="line"></span><br><span class="line">PyLuaTblParser类支持用[]进行赋值、读写数据的操作，类似字典</span><br></pre></td></tr></table></figure>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LuaStrParser</span>:</span></span><br><span class="line">    __spaceChars = [<span class="string">' '</span>, <span class="string">'\t'</span>, <span class="string">'\n'</span>, <span class="string">'\r'</span>]</span><br><span class="line">    __stopChars = [<span class="string">' '</span>, <span class="string">'\t'</span>, <span class="string">'\n'</span>, <span class="string">'\r'</span>, <span class="string">'='</span>, <span class="string">','</span>, <span class="string">';'</span>, <span class="string">'&#125;'</span>, <span class="string">']'</span>]</span><br><span class="line">    keyTypes = [int, float, str]</span><br><span class="line"></span><br><span class="line">    __specialChars = &#123;</span><br><span class="line">        <span class="string">'a'</span>: <span class="string">'\a'</span>, <span class="string">'b'</span>: <span class="string">'\b'</span>, <span class="string">'f'</span>: <span class="string">'\f'</span>, <span class="string">'n'</span>: <span class="string">'\n'</span>, <span class="string">'r'</span>: <span class="string">'\r'</span>, <span class="string">'t'</span>: <span class="string">'\t'</span>, <span class="string">'v'</span>: <span class="string">'\v'</span>,</span><br><span class="line">        <span class="string">'\\'</span>: <span class="string">'\\'</span>, <span class="string">'"'</span>: <span class="string">'"'</span>, <span class="string">"'"</span>: <span class="string">"'"</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    __reverseSpecialChars = &#123;</span><br><span class="line">        <span class="string">'\a'</span>: <span class="string">'\\a'</span>, <span class="string">'\b'</span>: <span class="string">'\\b'</span>, <span class="string">'\f'</span>: <span class="string">'\\f'</span>, <span class="string">'\n'</span>: <span class="string">'\\n'</span>, <span class="string">'\r'</span>: <span class="string">'\\r'</span>, <span class="string">'\t'</span>: <span class="string">'\\t'</span>, <span class="string">'\v'</span>: <span class="string">'\\v'</span>,</span><br><span class="line">        <span class="string">'\\'</span>: <span class="string">'\\\\'</span>, <span class="string">'"'</span>: <span class="string">'\\"'</span>, <span class="string">"'"</span>: <span class="string">"\\'"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__lua_object = <span class="keyword">None</span></span><br><span class="line">        self.__lua_str = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__jumpSpace</span><span class="params">(self, string, loc)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> loc &lt; len(string) <span class="keyword">and</span> string[loc] <span class="keyword">in</span> self.__spaceChars:</span><br><span class="line">            loc += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> loc</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getBackSlashNum</span><span class="params">(self, lua_str, loc)</span>:</span></span><br><span class="line">        backslash_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> loc &gt;= <span class="number">0</span> <span class="keyword">and</span> lua_str[loc] == <span class="string">'\\'</span>:</span><br><span class="line">            loc -= <span class="number">1</span></span><br><span class="line">            backslash_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> backslash_num</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getStringEnd</span><span class="params">(self, lua_str, loc, quote)</span>:</span></span><br><span class="line">        result = loc + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> lua_str[loc] == quote:</span><br><span class="line">            end = lua_str.find(quote, loc + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> end != loc + <span class="number">1</span>:</span><br><span class="line">                at_end = <span class="keyword">False</span></span><br><span class="line">                <span class="keyword">while</span> <span class="keyword">not</span> at_end:</span><br><span class="line">                    <span class="keyword">if</span> self.__getBackSlashNum(lua_str, end - <span class="number">1</span>) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                        at_end = <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> at_end:</span><br><span class="line">                        end = lua_str.find(quote, end + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> end &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">raise</span> Exception(<span class="string">"wrong quotes!"</span>)</span><br><span class="line">            result = end</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getStringConent</span><span class="params">(self, lua_str, loc)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        return the string in the  @para lua_str</span></span><br><span class="line"><span class="string">        thee result contain the quotes"""</span></span><br><span class="line">        loc = self.__jumpSpace(lua_str, loc)</span><br><span class="line">        result = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> lua_str[loc] == <span class="string">'"'</span> <span class="keyword">or</span> lua_str[loc] == <span class="string">"'"</span>:</span><br><span class="line">            end = self.__getStringEnd(lua_str, loc, lua_str[loc])</span><br><span class="line">            result = lua_str[loc: end + <span class="number">1</span>]</span><br><span class="line">            loc = end + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result, loc</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__removeComment</span><span class="params">(self, lua_str)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        loc = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> loc &lt; len(lua_str):</span><br><span class="line">            <span class="comment"># string should be add in result directly</span></span><br><span class="line">            <span class="keyword">if</span> lua_str[loc] == <span class="string">'"'</span> <span class="keyword">or</span> lua_str[loc] == <span class="string">"'"</span>:</span><br><span class="line">                string, loc = self.__getStringConent(lua_str, loc)</span><br><span class="line">                result += string</span><br><span class="line">            <span class="comment"># remove comment</span></span><br><span class="line">            <span class="keyword">elif</span> lua_str[loc] == <span class="string">'-'</span>:</span><br><span class="line">                <span class="keyword">if</span> loc + <span class="number">1</span> &lt; len(lua_str) <span class="keyword">and</span> lua_str[loc + <span class="number">1</span>] == <span class="string">'-'</span>:</span><br><span class="line">                    loc += <span class="number">2</span></span><br><span class="line">                    <span class="comment"># multi line comments</span></span><br><span class="line">                    <span class="keyword">if</span> loc + <span class="number">1</span> &lt; len(lua_str) <span class="keyword">and</span> lua_str[loc:loc + <span class="number">2</span>] == <span class="string">'[['</span>:</span><br><span class="line">                        loc = lua_str.find(<span class="string">']]'</span>, loc + <span class="number">1</span>) + <span class="number">2</span></span><br><span class="line">                    <span class="comment"># single line comment</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        loc = lua_str.find(<span class="string">'\n'</span>, loc + <span class="number">1</span>) + <span class="number">1</span></span><br><span class="line">                    <span class="comment"># add a space after remove the comment</span></span><br><span class="line">                    result += <span class="string">' '</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result += lua_str[loc]</span><br><span class="line">                    loc += <span class="number">1</span></span><br><span class="line">            <span class="comment"># remove '\r'</span></span><br><span class="line">            <span class="keyword">elif</span> lua_str[loc] == <span class="string">'\r'</span>:</span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result += lua_str[loc]</span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getRightBrace</span><span class="params">(self, lua_str, loc)</span>:</span></span><br><span class="line">        loc = lua_str.find(<span class="string">'&#123;'</span>, loc) + <span class="number">1</span></span><br><span class="line">        left_barce_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> loc &lt; len(lua_str):</span><br><span class="line">            <span class="keyword">if</span> lua_str[loc] == <span class="string">'"'</span> <span class="keyword">or</span> lua_str[loc] == <span class="string">"'"</span>:</span><br><span class="line">                loc = self.__getStringEnd(lua_str, loc, lua_str[loc]) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> lua_str[loc] == <span class="string">'&#123;'</span>:</span><br><span class="line">                left_barce_num -= <span class="number">1</span></span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> lua_str[loc] == <span class="string">'&#125;'</span>:</span><br><span class="line">                left_barce_num += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> left_barce_num &gt;= <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> loc == len(lua_str):</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">"wrong number of brace"</span>)</span><br><span class="line">        <span class="keyword">return</span> loc</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getRightBracket</span><span class="params">(self, lua_str, loc)</span>:</span></span><br><span class="line">        loc = lua_str.find(<span class="string">'['</span>, loc) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> loc &lt; len(lua_str):</span><br><span class="line">            <span class="keyword">if</span> lua_str[loc] == <span class="string">'"'</span> <span class="keyword">or</span> lua_str[loc] == <span class="string">"'"</span>:</span><br><span class="line">                loc = self.__getStringEnd(lua_str, loc, lua_str[loc]) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> lua_str[loc] == <span class="string">']'</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> loc == len(lua_str):</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">"wrong number of bracket"</span>)</span><br><span class="line">        <span class="keyword">return</span> loc</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getLastBrace</span><span class="params">(self, lua_str)</span>:</span></span><br><span class="line">        end = len(lua_str) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> end &gt;= <span class="number">0</span> <span class="keyword">and</span> lua_str[end] != <span class="string">'&#125;'</span>:</span><br><span class="line">            end -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> end &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">"wrong number of brace"</span>)</span><br><span class="line">        <span class="keyword">return</span> end</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__readNum</span><span class="params">(self, number_str)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            num = eval(number_str)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> num</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getRealStr</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; len(s):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">'\\'</span>:</span><br><span class="line">                <span class="keyword">if</span> i + <span class="number">1</span> &lt; len(s) <span class="keyword">and</span> s[i + <span class="number">1</span>] <span class="keyword">in</span> self.__specialChars.keys():</span><br><span class="line">                    result += self.__specialChars[s[i+<span class="number">1</span>]]</span><br><span class="line">                    i += <span class="number">2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result += s[i]</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result += s[i]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="comment"># print s, "&gt;&gt;" , result</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__readValue</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        value = value.strip()</span><br><span class="line">        <span class="keyword">if</span> len(value) &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> value[<span class="number">0</span>] == <span class="string">'"'</span> <span class="keyword">or</span> value[<span class="number">0</span>] == <span class="string">"'"</span>:</span><br><span class="line">                <span class="keyword">return</span> self.__getRealStr(value[<span class="number">1</span>:len(value) - <span class="number">1</span>]), str</span><br><span class="line">            <span class="keyword">elif</span> value == <span class="string">'nil'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span>, <span class="string">"nil"</span></span><br><span class="line">            <span class="keyword">elif</span> value == <span class="string">'false'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span>, bool</span><br><span class="line">            <span class="keyword">elif</span> value == <span class="string">'true'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span>, bool</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                number = self.__readNum(value)</span><br><span class="line">                <span class="keyword">if</span> isinstance(number, int):</span><br><span class="line">                    <span class="keyword">return</span> number, int</span><br><span class="line">                <span class="keyword">elif</span> isinstance(number, float):</span><br><span class="line">                    <span class="keyword">return</span> number, float</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span>, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">return</span> value, str</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__readStatement</span><span class="params">(self, lua_str, loc)</span>:</span></span><br><span class="line">        loc = self.__jumpSpace(lua_str, loc)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> lua_str[loc] == <span class="string">'&#123;'</span>:</span><br><span class="line">            end = self.__getRightBrace(lua_str, loc)</span><br><span class="line">            stat = self.__parserLuaStr(lua_str[loc: end + <span class="number">1</span>])</span><br><span class="line">            stat_type = type(stat)</span><br><span class="line">            loc = end + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> lua_str[loc] == <span class="string">'['</span>:</span><br><span class="line">            end = self.__getRightBracket(lua_str, loc)</span><br><span class="line">            stat, stat_type = self.__readValue(lua_str[loc + <span class="number">1</span>: end])</span><br><span class="line">            loc = end + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> lua_str[loc] == <span class="string">'"'</span> <span class="keyword">or</span> lua_str[loc] == <span class="string">"'"</span>:</span><br><span class="line">            end = self.__getStringEnd(lua_str, loc, lua_str[loc])</span><br><span class="line">            stat = lua_str[loc + <span class="number">1</span>: end]</span><br><span class="line">            stat = self.__getRealStr(stat)</span><br><span class="line">            stat_type = str</span><br><span class="line">            loc = end + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            end = loc</span><br><span class="line">            <span class="keyword">while</span> end &lt; len(lua_str) <span class="keyword">and</span> lua_str[end] <span class="keyword">not</span> <span class="keyword">in</span> self.__stopChars:</span><br><span class="line">                end += <span class="number">1</span></span><br><span class="line">            stat, stat_type = self.__readValue(lua_str[loc: end])</span><br><span class="line">            loc = end</span><br><span class="line">        <span class="keyword">return</span> stat, stat_type, loc</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__parserLuaStr</span><span class="params">(self, lua_str)</span>:</span></span><br><span class="line">        loc = lua_str.find(<span class="string">'&#123;'</span>) + <span class="number">1</span></span><br><span class="line">        end = self.__getLastBrace(lua_str)</span><br><span class="line">        has_equal = <span class="keyword">False</span></span><br><span class="line">        keys = []</span><br><span class="line">        values = []</span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span> &lt;= loc &lt; end:</span><br><span class="line">            key, key_type, loc = self.__readStatement(lua_str, loc)</span><br><span class="line">            value, value_type = <span class="keyword">None</span>, <span class="keyword">None</span></span><br><span class="line">            has_value = <span class="keyword">False</span></span><br><span class="line">            loc = self.__jumpSpace(lua_str, loc)</span><br><span class="line">            <span class="keyword">if</span> lua_str[loc] == <span class="string">'='</span>:</span><br><span class="line">                has_value = has_equal = <span class="keyword">True</span></span><br><span class="line">                loc += <span class="number">1</span></span><br><span class="line">                value, value_type, loc = self.__readStatement(lua_str, loc)</span><br><span class="line">                loc = self.__jumpSpace(lua_str, loc)</span><br><span class="line"></span><br><span class="line">            loc += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> has_value:</span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                    keys.append((key, key_type))</span><br><span class="line">                    values.append((value, value_type))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">raise</span> Exception(<span class="string">"the key is nil"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                keys.append((key, key_type))</span><br><span class="line">                values.append((<span class="keyword">None</span>, <span class="keyword">None</span>))</span><br><span class="line">        number = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> has_equal:</span><br><span class="line">            result = &#123;&#125;</span><br><span class="line">            <span class="keyword">for</span> key_tuple, value_tuple <span class="keyword">in</span> zip(keys, values):</span><br><span class="line">                <span class="keyword">if</span> value_tuple[<span class="number">1</span>] <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                    result[key_tuple[<span class="number">0</span>]] = value_tuple[<span class="number">0</span>]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> key_tuple[<span class="number">1</span>] != <span class="string">'nil'</span> <span class="keyword">and</span> key_tuple[<span class="number">0</span>] <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                        result[number] = key_tuple[<span class="number">0</span>]</span><br><span class="line">                    number += <span class="number">1</span></span><br><span class="line">            result = &#123;k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> result.iteritems() <span class="keyword">if</span> v <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>&#125;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result = []</span><br><span class="line">            <span class="keyword">for</span> key_tuple <span class="keyword">in</span> keys:</span><br><span class="line">                <span class="keyword">if</span> key_tuple[<span class="number">1</span>] <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                    result.append(key_tuple[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">readStr</span><span class="params">(self, lua_str)</span>:</span></span><br><span class="line">        lua_str = self.__removeComment(lua_str.strip())</span><br><span class="line">        self.__lua_object = self.__parserLuaStr(lua_str)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLuaObject</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__lua_object</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__generateKeyStr</span><span class="params">(self, lua_object)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        <span class="keyword">if</span> lua_object <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">if</span> type(lua_object) <span class="keyword">is</span> str:</span><br><span class="line">                result = <span class="string">'["'</span> + self.__getOriginStr(lua_object) + <span class="string">'"]'</span></span><br><span class="line">            <span class="keyword">elif</span> type(lua_object) <span class="keyword">is</span> int <span class="keyword">or</span> type(lua_object) <span class="keyword">is</span> float:</span><br><span class="line">                result = <span class="string">'['</span> + str(lua_object) + <span class="string">']'</span></span><br><span class="line">            <span class="keyword">elif</span> type(lua_object) <span class="keyword">is</span> bool:</span><br><span class="line">                <span class="keyword">if</span> lua_object:</span><br><span class="line">                    result = <span class="string">'[true]'</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result = <span class="string">'[false]'</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">raise</span> Exception(<span class="string">"Wrong type of key: "</span> + str(lua_object))</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getOriginStr</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> self.__reverseSpecialChars.keys():</span><br><span class="line">                result += self.__reverseSpecialChars[c]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result += c</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__generateValueStr</span><span class="params">(self, lua_object)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        object_type = type(lua_object)</span><br><span class="line">        <span class="keyword">if</span> lua_object <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            result = <span class="string">'nil'</span></span><br><span class="line">        <span class="keyword">elif</span> object_type <span class="keyword">is</span> list <span class="keyword">or</span> object_type <span class="keyword">is</span> dict:</span><br><span class="line">            result = self.generateLuaStr(lua_object)</span><br><span class="line">        <span class="keyword">elif</span> object_type <span class="keyword">is</span> str:</span><br><span class="line">            result = <span class="string">'"'</span> + self.__getOriginStr(lua_object) + <span class="string">'"'</span></span><br><span class="line">        <span class="keyword">elif</span> object_type <span class="keyword">is</span> int <span class="keyword">or</span> object_type <span class="keyword">is</span> float:</span><br><span class="line">            result = str(lua_object)</span><br><span class="line">        <span class="keyword">elif</span> object_type <span class="keyword">is</span> bool:</span><br><span class="line">            <span class="keyword">if</span> lua_object:</span><br><span class="line">                result = <span class="string">'true'</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result = <span class="string">'false'</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateLuaStr</span><span class="params">(self, lua_object)</span>:</span></span><br><span class="line">        result = <span class="string">""</span></span><br><span class="line">        <span class="keyword">if</span> lua_object <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            result += <span class="string">'&#123;'</span></span><br><span class="line">            <span class="keyword">if</span> type(lua_object) <span class="keyword">is</span> dict:</span><br><span class="line">                <span class="keyword">for</span> key, value <span class="keyword">in</span> lua_object.iteritems():</span><br><span class="line">                    result += self.__generateKeyStr(key) + <span class="string">' = '</span> + self.__generateValueStr(value) + <span class="string">', '</span></span><br><span class="line">            <span class="keyword">elif</span> type(lua_object) <span class="keyword">is</span> list:</span><br><span class="line">                <span class="keyword">for</span> value <span class="keyword">in</span> lua_object:</span><br><span class="line">                    result += self.__generateValueStr(value) + <span class="string">', '</span></span><br><span class="line">            result += <span class="string">'&#125;'</span></span><br><span class="line">        self.__lua_str = result</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PyLuaTblParser</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.str_praser = LuaStrParser()</span><br><span class="line">        self.lua_table = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        self.str_praser.readStr(s)</span><br><span class="line">        self.lua_table = self.str_praser.getLuaObject()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dump</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.str_praser.generateLuaStr(self.lua_table)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loadLuaTable</span><span class="params">(self, f)</span>:</span></span><br><span class="line">        <span class="keyword">with</span> open(f, <span class="string">'r'</span>) <span class="keyword">as</span> lua_str_file:</span><br><span class="line">            lua_str = lua_str_file.read()</span><br><span class="line">            self.load(lua_str)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dumpLuaTable</span><span class="params">(self, f)</span>:</span></span><br><span class="line">        <span class="keyword">with</span> open(f, <span class="string">'w'</span>) <span class="keyword">as</span> out_file:</span><br><span class="line">            out_file.write(self.str_praser.generateLuaStr(self.lua_table))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteOtherKey</span><span class="params">(self, d)</span>:</span></span><br><span class="line">        result = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> type(d) <span class="keyword">is</span> dict:</span><br><span class="line">            result = &#123;&#125;</span><br><span class="line">            <span class="keyword">for</span> key, value <span class="keyword">in</span> d.iteritems():</span><br><span class="line">                <span class="keyword">if</span> type(key) <span class="keyword">in</span> LuaStrParser.keyTypes:</span><br><span class="line">                    <span class="keyword">if</span> type(value) <span class="keyword">is</span> list <span class="keyword">or</span> type(value) <span class="keyword">is</span> dict:</span><br><span class="line">                        result[key] = self.deleteOtherKey(value)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        result[key] = value</span><br><span class="line">        <span class="keyword">elif</span> type(d) <span class="keyword">is</span> list:</span><br><span class="line">            result = []</span><br><span class="line">            <span class="keyword">for</span> value <span class="keyword">in</span> d:</span><br><span class="line">                <span class="keyword">if</span> type(value) <span class="keyword">is</span> list <span class="keyword">or</span> type(value) <span class="keyword">is</span> dict:</span><br><span class="line">                    result.append(self.deleteOtherKey(value))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result.append(value)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loadDict</span><span class="params">(self, d)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> type(d) <span class="keyword">is</span> dict:</span><br><span class="line">            self.lua_table = self.deleteOtherKey(d)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dumpDict</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> type(self.lua_table) <span class="keyword">is</span> dict:</span><br><span class="line">            <span class="keyword">return</span> self.lua_table.copy()</span><br><span class="line">        <span class="keyword">elif</span> type(self.lua_table) <span class="keyword">is</span> list:</span><br><span class="line">            <span class="keyword">return</span> [v <span class="keyword">for</span> v <span class="keyword">in</span> self.lua_table]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, d)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.lua_table <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            self.lua_table = d</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> type(self.lua_table) <span class="keyword">is</span> list:</span><br><span class="line">                new_table = &#123;&#125;</span><br><span class="line">                <span class="keyword">for</span> k, v <span class="keyword">in</span> zip(range(<span class="number">1</span>, len(self.lua_table) + <span class="number">1</span>), self.lua_table):</span><br><span class="line">                    <span class="keyword">if</span> v <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                        new_table[k] = v</span><br><span class="line">                self.lua_table = new_table</span><br><span class="line">            new_table = self.deleteOtherKey(d)</span><br><span class="line">            <span class="keyword">for</span> k, v <span class="keyword">in</span> new_table.iteritems():</span><br><span class="line">                self.lua_table[k] = v</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> self.lua_table[item]</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self, key, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.lua_table <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            self.lua_table = &#123;&#125;</span><br><span class="line">            self.lua_table[key] = value</span><br><span class="line">        <span class="keyword">elif</span> type(self.lua_table) <span class="keyword">is</span> dict:</span><br><span class="line">            self.lua_table[key] = value</span><br><span class="line">        <span class="keyword">elif</span> type(self.lua_table) <span class="keyword">is</span> list:</span><br><span class="line">            new_table = &#123;&#125;</span><br><span class="line">            <span class="keyword">for</span> k, v <span class="keyword">in</span> zip(range(<span class="number">1</span>,len(self.lua_table) + <span class="number">1</span>), self.lua_table):</span><br><span class="line">                <span class="keyword">if</span> v <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                    new_table[k] = v</span><br><span class="line">            new_table[key] = value</span><br><span class="line">            self.lua_table = new_table</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    pyluatblparser = PyLuaTblParser()</span><br><span class="line"></span><br><span class="line">    pyluatblparser.load(<span class="string">'&#123;&#123;&#125;,nil,nil,2,3&#125;'</span>)</span><br><span class="line">    pyluatblparser[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">print</span> pyluatblparser[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">print</span> pyluatblparser.dump()</span><br><span class="line">    pyluatblparser[<span class="number">1</span>] = &#123;&#125;</span><br><span class="line">    <span class="keyword">print</span> pyluatblparser.dump()</span><br><span class="line">    <span class="comment"># print repr(lua_str)</span></span><br><span class="line">    <span class="comment"># print str_parser.__removeComment(lua_str)</span></span><br><span class="line">    <span class="comment"># with open('sysinput2', 'r') as f:</span></span><br><span class="line">    <span class="comment">#     lua_str = f.read()</span></span><br><span class="line">    <span class="comment">#     pyluatblparser.load(lua_str)</span></span><br><span class="line">    <span class="comment">#     outDict = pyluatblparser.dumpDict()</span></span><br><span class="line">    <span class="comment">#     print outDict</span></span><br><span class="line">    <span class="comment">#     result = outDict['root'][7]</span></span><br><span class="line">    <span class="comment">#     print result["\\\"\b\f\n\r\t`1~!@#$%^&amp;*()_+-=[]&#123;&#125;|;:',./&lt;&gt;?"]</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     print '\n'</span></span><br><span class="line">    <span class="comment">#     print pyluatblparser.dump()</span></span><br><span class="line">    <span class="comment">#     # print result</span></span><br><span class="line">    <span class="comment">#     # next = None</span></span><br><span class="line">    <span class="comment">#     # for key,value in result.iteritems():</span></span><br><span class="line">    <span class="comment">#     #     for k, v in value.iteritems():</span></span><br><span class="line">    <span class="comment">#     #         if k == 7:</span></span><br><span class="line">    <span class="comment">#     #             next = v</span></span><br><span class="line">    <span class="comment">#     #</span></span><br><span class="line">    <span class="comment">#     # for k,v in next.iteritems():</span></span><br><span class="line">    <span class="comment">#     #     print k ,'=', v</span></span><br><span class="line">    <span class="comment">#     # print '\n'</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     pyluatblparser.dumpLuaTable('output')</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     # with open('output', 'w') as out:</span></span><br><span class="line">    <span class="comment">#     #     new_str = pyluatblparser.dump()</span></span><br><span class="line">    <span class="comment">#     #     print new_str</span></span><br><span class="line">    <span class="comment">#     #     out.write(new_str)</span></span><br><span class="line">    <span class="comment">#     # with open('output.lua', 'w') as out:</span></span><br><span class="line">    <span class="comment">#     #     out.write(result)</span></span><br></pre></td></tr></table></figure>
<h1 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># test multi table levels</span></span><br><span class="line">    a1 = PyLuaTblParser()</span><br><span class="line">    test_str = <span class="string">'&#123;array = &#123;65,23,5,&#125;,dict = &#123;mixed = &#123;43,54.33,false,9,string = "value",&#125;,array = &#123;3,6,4,&#125;,string = "value",&#125;,&#125;'</span></span><br><span class="line">    a1.load(test_str)</span><br><span class="line">    d1 = a1.dumpDict()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, d1</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'==========================================================='</span></span><br><span class="line">    <span class="comment"># test file load</span></span><br><span class="line">    a2 = PyLuaTblParser()</span><br><span class="line">    a2.loadDict(d1)</span><br><span class="line">    a2.dumpLuaTable(<span class="string">'test_output'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># test file dump</span></span><br><span class="line">    a3 = PyLuaTblParser()</span><br><span class="line">    a3.loadLuaTable(<span class="string">'test_input'</span>)</span><br><span class="line"></span><br><span class="line">    d3 = a3.dumpDict()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, d3</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'==========================================================='</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># test complex string</span></span><br><span class="line">    test_str = <span class="string">'&#123; strs = "\\"\'\\" \\t\\b\\f\\n", ["\\"\'\\" \\t\\b\\f\\n"] = "complex string is key"&#125;'</span></span><br><span class="line">    <span class="keyword">print</span> test_str</span><br><span class="line">    a4 = PyLuaTblParser()</span><br><span class="line">    a4.load(test_str)</span><br><span class="line">    d4 = a4.dumpDict()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, d4</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'==========================================================='</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># test comment</span></span><br><span class="line">    test_str = <span class="string">'&#123;\t\n-- "comment str",\t\n["hello world"] = 1,\t\n--[[\t\n"should be comment",\t\n2 = 1\t\n ]]\t\n[3] = 2\n&#125;'</span></span><br><span class="line">    <span class="keyword">print</span> test_str</span><br><span class="line">    a5 = PyLuaTblParser()</span><br><span class="line">    a5.load(test_str)</span><br><span class="line">    d5 = a5.dumpDict()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, d5</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'==========================================================='</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># test []</span></span><br><span class="line">    test_str = <span class="string">'&#123;[1] = "1", a = "a"&#125;'</span></span><br><span class="line">    <span class="keyword">print</span> test_str</span><br><span class="line">    a6 = PyLuaTblParser()</span><br><span class="line">    a6.load(test_str)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, a6.dump()</span><br><span class="line">    a6[<span class="number">1</span>] = <span class="string">"changed"</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, a6[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;&gt;'</span>, a6.dump()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'==========================================================='</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># test update</span></span><br><span class="line">    test_str = <span class="string">'&#123;[1] = "1", a = "a"&#125;'</span></span><br><span class="line">    <span class="keyword">print</span> test_str</span><br><span class="line">    a7 = PyLuaTblParser()</span><br><span class="line">    a7.load(test_str)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, a7.dump()</span><br><span class="line">    update_table = &#123;<span class="number">1</span>: [&#123;&#125;], <span class="string">"b"</span>: <span class="string">"b"</span>&#125;</span><br><span class="line">    a7.update(update_table)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&gt;&gt;&gt;&gt;&gt;'</span>, a7.dump()</span><br></pre></td></tr></table></figure>
<h1 id="测试样例"><a href="#测试样例" class="headerlink" title="测试样例"></a>测试样例</h1><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    root = &#123;</span><br><span class="line">        <span class="string">"Test Pattern String"</span>,</span><br><span class="line">        <span class="comment">-- &#123;"object with 1 member" = &#123;"array with 1 element",&#125;,&#125;,</span></span><br><span class="line">        &#123;[<span class="string">"object with 1 member"</span>] = &#123;<span class="string">"array with 1 element"</span>,&#125;,&#125;,</span><br><span class="line"></span><br><span class="line">        &#123;&#125;,</span><br><span class="line"></span><br><span class="line">        [<span class="number">99</span>] = <span class="number">-42</span>,</span><br><span class="line"></span><br><span class="line">        [<span class="number">98</span>] = &#123;&#123;&#125;&#125;,</span><br><span class="line"></span><br><span class="line">        [<span class="number">97</span>] = &#123;&#123;&#125;,&#123;&#125;&#125;,</span><br><span class="line"></span><br><span class="line">        [<span class="number">96</span>] = &#123;&#123;&#125;, <span class="number">1</span>, <span class="number">2</span>, <span class="literal">nil</span>&#125;,</span><br><span class="line"></span><br><span class="line">        [<span class="number">95</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, &#123;[<span class="string">"1"</span>] = <span class="number">1</span>&#125;&#125;,</span><br><span class="line"></span><br><span class="line">        [<span class="number">94</span>] = &#123; &#123;[<span class="string">"1"</span>]=<span class="number">1</span>, [<span class="string">"2"</span>]=<span class="number">2</span>&#125;, &#123;<span class="number">1</span>, [<span class="string">"2"</span>]=<span class="number">2</span>&#125;, [<span class="string">"3"</span>] = <span class="number">3</span> &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">        <span class="literal">nil</span>,</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            [<span class="string">"integer"</span>]= <span class="number">1234567890</span>,</span><br><span class="line"></span><br><span class="line">            real=<span class="number">-9876.543210</span>,</span><br><span class="line"></span><br><span class="line">            e= <span class="number">0.123456789e-12</span>,</span><br><span class="line"></span><br><span class="line">            E= <span class="number">1.234567890E+34</span>,</span><br><span class="line"></span><br><span class="line">            zero = <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">            one = <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">            space = <span class="string">" "</span>,</span><br><span class="line"></span><br><span class="line">            quote = <span class="string">"\""</span>,</span><br><span class="line"></span><br><span class="line">            backslash = <span class="string">"\\"</span>,</span><br><span class="line"></span><br><span class="line">            controls = <span class="string">"\b\f\n\r\t"</span>,</span><br><span class="line"></span><br><span class="line">            slash = <span class="string">"/ &amp; \\"</span>,</span><br><span class="line"></span><br><span class="line">            alpha= <span class="string">"abcdefghijklmnopqrstuvwyz"</span>,</span><br><span class="line"></span><br><span class="line">            ALPHA = <span class="string">"ABCDEFGHIJKLMNOPQRSTUVWYZ"</span>,</span><br><span class="line"></span><br><span class="line">            digit = <span class="string">"0123456789"</span>,</span><br><span class="line"></span><br><span class="line">            special = <span class="string">"`1~!@#$%^&amp;*()_+-=&#123;':[,]&#125;|;.&lt;/&gt;?"</span>,</span><br><span class="line"></span><br><span class="line">            hex = <span class="string">"0x01230x45670x89AB0xCDEF0xabcd0xef4A"</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">"true"</span>] = <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">"false"</span>] = <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">"nil"</span>] = <span class="literal">nil</span>,</span><br><span class="line"></span><br><span class="line">            array = &#123;<span class="literal">nil</span>, <span class="literal">nil</span>,&#125;,</span><br><span class="line"></span><br><span class="line">            object = &#123;  &#125;,</span><br><span class="line"></span><br><span class="line">            address = <span class="string">"50 St. James Street"</span>,</span><br><span class="line"></span><br><span class="line">            url = <span class="string">"http://www.JSON.org/"</span>,</span><br><span class="line"></span><br><span class="line">            comment = <span class="string">"// /* &lt;!-- --"</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">"# -- --&gt; */"</span>] = <span class="string">" "</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">" s p a c e d "</span> ] = &#123;<span class="number">1</span>,<span class="number">2</span> , <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                ,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="number">4</span> , <span class="number">5</span>        ,          <span class="number">6</span>           ,<span class="number">7</span>        &#125;,</span><br><span class="line"></span><br><span class="line">            <span class="comment">--[[[][][]  Test multi-line comments</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                compact = &#123;1,2,3,4,5,6,7&#125;,</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        - -[luatext = "&#123;\"object with 1 member\" = &#123;\"array with 1 element\"&#125;&#125;",</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            quotes = "&amp;#34; (0x0022) %22 0x22 034 &amp;#x22;",</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            ["\\\"\b\f\n\r\t`1~!@#$%^&amp;*()_+-=[]&#123;&#125;|;:',./&lt;&gt;?"]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            = "A key can be any string"]]</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">--         ]]</span></span><br><span class="line"></span><br><span class="line">            compact = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;,</span><br><span class="line"></span><br><span class="line">            luatext = <span class="string">"&#123;\"object with 1 member\" = &#123;\"array with 1 element\"&#125;&#125;"</span>,</span><br><span class="line"></span><br><span class="line">            quotes = <span class="string">"&amp;#34; (0x0022) %22 0x22 034 &amp;#x22;"</span>,</span><br><span class="line"></span><br><span class="line">            [<span class="string">"\\\"\b\f\n\r\t`1~!@#$%^&amp;*()_+-=[]&#123;&#125;|;:',./&lt;&gt;?"</span>]</span><br><span class="line"></span><br><span class="line">            = <span class="string">"A key can be any string"</span></span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="number">0.5</span> ,<span class="number">31415926535897932384626433832795028841971693993751058209749445923.</span></span><br><span class="line"></span><br><span class="line">        ,</span><br><span class="line"></span><br><span class="line">        <span class="number">3.1415926535897932384626433832795028841971693993751058209749445923</span></span><br><span class="line"></span><br><span class="line">        ,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="number">1066</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        ,<span class="string">"rosebud"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2017/12/21/合金装备V-幻痛-游戏测评/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/21/合金装备V-幻痛-游戏测评/" itemprop="url">合金装备V 幻痛 游戏评测</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-21T23:35:35+08:00">
                2017-12-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-01-30T18:20:20+08:00">
                2018-01-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/game/" itemprop="url" rel="index">
                    <span itemprop="name">game</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/MGS 1.jpg" alt=""></p>
<h2 id="游戏概述"><a href="#游戏概述" class="headerlink" title="游戏概述"></a>游戏概述</h2><p><strong>《合金装备V 幻痛》</strong>(Metal Gear Solid V: The Phantom Pain, 台译作“潜龙谍影V 幻痛”) 是一款由小岛制作（KONAMI旗下的王牌游戏研发工作室）开发的隐蔽类开放世界动作冒险游戏。它由小岛制作研发的游戏引擎“狐引擎”（FOX Engine）制作，在2015年9月1日发行于Microsoft Windows、PlayStation 3、PlayStation 4、Xbox 360和Xbox One平台。</p>
<p>游戏起初被分别公布为2个不同的项目，一个是在合金装备25周年纪念会上公布，名为《合金装备 原爆点》（Metal Gear Solid : Ground Zeroes），另一个则是由Moby Dick Studio开发的《幻痛》（Phantom Pain）。至2013年3月游戏网页正式上线，游戏名称才确定为《合金装备V 幻痛》。2013年11月11日，科乐美宣布《合金装备V 原爆点》独立于2014年春季发行。2014年德国Gamescom展，小岛秀夫宣布《幻痛》将借由Steam登上电脑平台。</p>
<h2 id="游戏背景"><a href="#游戏背景" class="headerlink" title="游戏背景"></a>游戏背景</h2><p>游戏设定在一个架空的冷战世界中，除了对峙的美国和苏联外，世界的格局还被一种名为“合金装备”的武器影响着。游戏的时间设定在《合金装备V 原爆点》九年之后，即1984年，此时游戏中和现实一样也在进行着阿富汗战争。尽管游戏大体和现实相同，但是玩家可以发现游戏内的武器和科技要远远比现实中的冷战时期先进，军事技术诸如外骨骼、双足机甲、光学隐形、全息影像都被各国谍报机关所使用着。其他科学技术诸如纳米技术、克隆、人工智能也进入了实用化的阶段。</p>
<p>主角Big Boss建立的佣兵组织“无界之师”在《合金装备V 原爆点》的结尾被摧毁，主角也陷入了长达9年的昏迷。醒来后世界也发生了翻天覆地的变化。《合金装备V 幻痛》讲述的是主角在苏醒后重新建立佣兵组织“Diamond Dogs”，并在“Snake”的代号下，在阿富汗和安哥拉-扎伊尔边境进行冒险，以向九年前摧毁自己亲手建立的无国界军队MSF的神秘人物”Skull Face”复仇。</p>
<h2 id="配置要求"><a href="#配置要求" class="headerlink" title="配置要求"></a>配置要求</h2><table>
<thead>
<tr>
<th style="text-align:center">项目</th>
<th style="text-align:center">最低配置</th>
<th style="text-align:center">推荐配置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">系统</td>
<td style="text-align:center">Windows 7</td>
<td style="text-align:center">Windows 7</td>
</tr>
<tr>
<td style="text-align:center">处理器</td>
<td style="text-align:center">i5-4460</td>
<td style="text-align:center">i7-4790</td>
</tr>
<tr>
<td style="text-align:center">内存</td>
<td style="text-align:center">4GB RAM</td>
<td style="text-align:center">8GB RAM</td>
</tr>
<tr>
<td style="text-align:center">显卡</td>
<td style="text-align:center">GeForce GTX 650或更好</td>
<td style="text-align:center">GeForce GTX 760或更好</td>
</tr>
<tr>
<td style="text-align:center">硬盘</td>
<td style="text-align:center">28GB空闲空间</td>
<td style="text-align:center">28GB空闲空间</td>
</tr>
</tbody>
</table>
<blockquote>
<p>资料来源：游民星空</p>
</blockquote>
<h2 id="游戏评测"><a href="#游戏评测" class="headerlink" title="游戏评测"></a>游戏评测</h2><h3 id="1-游戏场景-9-0"><a href="#1-游戏场景-9-0" class="headerlink" title="1. 游戏场景 9.0"></a>1. 游戏场景 9.0</h3><p>合金装备V是开放世界类的潜入冒险游戏。游戏中总共有两个比较大的开放式的地图，分别在中东地区的阿富汗和非洲地区，游戏的情节和任务也都在这两个地图中展开。</p>
<p><img src="/images/MGS 2.png" alt="游戏场景1"></p>
<p>可以说合金装备5幻痛的游戏画面是日式游戏中少见的优质画面，几乎所有玩家在进入游戏之后都会在几分钟内被游戏所折服，可以说是真正的划时代之作。在画面的重大突破很大程度上得益于FOX引擎。2008年Kojima开发FOX引擎绝对是个目光长远之举，人们当时还没有意识到游戏画面可以进化到今天这个地步，但当时的“FOX引擎”团队致力于打造世界上最好的游戏引擎，也就是这个好高骛远的目标如今终于为日式游戏正名。</p>
<p>游戏中的场景可谓多种多样，甚至不做任务在游戏中闲逛也是一种乐趣。幻痛对游戏环境场景做了生动的还原。在游戏中你会发现各种植物和动物，有时还会遇到瀑布、峡谷、沼泽等等。游戏中会标出有用的药草和资源等等，收集药草可以用来制作药品和装备，甚至可以在基地出售换取游戏中的金币，进而开发装备。</p>
<p>游戏中的动物可以被主角用麻醉枪麻醉后送往基地（传送或虫洞技术）。游戏中有一个动物保护组织承诺主角收集动物后可以给予主角相应的声望和金币。甚至有个支线任务要求主角前往指定区域抓捕棕熊。</p>
<p>游戏中同样添加了气候和自然时间的设定。笔者总共体验过晴天、阴天、雨天和沙尘暴这几种气候。对于潜入型的游戏来说，这个设定更增添了游戏的趣味性。白天和黑夜会影响NPC的巡逻线路和视野，雨天可以很好的掩盖主角的脚步声，沙尘暴更是无压力潜入（偶尔会撞在敌人脸上…）。</p>
<p><img src="/images/MGS 3.jpg" alt="游戏场景2"></p>
<p>地图上会散布着很多岗哨和敌人的大型据点，兵力和设备也会有所不同。随着游戏的推进，驻守的兵力也会不断增多，而且会根据玩家的入侵习惯不断调整，这是游戏一个特别新颖的地方。比如玩家入侵时喜欢爆头，则NPC会装配头盔、玩家喜欢在夜晚时入侵，敌人则会装备夜视仪等。敌人也会因为玩家的方式来采取不同的措施，他们会组队调查可以的地方对玩家进行包围，必要的时候会采用重武器对玩家进行压制（不止一次被榴弹炮和武装直升机干掉= =）。</p>
<p>幻痛的游戏环境是对现实的高度还原，人物的视觉和感官也做的十分逼真，使人们在玩游戏是的代入感十分强烈。唯一不足是游戏中的时间流逝设定比现实中快了不少，往往潜入敌方基地后还没完成任务天就亮了。俘虏敌人的回答和选项方面的设定也比较单一，希望增强游戏中NPC的多样性，更能增添游戏的趣味性。</p>
<h3 id="2-游戏玩法-9-5"><a href="#2-游戏玩法-9-5" class="headerlink" title="2. 游戏玩法 9.5"></a>2. 游戏玩法 9.5</h3><p>开放世界对于潜入游戏的核心玩法的改变可以说是革命性的，可以说完成游戏的方式完全取决于玩家自身，这款游戏基本没有固定的模式。潜入只是暗示玩家游戏的风格，但玩家完全可以按照自己的路线来完成。当然游戏推荐潜入的玩法确实具有挑战性，也更加考验玩家的耐心。</p>
<p>潜入时玩家可以选择晚上或者暴雨天气，之前先用望远镜标记好敌人的位置，为潜入工作打下基础。枪械方面也可以选择带消音管或者麻醉枪。因为这个游戏中玩家有一个自己的基地，俘虏敌人并传送回基地可以加强基地的建设工作，促进武器的研发和资源的收集。具有特殊技能的NPC也会带来意想不到的好处。例如当你回收一名具有翻译技能的人员后你就能够听懂敌人交流的语言了。</p>
<p>在不惊动其他敌人的情况下俘虏敌人也可以获得一些关键性的情报，例如指挥所的位置，蓝图的地点，钻石的地点，具有特殊技能的人员（专家）是哪些等。在进行主线任务时，通过审问敌人可以得到完成主线任务的线索。这些设定都增加了游戏的趣味性和挑战性。</p>
<p><img src="/images/MGS 4.jpg" alt="游戏场景3"></p>
<p>当然对于没有耐心的玩家这些都是虚的，正面刚才是王道呀。背着火箭炮，空投坦克，穿着重型装甲就可以攻占下来一个基地了，任务什么的在进去探索就行了。这样魂斗罗式的玩法也别有一番趣味。</p>
<p>游戏中NPC使用的任何车辆和武器玩家都可以使用，包括榴弹炮，火箭发射车等，不过在坦克中如果被敌人集火攻击的话也很容易被干掉。</p>
<h3 id="3-游戏装备和资源-9-0"><a href="#3-游戏装备和资源-9-0" class="headerlink" title="3. 游戏装备和资源 9.0"></a>3. 游戏装备和资源 9.0</h3><p>第三人称射击类的游戏怎么会少了武器枪械。合金装备V 中的枪械种类可以说是花样繁多，不管是现实中存在的或者是改版的都有在游戏中体现出来。</p>
<p>武器的研发是在玩家的基地中实现的。玩家通过不断升级研发平台可以不断解锁新的武器装备。研发平台的升级需要人员扩中和基地基础设施研发来完成，部分武器还需要武器蓝图和专业人员存在才可以解锁。</p>
<p><img src="/images/MGS 5.png" alt="游戏场景4"></p>
<p>武器的研发是按照树状图的方式进行的，即一类武器只有将其之前的武器解锁后，才可以继续研发更加先进的武器。</p>
<p>玩家在游戏中可以选择各种不同的枪械，不同的武器也拥有不同的功能。玩家在进行任务时，不仅可以呼叫直升机空投武器资源，还可以空投之前回收的武器车辆等，例如双足机器人和坦克。</p>
<p>玩家在执行任务时回收的资源很多会运回基地用于基地基础设施的开发和武器的研究。</p>
<p><img src="/images/MGS 6.png" alt="游戏场景5"></p>
<p>玩家可以随时回到基地，有时会触发一些剧情。在基地中有些地方会出现一些试炼任务，完成后会给玩家提供大量的游戏金币。在基地中闲逛的时候偶尔会发现一些钻石碎片，同样可以兑换大量的GMP（游戏金币）。小岛的幽默依然不减，基地中偶尔也会出现一些日式风格的海报，收集后同样可以兑换一下GMP。</p>
<p>在基地的建设中，人员素质占了很大一部分比重。基地人员的能力与基地的研发等级相挂钩。主角的声望越高，越容易招募到高素质的成员。同时玩家在执行任务时对高素质人员的回收也很重要。这同时也暗示了玩家幻痛不仅仅是一个枪战游戏，更重要的是策略和思维。</p>
<p><img src="/images/MGS 7.jpg" alt="游戏场景6"></p>
<p>游戏中黑科技依然不少，寄生虫，人体改造，基因技术，机械手臂，双足机器等。一些超自然的设定和剧情也为游戏增添的不少魔幻主义色彩，很多时候玩家在进行游戏的时候都会有一种惊心动魄的感觉，有些NPC是真的太恐怖了！</p>
<h3 id="4-游戏剧情-9-9"><a href="#4-游戏剧情-9-9" class="headerlink" title="4 游戏剧情 9.9"></a>4 游戏剧情 9.9</h3><p>合金装备V 幻痛剧情只是整个合金装备游戏系列的一个中间阶段，它讲述的是Snake在基地被摧毁，经历了长达9年的昏迷之后，在山猫和米勒的帮助下，投身于阿富汗战场，并重新建立佣兵组织钻石狗的故事。这些剧情和往届合金装备游戏的剧情都属于同一种风格，但是不同的是，幻痛中竟然出现了女主！这个设定真的是让不少玩家去趋之若鹜呀，真的是一直在刷妹子的好感度。什么主线剧情的先不管了，最终主角是把大反派“Skull Face”消灭了，我们还是围绕静静来介绍。</p>
<p>女主的名字叫做“Quiet”，顾名思义，意思是女主从来都不说话，至于原因我们会在后面揭晓。</p>
<p><img src="/images/MGS 8.jpg" alt="游戏场景6"></p>
<p>玩家在进行到第11次主线任务时，会触发一次隐藏剧情，在阿富汗某地区会遇到一名强大的女狙击手。不仅身法快捷，而且还会隐身伪装的能力，狙击能力也特别强。这时候玩家就要想办法战胜这位女狙击手。当任务完成后，基地一个NPC会要求玩家杀掉Quiet，认为他是“Skull Face”的人，而另一个NPC则认为可以俘虏Quiet到基地来观察一段时间。这时候玩家就可以选择是否要杀掉Quiet。我觉得正常的玩家肯定会把Quiet带回基地啊！这么漂亮的女主。</p>
<p><img src="/images/MGS 9.png" alt="游戏场景6"></p>
<p>游戏的第一个任务是要让昏迷了9年的主角逃出医院。当主角还在医院中的时候，“Skull Face”曾派遣了一位女特工来刺杀主角，结果被主角和一位NPC联手烧伤后不知所踪。细心的玩家会发现者刺杀主角的女特工和静静其实是同一个，由此可以推断Quiet是来复仇的。</p>
<p>当Quiet来到基地以后，基地的NPC发现他们根本控制不住Quiet（根本打不过），Quiet也从不说话，但是只听主角一个人的指挥，Quiet就只能暂时被关押起来。后来一次机缘巧合基地的NPC同意主角带上Quiet一起执行任务。这时玩家会发现Quiet来了以后，执行任务的速度简直事半功倍呀，有时Quiet自己就可以团灭一个敌方基地。</p>
<p>后来主角建立的基地会面临一种灾难，就是不断有成员得一种怪病死去，原因要主角自己调查。在见到密语者（NPC）之后得知这场疾病是由于声带寄生虫引起的。声带寄生虫是指一种寄生到人的声带，根据人的语言种类来进行繁殖的一种寄生虫。只会感染说某种特定语言的群体并繁殖，感染到基本无药可救，而且传染性极强。声带寄生虫是“Skull Face”从密语者哪里获得后拿来进行人体改造实验。静静的特殊能力、以及“Skull Face”身边的一些NPC都是寄生虫改造的产物，因此具有了异于常人的能力。</p>
<p><img src="/images/MGS 10.png" alt="游戏场景6"></p>
<p>Quiet和主角的关系也在一次次的任务中不断升温，Quiet和boss这雨中嬉戏的这个画面相信让很多玩家难以忘怀，本以为主角和Quiet最后能走在一次，可是忘了编剧喜欢悲剧的这个事实（寄过刀片了有没有）。</p>
<p>游戏的第30个主线任务完成后，也就是主角终于将最终Boss“Skull Face”杀掉后，会说明一个关键信息。“Skull Face”共制造了三支英语种的寄生虫，可是现在只剩下两支……相信细心的读者已经明白了剩下的一支到哪里去了，但是笔者没想到结果会来的这么突然。</p>
<p>在任务推进到一定程度，会出现隐藏的45号主线任务。任务会提示静静突然消失了，然后主角得知静静被苏联人抓走了，笔者当时第一反应当然是干翻他们找到静静啊！说实话这个关卡挺难的。</p>
<p>关卡任务是玩家要和静静一起摧毁掉苏联军队的一个坦克部队。当玩家摧毁所有地图上的敌军后，会进入下一段剧情。主角以为所有坦克都被摧毁，但一辆没有完全摧毁的坦克已经悄悄瞄准了主角。静静因为不能说话，一把抢过主角的火箭炮摧毁了坦克，但是也被炮弹击中，陷入昏迷，也就在这时，敌军的增援部队赶到，主角要带着静静从这个绝望之地逃出。</p>
<p><img src="/images/MGS 11.png" alt="游戏场景6"></p>
<p>主角和静静躲在了一处岩石后，敌人的搜查部队就在眼前，由于沙尘暴的原因主角和静静躲过了一劫，但主角却因此被眼镜蛇咬伤，而后同样陷入昏迷（眼镜蛇是神经性毒素，可以致命）。主角后来在半睡半醒中听到救援直升机赶到，但因为沙尘暴找不到正确的方位。当救援直升机得不到应答，正要返回的时候，静静说出了英语。相信大家都猜到了，静静是英语语种的寄生虫携带者，所以她从不说话。之前“Skull Face”派遣她来就是为了感染主角，但是她没有这样做。在最后时刻她为了救主角却牺牲了自己。静静在直升机到来后，看了主角最后一眼，然后离开。</p>
<p><img src="/images/MGS 12.png" alt="游戏场景6"></p>
<p>主角得到救援后发现静静不在，但跟着脚印在一处山顶上发现了静静留下的一个录音磁带。里面说：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">I did not choose to be Quiet.</span><br><span class="line">I wanted to express my feelings to you.</span><br><span class="line">If only we shared a common tongue.</span><br><span class="line">Vengeance was what drove me to them...</span><br><span class="line">The only language left to me, revenge.</span><br><span class="line">But the words we shared...</span><br><span class="line">No, that was no language at all.</span><br><span class="line">That&apos;s why I...</span><br><span class="line">I chose the language of gratitude instead, and go back to silence.</span><br><span class="line">I am Quiet...</span><br><span class="line">I am... The absence of words...</span><br></pre></td></tr></table></figure></p>
<p><img src="/images/MGS 13.png" alt="游戏场景6"></p>
<p>从此静静便淡出了玩家的视野，但是回到基地后会发现静静已经列入了基地的死亡名单，直升机上静静的相片也不见了，再也不会有静静的身影了……</p>
<p>当笔者玩到这里的时候真的是非常的虐心，但是毕竟程序员们的智慧是无限的，虽然网友通过替换文件的方法可以重新找回静静，但是再也没有和静静有关的任务了。</p>
<p>游戏剧情的设计让玩家们如此着迷，甚至主线任务通关后仍然想要找回女主的身影，更让无数玩家尝试各种方法寻回静静，真心满分。</p>
<p>在静静淡出后，游戏的最终关卡也出现了。玩家们发现这个最终关卡和第一关基本一样，但是却揭示了和第一关完全不同的结局。原来玩家操控的主角一直都不是真正的Big Boss，而是Big Boss的一个替身，这个秘密只有将主角救出的山猫一个人知道。真正的Big Boss已经去了其他地方开辟新的基地。游戏开始会让玩家自定义自己的外貌属性，但是在第一关却没有体现出来，直到现在自定义的外貌的选项才出现。原来这个游戏本身就是一场幻痛……</p>
<p>笔者个人觉得，游戏的画面感和操作倒是其次，游戏的剧情才是游戏真正的灵魂。一个没有剧情的游戏很容易让人感到无聊，但是游戏的剧情却可以让人回味无穷。</p>
<h3 id="5-游戏音效-9-0"><a href="#5-游戏音效-9-0" class="headerlink" title="5. 游戏音效 9.0"></a>5. 游戏音效 9.0</h3><p>游戏的音效方面的效果也是很棒的，游戏中的所有的音效都是立体音，玩家在游戏中的时候，无论是风声，鸟叫声或者是流水的声音都非常的真实，仿佛真的置身于野外一样。在执行任务的时候，敌人的交谈声和脚步声也是非常重要的信息。</p>
<p>游戏中也穿插了大量的70、80年代的大量的经典的歌曲。在执行任务的过程中，玩家可以在敌人的据点或者基地中可以发现一些录音机，从而获得一些磁带，来解锁一些游戏中的经典的歌曲。</p>
<p>这些歌曲玩家可以在任务栏的磁带中收听。在基地中的女主的房间中，玩家可以听到收集来的磁带中的歌曲。女主的房间中有彩蛋的哦。在女主的房间中偶尔可以看到女主在洗澡哦！</p>
<p><img src="/images/MGS 14.png" alt="游戏场景6"></p>
<h3 id="6-综合评价-9-5"><a href="#6-综合评价-9-5" class="headerlink" title="6. 综合评价 9.5"></a>6. 综合评价 9.5</h3><p>很多人对《合金装备V 幻痛》的评价颇高，在笔者看来，有两个主要的原因：</p>
<ol>
<li>游戏具有超高的自由度。玩家不会再被任务限制在一个狭小的空间内，相反是在两个巨大的沙盒式的世界中。</li>
<li>游戏有着行云流水般的剧情体验，而不是生硬的强迫性的过场。</li>
</ol>
<p>这两个体验往往不会兼得，重视了一项，就会影响另一项。《合金装备V 幻痛》做到了二者的水乳交融，可以说是行业的顶尖的神作。</p>
<p>游戏具有意义的复杂性、灵活的潜入选择、海量的道具和能力也带给了玩家更加丰富的游戏体验，不可不玩的游戏之一。</p>
<h2 id="媒体评价"><a href="#媒体评价" class="headerlink" title="媒体评价"></a>媒体评价</h2><h3 id="IGN-——-10-10"><a href="#IGN-——-10-10" class="headerlink" title="IGN —— 10/10"></a>IGN —— 10/10</h3><blockquote>
<p>“《合金装备5：幻痛》是一款拥有奇迹般的游戏玩法、需要玩家动用自己的创造力和智力的游戏——没有多少游戏可以做成这样。”</p>
</blockquote>
<h3 id="Gamespot-——-10-10"><a href="#Gamespot-——-10-10" class="headerlink" title="Gamespot —— 10/10"></a>Gamespot —— 10/10</h3><blockquote>
<p>“每一个粉丝都会有自己喜爱的《合金装备》作品，可能在这方面玩家没有统一的意见。但是《合金装备5：幻痛》的出现解决了这个问题。《合金装备》系列中没有哪一部作品会如此有深度，会有如此丰富的游戏内容。游戏中的开放世界令整体素质更上一个台阶。《幻痛》无疑是合金装备系列中最好的作品。”</p>
</blockquote>
<h3 id="Daily-Dot-5-5"><a href="#Daily-Dot-5-5" class="headerlink" title="Daily Dot 5/5"></a>Daily Dot 5/5</h3><blockquote>
<p>“小岛很机智，他将故事讲的很含蓄。玩家只有在事后才会意识到，原来之前的每件叙事都是有一些深刻的含义的。”</p>
</blockquote>
<h3 id="Game-Informer-9-25-10"><a href="#Game-Informer-9-25-10" class="headerlink" title="Game Informer 9.25/10"></a>Game Informer 9.25/10</h3><blockquote>
<p>“一个游戏系列如果没有进化将很难长久的生存下去，《合金装备5：幻痛》就是一个勇于冒险的证明。一个开放世界，一个可自定义的基地，一个多变的任务体系——这些都不曾是传统《合金装备》系列中的元素，但正是这些令《幻痛》如此出色。”</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2017/12/21/KCP-源码阅读/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/21/KCP-源码阅读/" itemprop="url">KCP 源码阅读</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-21T22:01:04+08:00">
                2017-12-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-01-30T18:19:51+08:00">
                2018-01-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/network/" itemprop="url" rel="index">
                    <span itemprop="name">network</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>KCP项目地址： <a href="https://github.com/skywind3000/kcp" target="_blank" rel="noopener">KCP - A Fast and Reliable ARQ Protocol</a></p>
<blockquote>
<p>版权声明：本文为博主原创文章，转载请注明出处。</p>
</blockquote>
<p>作者: Uyouii</p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>KCP是一个快速可靠协议，能以比 TCP浪费10%-20%的带宽的代价，换取平均延迟降低 30%-40%，且最大延迟降低三倍的传输效果。纯算法实现，并不负责底层协议（如UDP）的收发，需要使用者自己定义下层数据包的发送方式，以 callback的方式提供给 KCP。 连时钟都需要外部传递进来，内部不会有任何一次系统调用。</p>
<h1 id="主要数据结构"><a href="#主要数据结构" class="headerlink" title="主要数据结构"></a>主要数据结构</h1><h2 id="IKCPSEG"><a href="#IKCPSEG" class="headerlink" title="IKCPSEG"></a>IKCPSEG</h2><p>IKCPSEG是kcp的数据段结构，即储存需要发送的packet的内容。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">IKCPSEG</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">IQUEUEHEAD</span> <span class="title">node</span>;</span>	<span class="comment">// 双向链表定义的队列</span></span><br><span class="line">	IUINT32 conv;           <span class="comment">// conversation, 会话序号: 接收到的数据包与发送的一致才接收此数据包</span></span><br><span class="line">	IUINT32 cmd;            <span class="comment">// command, 指令类型: 代表这个Segment的类型</span></span><br><span class="line">	IUINT32 frg;            <span class="comment">// fragment, 分段序号</span></span><br><span class="line">	IUINT32 wnd;            <span class="comment">// window, 窗口大小</span></span><br><span class="line">	IUINT32 ts;             <span class="comment">// timestamp, 发送的时间戳</span></span><br><span class="line">	IUINT32 sn;             <span class="comment">// sequence number, segment序号</span></span><br><span class="line">	IUINT32 una;            <span class="comment">// unacknowledged, 当前未收到的序号: 即代表这个序号之前的包均收到</span></span><br><span class="line">	IUINT32 len;            <span class="comment">// length, 数据长度</span></span><br><span class="line">	IUINT32 resendts;		<span class="comment">// 重发的时间戳</span></span><br><span class="line">	IUINT32 rto;			<span class="comment">// 超时重传的时间间隔</span></span><br><span class="line">	IUINT32 fastack;		<span class="comment">// ack跳过的次数，用于快速重传</span></span><br><span class="line">	IUINT32 xmit;			<span class="comment">// 发送的次数(即重传的次数)</span></span><br><span class="line">	<span class="keyword">char</span> data[<span class="number">1</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="IKCPCB"><a href="#IKCPCB" class="headerlink" title="IKCPCB"></a>IKCPCB</h2><p>IKCPCB是kcp的控制块，用于控制packet的发送，接收，重传等操作。</p>
<p>buffer的发送和接收均调用外部传入的函数。IKCPCB只负责处理算法层面的逻辑。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">IKCPCB</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="comment">//conv:会话ID，mtu:最大传输单元，mss:最大分片大小，state:连接状态</span></span><br><span class="line">	IUINT32 conv, mtu, mss, state;			</span><br><span class="line">	<span class="comment">//sun_una：第一个未确认的包，sen_nxt：待发送包的序号，rcv_nxt：待接收消息的序号</span></span><br><span class="line">	IUINT32 snd_una, snd_nxt, rcv_nxt;		</span><br><span class="line">	<span class="comment">//ssthresh:拥塞窗口的阈值</span></span><br><span class="line">	IUINT32 ts_recent, ts_lastack, ssthresh;</span><br><span class="line">	<span class="comment">//rx_rttval：ack接收rtt浮动值，rx_srtt：ack接收rtt平滑值(smoothed)，rx_rto：由ack接收延迟计算出来的复原时间，rx_minrto：最小复原时间</span></span><br><span class="line">	IINT32 rx_rttval, rx_srtt, rx_rto, rx_minrto;	</span><br><span class="line">	<span class="comment">//sen_wnd：发送窗口大小，rcv_wnd：接收窗口大小，rmt_wnd：远端接收窗口大小，cwnd：拥塞窗口大小，probe	探查变量，IKCP_ASK_TELL表示告知远端窗口大小。IKCP_ASK_SEND表示请求远端告知窗口大小。</span></span><br><span class="line">	IUINT32 snd_wnd, rcv_wnd, rmt_wnd, cwnd, probe;	</span><br><span class="line">	<span class="comment">//currunt：当前的时间戳，interval：内部flush刷新间隔，ts_flush：下次flush刷新时间戳</span></span><br><span class="line">	IUINT32 current, interval, ts_flush, xmit;</span><br><span class="line">	IUINT32 nrcv_buf, nsnd_buf;</span><br><span class="line">	IUINT32 nrcv_que, nsnd_que;</span><br><span class="line">	<span class="comment">//nodelay：是否启动无延迟模式，update：是否调用过update函数的标识(kcp需要上层通过不断的ikcp_update和ikcp_check来驱动kcp的收发过程)</span></span><br><span class="line">	IUINT32 nodelay, updated;</span><br><span class="line">	<span class="comment">//ts_probe：下次探查窗口的时间戳，probe_wait：探查窗口需要等待的时间</span></span><br><span class="line">	IUINT32 ts_probe, probe_wait;</span><br><span class="line">	<span class="comment">//dead_link：最大重传次数，incr：可发送的最大数据量</span></span><br><span class="line">	IUINT32 dead_link, incr;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">IQUEUEHEAD</span> <span class="title">snd_queue</span>;</span>	<span class="comment">//发送消息的队列</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">IQUEUEHEAD</span> <span class="title">rcv_queue</span>;</span>	<span class="comment">//接收消息的队列</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">IQUEUEHEAD</span> <span class="title">snd_buf</span>;</span>		<span class="comment">//发送消息的缓存</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">IQUEUEHEAD</span> <span class="title">rcv_buf</span>;</span>		<span class="comment">//接收消息的缓存</span></span><br><span class="line">	IUINT32 *acklist;				<span class="comment">//待发送的ack的列表</span></span><br><span class="line">	IUINT32 ackcount;				<span class="comment">//ack数量</span></span><br><span class="line">	IUINT32 ackblock;				<span class="comment">//acklist的大小</span></span><br><span class="line">	<span class="keyword">void</span> *user;</span><br><span class="line">	<span class="keyword">char</span> *buffer;					<span class="comment">//储存消息字节流的内存</span></span><br><span class="line">	<span class="keyword">int</span> fastresend;					<span class="comment">//触发快速重传的重复ack个数</span></span><br><span class="line">	<span class="keyword">int</span> nocwnd, stream;				<span class="comment">//nocwnd：取消拥塞控制，stream：是否采用流传输模式</span></span><br><span class="line">	<span class="keyword">int</span> logmask;</span><br><span class="line">	<span class="keyword">int</span> (*output)(<span class="keyword">const</span> <span class="keyword">char</span> *buf, <span class="keyword">int</span> len, struct IKCPCB *kcp, <span class="keyword">void</span> *user);	<span class="comment">//发送消息的回调函数</span></span><br><span class="line">	<span class="keyword">void</span> (*writelog)(<span class="keyword">const</span> <span class="keyword">char</span> *<span class="built_in">log</span>, struct IKCPCB *kcp, <span class="keyword">void</span> *user);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="KCP网络包头结构"><a href="#KCP网络包头结构" class="headerlink" title="KCP网络包头结构"></a>KCP网络包头结构</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|&lt;------------ <span class="number">4</span> bytes ------------&gt;|</span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|               conv                | conv：Conversation, 会话序号，用于标识收发数据包是否一致</span><br><span class="line">+--------+--------+--------+--------+ cmd: command，用于标识指令，例如：push，ack等</span><br><span class="line">|  cmd   |  frg   |       wnd       | frg: Fragment, 分段序号，序号从大到小</span><br><span class="line">+--------+--------+--------+--------+ wnd: 接收窗口大小</span><br><span class="line">|                ts                 | ts: 发送的时间戳</span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|                sn                 | sn: Segment序号</span><br><span class="line">+--------+--------+--------+--------+</span><br><span class="line">|                una                | una: Unacknowledged, 当前未收到的序号，即代表这个序号之前的包均收到</span><br><span class="line">+--------+--------+--------+--------+      </span><br><span class="line">|                len                | len: data数据的长度</span><br><span class="line">+--------+--------+--------+--------+</span><br></pre></td></tr></table></figure>
<p>kcp包头总共占用了24个字节。给sn分配了4个字节，可以不用考虑序号越界的问题。</p>
<h1 id="KCP工作流程"><a href="#KCP工作流程" class="headerlink" title="KCP工作流程"></a>KCP工作流程</h1><h2 id="发送数据"><a href="#发送数据" class="headerlink" title="发送数据"></a>发送数据</h2><p>kcp首先将要发送的数据存到kcp-&gt;buffer中，如果需要发送的数据总量的大小大于kcp-&gt;mtu，则将buffer中的数据调用output函数发送出去，output函数由用户传入。</p>
<p>kcp数据包发送顺序：</p>
<ol>
<li><code>IKCP_CMD_ACK</code>(ack)</li>
<li><code>IKCP_CMD_WASK</code>(请求远程窗口大小)</li>
<li><code>IKCP_CMD_WINS</code>(发送本地窗口大小)</li>
<li><code>IKCP_CMD_PUSH</code>(push data)</li>
</ol>
<p><img src="/images/kcp1.png" alt=""></p>
<p>在发送PUSH类型的数据时，首先需要将数据从sen_que移动到sen_buf中（在移动时会检测拥塞窗口的大小，sen_que可以理解为发送数的缓冲队列）。</p>
<p>kcp在发送sen_buf队列中的数据时会检测是否是第一次发送：</p>
<ul>
<li>如果该segment的发送次数为0，则直接发送。</li>
<li>如果发送次数大于0并且已经超时，则再次发送并调整rto和下次超时时间</li>
<li>如果没有超时但是达到了快速重传的条件（被跳过了几个包），则发送并且更新下次超时时间。</li>
</ul>
<h1 id="函数解析"><a href="#函数解析" class="headerlink" title="函数解析"></a>函数解析</h1><h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ikcp_input</span><span class="params">(ikcpcb *kcp, <span class="keyword">const</span> <span class="keyword">char</span> *data, <span class="keyword">long</span> size)</span></span></span><br></pre></td></tr></table></figure>
<p>处理接收到的数据，data即用户传入的数据。kcp不负责网络数据的接收，需要用户将接收到的数据传入。</p>
<p>在接收到数据后，解析数据得到segment的sn，una等数据包头信息。首先根据una清除掉<code>kcp-&gt;snd_buf</code>中已经确认接收到的segment（una即表示该seg之前数据包均已收到），随后根据<code>kcp-&gt;sen_buf</code>更新<code>kcp-&gt;snd_una</code>。</p>
<ol>
<li>ack: <code>IKCP_CMD_ACK</code>，首先根据该segment的rtt更新计算kcp的rtt和rto，删除掉<code>kcp-&gt;snd_buf</code>中相应的segment，更新kcp的sed_una(下一个未确认的segment)。</li>
<li>push:<code>IKCP_CMD_PUSH</code>，收到push segment后需要发送ack，将该segment的sn和ts放入<code>kcp-&gt;acklist</code>中。 如果该seg符合滑动窗口的范围，则将该segment放入<code>kcp-&gt;rev_buf</code>中。 如果<code>kcp-&gt;queue</code>的大小小于<code>kcp-&gt;rev_wnd</code>(滑动窗口的大小)，则将<code>kcp-&gt;rev_buf</code>符合条件的segment放入<code>kcp-&gt;rcv_queue</code>中(保证序号连续的seg)。</li>
<li>window ask: <code>IKCP_CMD_WASK</code>,将kcp-&gt;probe中相应位置为1，发送segment时向远端发送相应接收窗口大小。</li>
<li><code>IKCP_CMD_WINS</code>，对应远端的窗口更新包，无需做额外的操作。</li>
</ol>
<p>随后遍历<code>kcp-&gt;sed_buf</code>，更新每个segment的<code>seg-&gt;fastack</code>(被跳过的次数，用于判断是否需要快速重传)。</p>
<p>如果远端接收状态有更新，则更新本地拥塞窗口的大小。</p>
<h2 id="Receive"><a href="#Receive" class="headerlink" title="Receive"></a>Receive</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ikcp_recv</span><span class="params">(ikcpcb *kcp, <span class="keyword">char</span> *buffer, <span class="keyword">int</span> len)</span></span></span><br></pre></td></tr></table></figure>
<p>用户层面的数据读取，从<code>rcv_queue</code>中读取一个packet（如果该packet在发送前分段的话，则将fragement合并后放入buffer中）。input的操作保证了<code>rcv_queue</code>中的segment都是有序且连续的。</p>
<p>随后如果<code>rcv_queue</code>大小小于<code>rcv_wnd</code>（接收窗口）的大小，则将<code>rcv_buf</code>中合适的segment放入<code>rcv_queue</code>中。</p>
<p>如果需要告知远端主机窗口大小，则<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kcp-&gt;probe |= IKCP_ASK_TELL</span><br></pre></td></tr></table></figure></p>
<p>将<code>ICKP_ASK_TELL</code>置为1。</p>
<h2 id="Send"><a href="#Send" class="headerlink" title="Send"></a>Send</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ikcp_send</span><span class="params">(ikcpcb *kcp, <span class="keyword">const</span> <span class="keyword">char</span> *buffer, <span class="keyword">int</span> len)</span></span></span><br></pre></td></tr></table></figure>
<p>将buffer中需要发送的数据分片后放入<code>snd_queue</code>中。</p>
<p>在发送数据时，会首先检测是否开启了流模式。如果开启流模式，在发送数据时，如果上一个segment没有填满mss（最大分片大小），则将这次要发送的数据继续写入上一个segment。如果没有开启流模式，则创建一个新的segment发送。</p>
<p>如果需要发送的数据大小大于mss，则将其拆分为多个segment发送，如果不是流模式，则将其<code>frg</code>至为其相应的序号，序号从count-1开始递减至0，即count-1表示第一个segment，0表示最后一个segment。</p>
<h2 id="Flush"><a href="#Flush" class="headerlink" title="Flush"></a>Flush</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ikcp_flush</span><span class="params">(ikcpcb *kcp)</span></span></span><br></pre></td></tr></table></figure>
<p>flush data，即发送需要发送的数据，ack，win probe，push data等，以及检测<code>snd_buf</code>中的数据是否需要重传。</p>
<p>将seg的wnd设置为接收窗口的剩余大小<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kcp-&gt;rcv_wnd - kcp-&gt;nrcv_que</span><br></pre></td></tr></table></figure></p>
<p><code>nrcv_que</code>指接收队列中的segment的数量。</p>
<p>在发送时将需要发送的数据填充到buffer中，如果buffer下次填入的数据量 &gt; <code>mtu</code>，则调用output函数将buffer中的数据发送出去，ouotput函数由用户定义。</p>
<h4 id="发送segment"><a href="#发送segment" class="headerlink" title="发送segment"></a>发送segment</h4><p>首先将<code>acklist</code>中需要发送的ack发送出去，kcp在发送时会优先发送ack。</p>
<p>如果远端接收窗口大小为0且当前时间超过下次发送窗口探测时间，则<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kcp-&gt;probe |= IKCP_ASK_SEND;</span><br></pre></td></tr></table></figure></p>
<p>并更新窗口探测时间间隔和下次窗口探测时间。</p>
<p>如果需要探测远端发送窗口大小或者需要告诉远端本机发送窗口大小，则发送相应的probe segment。</p>
<p>取拥塞窗口的大小为发送窗口和远端接收窗口的最小值。在已经发送的segment的数量不超过拥塞窗口大小时将送<code>sed_queue</code>中的segment放入<code>snd_buf</code>中。</p>
<p>遍历<code>snd_buf</code>中的数据：</p>
<ol>
<li>如果之前没有发送过，则设置其rto和超时重传时间，并将needsend置为1.</li>
<li>如果<code>snd_buf</code>中的segment超过其超时重传时间，如果启动无延时模式，则将segment的rto<em>1.5，否则将rto </em> 2，并将needsend置为1。</li>
<li>如果启动了快速重传并且该segment被跳过的次数大于resent，则将needsend置为1，并更新该segment的超时时间。</li>
</ol>
<p>如果needsend被置为1，则将该segment发送出去。</p>
<p>如果segment的重传次数超过kcp的最大重传次数，则更新kcp的连接状态为-1。</p>
<p>发送之后更新ssthresh(拥塞窗口阈值)和cwnd(拥塞窗口大小)。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2017/12/21/剑指offer题解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/21/剑指offer题解/" itemprop="url">剑指offer题解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-21T21:15:39+08:00">
                2017-12-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-01-30T18:20:31+08:00">
                2018-01-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>剑指offer上的一些算法题解。</p>
<h2 id="1-10-Problems"><a href="#1-10-Problems" class="headerlink" title="1 ~ 10 Problems"></a>1 ~ 10 Problems</h2><h3 id="01-赋值运算符函数"><a href="#01-赋值运算符函数" class="headerlink" title="01 赋值运算符函数"></a>01 赋值运算符函数</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？</span><br><span class="line">为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是对于后面问题他就没辙了。</span><br><span class="line">ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中1出现的次数。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">NumberOf1Between1AndN_Solution</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">while</span> (index / <span class="number">10</span> &lt;= n) &#123;</span><br><span class="line">			<span class="keyword">int</span> res = n / index, rem = n % index;</span><br><span class="line">			<span class="keyword">if</span>(res &gt;= <span class="number">1</span>)</span><br><span class="line">				result += res * index / <span class="number">10</span>; </span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (rem &gt;= <span class="number">2</span> * index / <span class="number">10</span>) &#123;</span><br><span class="line">				result += index / <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(rem &gt;= index / <span class="number">10</span> )&#123;</span><br><span class="line">				result += rem - (index / <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			index *= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="03-数组中重复的数字"><a href="#03-数组中重复的数字" class="headerlink" title="03 数组中重复的数字"></a>03 数组中重复的数字</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在一个长度为n的数组里的所有数字都在0到n-1的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，</span><br><span class="line">也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。例如，如果输入长度为7的数组&#123;2, 3, 1, 0, 2, 5, 3&#125;，</span><br><span class="line">那么对应的输出是重复的数字2或者3。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">duplicate</span><span class="params">(<span class="keyword">int</span> numbers[], <span class="keyword">int</span> length, <span class="keyword">int</span>* duplication)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!numbers || length &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">		<span class="keyword">while</span> (numbers[i] != i) &#123;</span><br><span class="line">			<span class="keyword">if</span> (numbers[i] == numbers[numbers[i]]) &#123;</span><br><span class="line">				*duplication = numbers[i];</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			swap(numbers[i], numbers[numbers[i]]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="04-二维数组中的查找"><a href="#04-二维数组中的查找" class="headerlink" title="04 二维数组中的查找"></a>04 二维数组中的查找</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按</span><br><span class="line">照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个</span><br><span class="line">整数，判断数组中是否含有该整数。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//每次比较右上角的元素和target的关系，选择剔除行或者列</span></span><br><span class="line"><span class="comment">//如果该数字等于要查找的数字，则查找过程结束</span></span><br><span class="line"><span class="comment">//如果该数字中大于要查找的数字，则剔除这个字所在的列</span></span><br><span class="line"><span class="comment">//如果这个字小于要查找的数字，则提出这个字所在的行</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span>* matrix, <span class="keyword">int</span> rows, <span class="keyword">int</span> columns, <span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!matrix || rows &lt;= <span class="number">0</span> || columns &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">int</span> index, r = <span class="number">0</span>, c = columns - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (r &lt; rows &amp;&amp; c &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">		index = r * columns + c;</span><br><span class="line">		<span class="keyword">if</span> (matrix[index] == number)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (matrix[index] &lt; number) &#123;</span><br><span class="line">			++r;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (matrix[index] &gt; number) &#123;</span><br><span class="line">			--c;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="05-替换空格"><a href="#05-替换空格" class="headerlink" title="05 替换空格"></a>05 替换空格</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请实现一个函数，把字符串中的每个空格替换成&quot;%20&quot;。例如输入“We are happy.”，则输出“We%20are%20happy.”。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先遍历一遍字符串得到其中空格的数量</span></span><br><span class="line"><span class="comment">//然后从后面开始替换，时间复杂度O(n),空间复杂度O(1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//length 为字符串的总容量</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReplaceBlank</span><span class="params">(<span class="keyword">char</span> <span class="built_in">string</span>[], <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (!<span class="built_in">string</span> || length &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">int</span> blankNum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> oldl = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; <span class="built_in">string</span>[oldl] != <span class="string">'\0'</span>; oldl++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">string</span>[oldl] == <span class="string">' '</span>)</span><br><span class="line">			++blankNum;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> newLength = oldl + <span class="number">2</span> * blankNum;</span><br><span class="line">	<span class="keyword">if</span> (newLength &gt; length)</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> l1 = newLength - <span class="number">1</span>, l2 = oldl - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (l2 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">string</span>[l2] != <span class="string">' '</span>) &#123;</span><br><span class="line">			<span class="built_in">string</span>[l1--] = <span class="built_in">string</span>[l2--];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">string</span>[l1--] = <span class="string">'0'</span>;</span><br><span class="line">			<span class="built_in">string</span>[l1--] = <span class="string">'2'</span>;</span><br><span class="line">			<span class="built_in">string</span>[l1--] = <span class="string">'%'</span>;</span><br><span class="line">			--l2;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="06-从尾到头打印链表"><a href="#06-从尾到头打印链表" class="headerlink" title="06 从尾到头打印链表"></a>06 从尾到头打印链表</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入一个链表的头结点，从尾到头反过来打印出每个结点的值。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; printListFromTailToHead(ListNode* head) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!head)</span><br><span class="line">			<span class="keyword">return</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">		ListNode* node = head;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			result.push_back(node-&gt;val);</span><br><span class="line">			node = node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		reverse(result.begin(), result.end());</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="07-重建二叉树"><a href="#07-重建二叉树" class="headerlink" title="07 重建二叉树"></a>07 重建二叉树</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。</span><br><span class="line">假设输入的前序遍历和中序遍历的结果中都不含重复的数字。</span><br><span class="line">例如输入前序遍历序列&#123; 1,2,4,7,3,5,6,8 &#125;和中序遍历序列&#123; 4,7,2,1,5,3,8,6 &#125;，则重建二叉树并返回。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">reConstructBinaryTree</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pre, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vin)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (pre.size() == <span class="number">0</span> || vin.size() == <span class="number">0</span> || pre.size() != vin.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> createTree(pre, <span class="number">0</span>, pre.size() - <span class="number">1</span>, vin, <span class="number">0</span>, vin.size() - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">TreeNode* <span class="title">createTree</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; pre, <span class="keyword">int</span> p_begin, <span class="keyword">int</span> p_end, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; vin, <span class="keyword">int</span> v_begin, <span class="keyword">int</span> v_end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (p_begin == p_end) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> TreeNode(pre[p_begin]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (p_begin &gt; p_end)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> v_head;</span><br><span class="line">		<span class="keyword">for</span> (v_head = v_begin; v_head &lt;= v_end; v_head++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (vin[v_head] == pre[p_begin])</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		TreeNode* head = <span class="keyword">new</span> TreeNode(vin[v_head]);</span><br><span class="line">		<span class="keyword">if</span> (v_head &gt; v_begin) &#123;</span><br><span class="line">			<span class="keyword">int</span> l = v_head - v_begin;</span><br><span class="line">			head-&gt;left = createTree(pre, p_begin + <span class="number">1</span>, p_begin + l, vin, v_begin, v_head - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (v_head &lt; v_end) &#123;</span><br><span class="line">			<span class="keyword">int</span> l = v_end - v_head;</span><br><span class="line">			head-&gt;right = createTree(pre, p_end - l + <span class="number">1</span>, p_end, vin, v_head + <span class="number">1</span>, v_end);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="08-二叉树的下一个节点"><a href="#08-二叉树的下一个节点" class="headerlink" title="08 二叉树的下一个节点"></a>08 二叉树的下一个节点</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。</span><br><span class="line">注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeLinkNode* <span class="title">GetNext</span><span class="params">(TreeLinkNode* pNode)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pNode)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (pNode-&gt;right) &#123;</span><br><span class="line">			TreeLinkNode* node = pNode-&gt;right;</span><br><span class="line">			<span class="keyword">while</span> (node-&gt;left)</span><br><span class="line">				node = node-&gt;left;</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			TreeLinkNode* node = pNode;</span><br><span class="line">			<span class="keyword">while</span> (node-&gt;next &amp;&amp; node-&gt;next-&gt;right == node)</span><br><span class="line">				node = node-&gt;next;</span><br><span class="line">			<span class="keyword">return</span> node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="09-用两个栈实现队列"><a href="#09-用两个栈实现队列" class="headerlink" title="09 用两个栈实现队列"></a>09 用两个栈实现队列</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用两个栈来实现一个队列，完成队列的Push和Pop操作。 </span><br><span class="line">队列中的元素为int类型。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//很厉害</span></span><br><span class="line"><span class="comment">//一个push栈，一个pop栈</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> node)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stack1;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stack2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Solution::push(<span class="keyword">int</span> node) &#123;</span><br><span class="line">	<span class="keyword">this</span>-&gt;stack1.push(node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Solution::pop() &#123;</span><br><span class="line">	<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;stack2.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		result = stack2.top();</span><br><span class="line">		<span class="keyword">this</span>-&gt;stack2.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (stack1.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			stack2.push(stack1.top());</span><br><span class="line">			stack1.pop();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (stack2.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			result = stack2.top();</span><br><span class="line">			stack2.pop();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-斐波那契数列"><a href="#10-斐波那契数列" class="headerlink" title="10 斐波那契数列"></a>10 斐波那契数列</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">大家都知道斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。</span><br><span class="line">n &lt;= 39</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; fibArray;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span> || n == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> n;</span><br><span class="line">		fibArray = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">		fibArray[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			fibArray[i] = fibArray[i - <span class="number">1</span>] + fibArray[i - <span class="number">2</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> fibArray[n];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="11-20-Problems"><a href="#11-20-Problems" class="headerlink" title="11 ~ 20 Problems"></a>11 ~ 20 Problems</h2><h3 id="11-旋转数组的最小数字"><a href="#11-旋转数组的最小数字" class="headerlink" title="11 旋转数组的最小数字"></a>11 旋转数组的最小数字</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。 </span><br><span class="line">输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。 </span><br><span class="line">例如数组&#123; 3,4,5,1,2 &#125;为&#123; 1,2,3,4,5 &#125;的一个旋转，该数组的最小值为1。 </span><br><span class="line">NOTE：给出的所有元素都大于0，若数组大小为0，请返回0。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minNumberInRotateArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rotateArray)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = rotateArray.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; end &amp;&amp; rotateArray[begin] &gt;= rotateArray[end]) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (rotateArray[mid] &gt;= rotateArray[end]) &#123;</span><br><span class="line">				begin = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (rotateArray[mid] &lt; rotateArray[end]) &#123;</span><br><span class="line">				end = mid;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> rotateArray[begin];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="12-矩阵中的路径"><a href="#12-矩阵中的路径" class="headerlink" title="12 矩阵中的路径"></a>12 矩阵中的路径</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。</span><br><span class="line">路径可以从矩阵中的任意一个格子开始，每一步可以在矩阵中向左，向右，向上，向下移动一个格子。</span><br><span class="line">如果一条路径经过了矩阵中的某一个格子，则该路径不能再进入该格子。 </span><br><span class="line">例如 a b c e s f c s a d e e 矩阵中包含一条字符串&quot;bcced&quot;的路径，但是矩阵中不包含&quot;abcb&quot;路径，</span><br><span class="line">因为字符串的第一个字符b占据了矩阵中的第一行第二个格子之后，路径不能再次进入该格子。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> rows, cols;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; mark;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">hasPath</span><span class="params">(<span class="keyword">char</span>* matrix, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols, <span class="keyword">char</span>* str)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!matrix || rows &lt;= <span class="number">0</span> || cols &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mark = <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;(rows, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(cols, <span class="literal">false</span>));</span><br><span class="line">		<span class="keyword">this</span>-&gt;rows = rows;</span><br><span class="line">		<span class="keyword">this</span>-&gt;cols = cols;</span><br><span class="line">		<span class="keyword">char</span>* c = matrix;</span><br><span class="line">		<span class="keyword">bool</span> result = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(matrix); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (matrix[i] == *str) &#123;</span><br><span class="line">				result = found(matrix, str, i / cols, i % cols);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (result)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">found</span><span class="params">(<span class="keyword">char</span>* matrix, <span class="keyword">char</span>* str, <span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (*str == <span class="string">'\0'</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= rows || y &lt; <span class="number">0</span> || y &gt;= cols)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> index = x * cols + y;</span><br><span class="line">		<span class="keyword">bool</span> result = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (!mark[x][y] &amp;&amp; matrix[index] == *str) &#123;</span><br><span class="line">			mark[x][y] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (!result)</span><br><span class="line">				result = found(matrix, str + <span class="number">1</span>, x - <span class="number">1</span>, y);</span><br><span class="line">			<span class="keyword">if</span> (!result)</span><br><span class="line">				result = found(matrix, str + <span class="number">1</span>, x + <span class="number">1</span>, y);</span><br><span class="line">			<span class="keyword">if</span> (!result)</span><br><span class="line">				result = found(matrix, str + <span class="number">1</span>, x, y - <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">if</span> (!result)</span><br><span class="line">				result = found(matrix, str + <span class="number">1</span>, x, y + <span class="number">1</span>);</span><br><span class="line">			mark[x][y] = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="13-机器人的运动范围"><a href="#13-机器人的运动范围" class="headerlink" title="13 机器人的运动范围"></a>13 机器人的运动范围</h3><p>题目:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">地上有一个m行和n列的方格。</span><br><span class="line">一个机器人从坐标0, 0的格子开始移动，每一次只能向左，右，上，下四个方向移动一格，</span><br><span class="line">但是不能进入行坐标和列坐标的数位之和大于k的格子。 </span><br><span class="line">例如，当k为18时，机器人能够进入方格（35, 37），因为3 + 5 + 3 + 7 = 18。</span><br><span class="line">但是，它不能进入方格（35, 38），因为3 + 5 + 3 + 8 = 19。</span><br><span class="line">请问该机器人能够达到多少个格子？</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">movingCount</span><span class="params">(<span class="keyword">int</span> threshold, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (threshold &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; check(rows * cols, <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; search;</span><br><span class="line">		search.push(<span class="number">0</span>);</span><br><span class="line">		check[<span class="number">0</span> ] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (search.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">int</span> point = search.front();</span><br><span class="line">			<span class="keyword">int</span> x = point / cols, y = point % cols;</span><br><span class="line">			search.pop();</span><br><span class="line">			<span class="keyword">if</span> (x &gt; <span class="number">0</span> &amp;&amp; count(x - <span class="number">1</span>, y) &gt; threshold) &#123;</span><br><span class="line">				check[point - cols] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (x &gt; <span class="number">0</span> &amp;&amp; !check[point - cols]) &#123;</span><br><span class="line">				search.push(point - cols);</span><br><span class="line">				check[point - cols] = <span class="literal">true</span>;</span><br><span class="line">				++result;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (x &lt; rows - <span class="number">1</span> &amp;&amp; count(x + <span class="number">1</span>, y) &gt; threshold) &#123;</span><br><span class="line">				check[point + cols] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (x &lt; rows - <span class="number">1</span> &amp;&amp; !check[point + cols]) &#123;</span><br><span class="line">				search.push(point + cols);</span><br><span class="line">				check[point + cols] = <span class="literal">true</span>;</span><br><span class="line">				++result;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (y &gt; <span class="number">0</span> &amp;&amp; count(x, y - <span class="number">1</span>) &gt; threshold) &#123;</span><br><span class="line">				check[point - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (y &gt; <span class="number">0</span> &amp;&amp; !check[point - <span class="number">1</span>]) &#123;</span><br><span class="line">				search.push(point - <span class="number">1</span>);</span><br><span class="line">				check[point - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">				++result;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (y &lt; cols - <span class="number">1</span> &amp;&amp; count(x, y + <span class="number">1</span>) &gt; threshold) &#123;</span><br><span class="line">				check[point + <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (y &lt; cols - <span class="number">1</span> &amp;&amp; !check[point + <span class="number">1</span>]) &#123;</span><br><span class="line">				search.push(point + <span class="number">1</span>);</span><br><span class="line">				check[point + <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">				++result;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (rows &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			result += rows % <span class="number">10</span>;</span><br><span class="line">			rows /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (cols &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			result += cols % <span class="number">10</span>;</span><br><span class="line">			cols /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="14-剪绳子"><a href="#14-剪绳子" class="headerlink" title="14 剪绳子"></a>14 剪绳子</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">给你一根长度为n绳子，请把绳子剪成m段（m、n都是整数，n&gt;1并且m≥1）。</span><br><span class="line">每段的绳子的长度记为k[0]、k[1]、……、k[m]。k[0]*k[1]*…*k[m]可能的最大乘积是多少？</span><br><span class="line">例如当绳子的长度是8时，我们把它剪成长度分别为2、3、3的三段，此时得到最大的乘积18。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果不知道结论的话可以用动态规划的方法实现</span></span><br><span class="line"><span class="comment">//结论：如果剩下的长度仍大于等于5，则尽可能的减成长度为3的绳子</span></span><br><span class="line"><span class="comment">//如果小于5，则不变</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxProductAfterCutting</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (length &lt;= <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (length &lt;= <span class="number">4</span>)</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line">	<span class="keyword">int</span> time3 = length / <span class="number">3</span>;</span><br><span class="line">	<span class="keyword">int</span> rem = length % <span class="number">3</span>;</span><br><span class="line">	<span class="keyword">if</span> (rem == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">4</span> * (<span class="keyword">int</span>)(<span class="built_in">pow</span>(<span class="number">3</span>, time3 - <span class="number">1</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (rem == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> (<span class="keyword">int</span>)(<span class="built_in">pow</span>(<span class="number">3</span>, time3));</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> (<span class="keyword">int</span>)(<span class="built_in">pow</span>(<span class="number">3</span>, time3)) * rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="15-二进制中1的个数"><a href="#15-二进制中1的个数" class="headerlink" title="15 二进制中1的个数"></a>15 二进制中1的个数</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接将n右移可能会因为n为负数造成死循环</span></span><br><span class="line"><span class="comment">//正常解法是用一个flat每次左移和原来的数进行&amp;运算</span></span><br><span class="line"><span class="comment">//这里采用一种新解法</span></span><br><span class="line"><span class="comment">//n &amp; (n - 1) 相当于将一个数最右边的1变成0</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">NumberOf1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (n) &#123;</span><br><span class="line">			n = n &amp; (n - <span class="number">1</span>);</span><br><span class="line">			++count;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="16-数值的整数次方法"><a href="#16-数值的整数次方法" class="headerlink" title="16 数值的整数次方法"></a>16 数值的整数次方法</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">给定一个double类型的浮点数base和int类型的整数exponent。求base的exponent次方。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">Power</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (exponent == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (exponent &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			flag = <span class="literal">true</span>;</span><br><span class="line">			exponent = -exponent;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">double</span> result = <span class="number">1.0</span>;</span><br><span class="line">		<span class="keyword">double</span> temp = base;</span><br><span class="line">		<span class="keyword">while</span> (exponent &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (exponent &amp; <span class="number">1</span>) &#123;</span><br><span class="line">				result *= temp;</span><br><span class="line">			&#125;</span><br><span class="line">			exponent &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">			temp *= temp;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">			result = <span class="number">1</span> / result;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="18-删除链表中重复的节点"><a href="#18-删除链表中重复的节点" class="headerlink" title="18 删除链表中重复的节点"></a>18 删除链表中重复的节点</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，</span><br><span class="line">重复的结点不保留，返回链表头指针。 </span><br><span class="line">例如，链表1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 处理后为 1-&gt;2-&gt;5</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">deleteDuplication</span><span class="params">(ListNode* pHead)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pHead)</span><br><span class="line">			<span class="keyword">return</span> pHead;</span><br><span class="line">		ListNode* head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		head-&gt;next = pHead;</span><br><span class="line">		ListNode* node = head, *tem;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;next &amp;&amp; node-&gt;next-&gt;next &amp;&amp; node-&gt;next-&gt;val == node-&gt;next-&gt;next-&gt;val) &#123;</span><br><span class="line">				<span class="keyword">int</span> val = node-&gt;next-&gt;val;</span><br><span class="line">				<span class="keyword">while</span> (node-&gt;next &amp;&amp; node-&gt;next-&gt;val == val) &#123;</span><br><span class="line">					tem = node-&gt;next;</span><br><span class="line">					node-&gt;next = node-&gt;next-&gt;next;</span><br><span class="line">					<span class="keyword">delete</span> tem;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//需要注意!</span></span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				node = node-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		pHead = head-&gt;next;</span><br><span class="line">		<span class="keyword">delete</span> head;</span><br><span class="line">		<span class="keyword">return</span> pHead;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="19-正则表达死匹配"><a href="#19-正则表达死匹配" class="headerlink" title="19 正则表达死匹配"></a>19 正则表达死匹配</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请实现一个函数用来匹配包括&apos;.&apos;和&apos;*&apos;的正则表达式。模式中的字符&apos;.&apos;表示任意一个字符，</span><br><span class="line">而&apos;*&apos;表示它前面的字符可以出现任意次（包含0次）。 </span><br><span class="line">在本题中，匹配是指字符串的所有字符匹配整个模式。</span><br><span class="line">例如，字符串&quot;aaa&quot;与模式&quot;a.a&quot;和&quot;ab*ac*a&quot;匹配，但是与&quot;aa.a&quot;和&quot;ab*a&quot;均不匹配</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">match</span><span class="params">(<span class="keyword">char</span>* str, <span class="keyword">char</span>* pattern)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!str &amp;&amp; !pattern)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> M = <span class="built_in">strlen</span>(str);</span><br><span class="line">		<span class="keyword">int</span> N = <span class="built_in">strlen</span>(pattern);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; check(M + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(N + <span class="number">1</span>, <span class="literal">false</span>));</span><br><span class="line">		check[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= N; k++) &#123;</span><br><span class="line">			check[<span class="number">0</span>][k] = (k &gt;= <span class="number">2</span> &amp;&amp; pattern[k - <span class="number">1</span>] == <span class="string">'*'</span> &amp;&amp; check[<span class="number">0</span>][k - <span class="number">2</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (pattern[j - <span class="number">1</span>] == <span class="string">'.'</span>) &#123;</span><br><span class="line">					check[i][j] = check[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (pattern[j - <span class="number">1</span>] == <span class="string">'*'</span>) &#123;</span><br><span class="line">					<span class="keyword">if</span> (j &gt;= <span class="number">2</span> &amp;&amp; pattern[j - <span class="number">2</span>] == <span class="string">'.'</span>) &#123;</span><br><span class="line">						<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= i; k++) &#123;</span><br><span class="line">							<span class="keyword">if</span> (check[k][j - <span class="number">2</span>]) &#123;</span><br><span class="line">								check[i][j] = <span class="literal">true</span>;</span><br><span class="line">								<span class="keyword">break</span>;</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> &#123;</span><br><span class="line">						check[i][j] = check[i][j - <span class="number">1</span>] ||</span><br><span class="line">							(j &gt;= <span class="number">2</span> &amp;&amp; (check[i - <span class="number">1</span>][j] || check[i - <span class="number">1</span>][j - <span class="number">1</span>]) &amp;&amp; (str[i - <span class="number">1</span>] == pattern[j - <span class="number">2</span>])) ||</span><br><span class="line">							(j &gt;= <span class="number">2</span> &amp;&amp; check[i][j - <span class="number">2</span>]);</span><br><span class="line">					&#125;	</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					check[i][j] = check[i - <span class="number">1</span>][j - <span class="number">1</span>] &amp;&amp; (str[i - <span class="number">1</span>] == pattern[j - <span class="number">1</span>]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//for (int i = 0; i &lt;= M; i++) &#123;</span></span><br><span class="line">		<span class="comment">//	for (int j = 0; j &lt;= N; j++) &#123;</span></span><br><span class="line">		<span class="comment">//		cout &lt;&lt; check[i][j] &lt;&lt; " ";</span></span><br><span class="line">		<span class="comment">//	&#125;</span></span><br><span class="line">		<span class="comment">//	cout &lt;&lt; endl;</span></span><br><span class="line">		<span class="comment">//&#125;</span></span><br><span class="line">		<span class="keyword">return</span> check[M][N];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="21-30-Problems"><a href="#21-30-Problems" class="headerlink" title="21 ~ 30 Problems"></a>21 ~ 30 Problems</h2><h3 id="21-调整数组顺序使奇数位于偶数前面"><a href="#21-调整数组顺序使奇数位于偶数前面" class="headerlink" title="21 调整数组顺序使奇数位于偶数前面"></a>21 调整数组顺序使奇数位于偶数前面</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入一个整数数组，实现一个函数来调整该数组中数字的顺序，</span><br><span class="line">使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，</span><br><span class="line">并保证奇数和奇数，偶数和偶数之间的相对位置不变。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">array</span>.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; orderArray(<span class="built_in">array</span>);</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = orderArray.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; orderArray.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (orderArray[i] &amp; <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="built_in">array</span>[begin++] = orderArray[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = orderArray.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!(orderArray[i] &amp; <span class="number">1</span>))</span><br><span class="line">				<span class="built_in">array</span>[end--] = orderArray[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="22-链表中倒数第k个节点"><a href="#22-链表中倒数第k个节点" class="headerlink" title="22 链表中倒数第k个节点"></a>22 链表中倒数第k个节点</h3><p>题目:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入一个链表，输出该链表中倒数第k个结点。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">FindKthToTail</span><span class="params">(ListNode* pListHead, <span class="keyword">unsigned</span> <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (k &lt;= <span class="number">0</span> || !pListHead)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		ListNode* node = pListHead;</span><br><span class="line">		ListNode* lastKNode = pListHead;</span><br><span class="line">		<span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			<span class="keyword">if</span> (number &gt;= k)</span><br><span class="line">				lastKNode = lastKNode-&gt;next;</span><br><span class="line">			node = node-&gt;next;</span><br><span class="line">			number++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (k &gt; number)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> lastKNode;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="23-链表中环的入口点"><a href="#23-链表中环的入口点" class="headerlink" title="23 链表中环的入口点"></a>23 链表中环的入口点</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一个链表中包含环，请找出该链表的环的入口结点。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">EntryNodeOfLoop</span><span class="params">(ListNode* pHead)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pHead)</span><br><span class="line">			<span class="keyword">return</span> pHead;</span><br><span class="line">		ListNode *fast = pHead, *slow = pHead;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (fast) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!fast-&gt;next || !fast-&gt;next-&gt;next)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">			fast = fast-&gt;next-&gt;next;</span><br><span class="line">			slow = slow-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (fast == slow)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		ListNode *entrance = pHead;</span><br><span class="line">		<span class="keyword">while</span> (entrance != slow) &#123;</span><br><span class="line">			entrance = entrance-&gt;next;</span><br><span class="line">			slow = slow-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> entrance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="24-反转链表"><a href="#24-反转链表" class="headerlink" title="24 反转链表"></a>24 反转链表</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入一个链表，反转链表后，输出链表的所有元素。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">ReverseList</span><span class="params">(ListNode* pHead)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pHead || !pHead-&gt;next)</span><br><span class="line">			<span class="keyword">return</span> pHead;</span><br><span class="line">		ListNode *p1 = pHead, *p2 = pHead-&gt;next, *p3 = pHead-&gt;next-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (p2) &#123;</span><br><span class="line">			p2-&gt;next = p1;</span><br><span class="line">			p1 = p2;</span><br><span class="line">			p2 = p3;</span><br><span class="line">			<span class="keyword">if</span> (p3)</span><br><span class="line">				p3 = p3-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		pHead-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> p1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="25-合并两个排序的链表"><a href="#25-合并两个排序的链表" class="headerlink" title="25 合并两个排序的链表"></a>25 合并两个排序的链表</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入两个单调递增的链表，输出两个链表合成后的链表，当然我们需要合成后的链表满足单调不减规则。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">Merge</span><span class="params">(ListNode* pHead1, ListNode* pHead2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pHead1)</span><br><span class="line">			<span class="keyword">return</span> pHead2;</span><br><span class="line">		<span class="keyword">if</span> (!pHead2)</span><br><span class="line">			<span class="keyword">return</span> pHead1;</span><br><span class="line"></span><br><span class="line">		ListNode *node1 = pHead1, *node2 = pHead2, *node;</span><br><span class="line">		ListNode *head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		node = head;</span><br><span class="line">		<span class="keyword">while</span> (node1 &amp;&amp; node2) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node1-&gt;val &lt;= node2-&gt;val) &#123;</span><br><span class="line">				node-&gt;next = node1;</span><br><span class="line">				node1 = node1-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				node-&gt;next = node2;</span><br><span class="line">				node2 = node2-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			node = node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (node1) &#123;</span><br><span class="line">			node-&gt;next = node1;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (node2) &#123;</span><br><span class="line">			node-&gt;next = node2;</span><br><span class="line">		&#125;</span><br><span class="line">		node = head-&gt;next;</span><br><span class="line">		<span class="keyword">delete</span> head;</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="26-树的子结构"><a href="#26-树的子结构" class="headerlink" title="26 树的子结构"></a>26 树的子结构</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入两棵二叉树A，B，判断B是不是A的子结构。（ps：我们约定空树不是任意一个树的子结构）</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">HasSubtree</span><span class="params">(TreeNode* pRoot1, TreeNode* pRoot2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pRoot2 || !pRoot1)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="built_in">queue</span>&lt;TreeNode*&gt; nodeQueue;</span><br><span class="line">		nodeQueue.push(pRoot1);</span><br><span class="line">		<span class="keyword">while</span> (nodeQueue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			TreeNode* top = nodeQueue.front();</span><br><span class="line">			<span class="keyword">if</span> (top-&gt;val == pRoot2-&gt;val &amp;&amp; check(top, pRoot2))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			nodeQueue.pop();</span><br><span class="line">			<span class="keyword">if</span> (top-&gt;left)</span><br><span class="line">				nodeQueue.push(top-&gt;left);</span><br><span class="line">			<span class="keyword">if</span> (top-&gt;right)</span><br><span class="line">				nodeQueue.push(top-&gt;right);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(TreeNode* node1, TreeNode* node2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node1 &amp;&amp; !node2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (!node1 || !node2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (node1-&gt;val != node2-&gt;val)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">bool</span> result = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (node2-&gt;left) &#123;</span><br><span class="line">			result *= check(node1-&gt;left, node2-&gt;left);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (node2-&gt;right) &#123;</span><br><span class="line">			result *= check(node1-&gt;right, node2-&gt;right);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="27-2叉树的镜像"><a href="#27-2叉树的镜像" class="headerlink" title="27 2叉树的镜像"></a>27 2叉树的镜像</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">操作给定的二叉树，将其变换为源二叉树的镜像。</span><br><span class="line">输入描述 :</span><br><span class="line">二叉树的镜像定义：源二叉树</span><br><span class="line">    8</span><br><span class="line">   / \</span><br><span class="line">  6   10</span><br><span class="line"> / \ / \</span><br><span class="line">5  7 9 11</span><br><span class="line">镜像二叉树</span><br><span class="line">    8</span><br><span class="line">   / \</span><br><span class="line">  10   6</span><br><span class="line"> / \ / \</span><br><span class="line">11 9 7  5</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Mirror</span><span class="params">(TreeNode *pRoot)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pRoot)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		TreeNode* tem = pRoot-&gt;left;</span><br><span class="line">		pRoot-&gt;left = pRoot-&gt;right;</span><br><span class="line">		pRoot-&gt;right = tem;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (pRoot-&gt;left)</span><br><span class="line">			Mirror(pRoot-&gt;left);</span><br><span class="line">		<span class="keyword">if</span> (pRoot-&gt;right)</span><br><span class="line">			Mirror(pRoot-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="28-对称的二叉树"><a href="#28-对称的二叉树" class="headerlink" title="28 对称的二叉树"></a>28 对称的二叉树</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请实现一个函数，用来判断一颗二叉树是不是对称的。</span><br><span class="line">注意，如果一个二叉树同此二叉树的镜像是同样的，定义其为对称的。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isSymmetrical</span><span class="params">(TreeNode* pRoot)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pRoot)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">return</span> isMirror(pRoot-&gt;left, pRoot-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isMirror</span><span class="params">(TreeNode* node1, TreeNode* node2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node1 &amp;&amp; !node2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (!node1 || !node2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (node1-&gt;val != node2-&gt;val)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> isMirror(node1-&gt;left, node2-&gt;right) &amp;&amp; isMirror(node1-&gt;right, node2-&gt;left);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="30-包含min函数的栈"><a href="#30-包含min函数的栈" class="headerlink" title="30 包含min函数的栈"></a>30 包含min函数的栈</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (minValue &gt; value)</span><br><span class="line">			minValue = value;</span><br><span class="line">		minStack.push(minValue);</span><br><span class="line">		dataStack.push(value);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		dataStack.pop();</span><br><span class="line">		minStack.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> dataStack.top();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">min</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> minStack.top();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> minValue = INT_MAX;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; minStack;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; dataStack;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="31-40-Problems"><a href="#31-40-Problems" class="headerlink" title="31 ~ 40 Problems"></a>31 ~ 40 Problems</h2><h3 id="31-栈的压入和弹出序列"><a href="#31-栈的压入和弹出序列" class="headerlink" title="31 栈的压入和弹出序列"></a>31 栈的压入和弹出序列</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。</span><br><span class="line">假设压入栈的所有数字均不相等。</span><br><span class="line">例如序列1, 2, 3, 4, 5是某栈的压入顺序，序列4，5, 3, 2, 1是该压栈序列对应的一个弹出序列，</span><br><span class="line">但4, 3, 5, 1, 2就不可能是该压栈序列的弹出序列。（注意：这两个序列的长度是相等的）</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">IsPopOrder</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pushV, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; popV)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (pushV.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; dataStack;</span><br><span class="line">		<span class="keyword">while</span> (index1 &lt; pushV.size()) &#123;</span><br><span class="line">			<span class="keyword">do</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (index1 &gt;= pushV.size() || index2 &gt;= popV.size())</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				dataStack.push(pushV[index1]);</span><br><span class="line">			&#125; <span class="keyword">while</span> (pushV[index1++] != popV[index2]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span> (dataStack.size() &gt; <span class="number">0</span> &amp;&amp; dataStack.top() == popV[index2]) &#123;</span><br><span class="line">				dataStack.pop();</span><br><span class="line">				index2++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> dataStack.size() == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="32-从上到下打印二叉树"><a href="#32-从上到下打印二叉树" class="headerlink" title="32 从上到下打印二叉树"></a>32 从上到下打印二叉树</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从上往下打印出二叉树的每个节点，同层节点从左至右打印。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//层序遍历二叉树本质上是广度优先遍历二叉树</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; PrintFromTopToBottom(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!root)</span><br><span class="line">			<span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;result;</span><br><span class="line">		<span class="built_in">queue</span>&lt;TreeNode*&gt; levelQueue;</span><br><span class="line">		levelQueue.push(root);</span><br><span class="line">		<span class="keyword">while</span> (levelQueue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			TreeNode* node = levelQueue.front();</span><br><span class="line">			levelQueue.pop();</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">				levelQueue.push(node-&gt;left);</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">				levelQueue.push(node-&gt;right);</span><br><span class="line">			result.push_back(node-&gt;val);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从上到下按层打印二叉树，同一层结点从左至右输出。每一层输出一行。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Print(TreeNode* pRoot) &#123;</span><br><span class="line">		<span class="keyword">if</span> (pRoot == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; curruntLevel;</span><br><span class="line">		<span class="keyword">int</span> currunt = <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">queue</span>&lt;TreeNode*&gt; nodeQueue;</span><br><span class="line">		nodeQueue.push(pRoot);</span><br><span class="line">		<span class="keyword">while</span> (nodeQueue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			TreeNode* node = nodeQueue.front();</span><br><span class="line">			nodeQueue.pop();</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">				nodeQueue.push(node-&gt;left);</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">				nodeQueue.push(node-&gt;right);</span><br><span class="line">			curruntLevel.push_back(node-&gt;val);</span><br><span class="line">			currunt--;</span><br><span class="line">			<span class="keyword">if</span> (currunt == <span class="number">0</span>) &#123;</span><br><span class="line">				currunt = nodeQueue.size();</span><br><span class="line">				result.push_back(curruntLevel);</span><br><span class="line">				curruntLevel = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请实现一个函数按照之字形打印二叉树，</span><br><span class="line">即第一行按照从左到右的顺序打印，第二层按照从右至左的顺序打印，第三行按照从左到右的顺序打印，其他行以此类推。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//其实copy操作可以省去，用一个二维的数组和一个bool量实现</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Print(TreeNode* pRoot) &#123;</span><br><span class="line">		<span class="keyword">if</span> (pRoot == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;TreeNode*&gt; level1;</span><br><span class="line">		<span class="built_in">vector</span>&lt;TreeNode*&gt; level2;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; curruntLevel;</span><br><span class="line">		level1.push_back(pRoot);</span><br><span class="line">		<span class="keyword">bool</span> currunt = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">while</span> (level1.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level1.size(); i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (level1[i]-&gt;left) &#123;</span><br><span class="line">					level2.push_back(level1[i]-&gt;left);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (level1[i]-&gt;right)</span><br><span class="line">					level2.push_back(level1[i]-&gt;right);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (currunt) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level1.size(); i++) &#123;</span><br><span class="line">					curruntLevel.push_back(level1[i]-&gt;val);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = level1.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">					curruntLevel.push_back(level1[i]-&gt;val);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			level1 = level2;</span><br><span class="line">			level2 = <span class="built_in">vector</span>&lt;TreeNode*&gt;();</span><br><span class="line">			result.push_back(curruntLevel);</span><br><span class="line">			curruntLevel = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line">			currunt = !currunt;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="33-二叉树的后续遍历序列"><a href="#33-二叉树的后续遍历序列" class="headerlink" title="33 二叉树的后续遍历序列"></a>33 二叉树的后续遍历序列</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。</span><br><span class="line">如果是则输出Yes, 否则输出No。假设输入的数组的任意两个数字都互不相同。</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">VerifySquenceOfBST</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sequence)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (sequence.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">return</span> justify(sequence, <span class="number">0</span>, sequence.size() - <span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">justify</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;sequence, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin == end)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> top = sequence[end];</span><br><span class="line">		<span class="keyword">int</span> firstLarge;</span><br><span class="line">		<span class="keyword">for</span> (firstLarge = begin; firstLarge &lt; end; firstLarge++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (sequence[firstLarge] &gt; top)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = firstLarge; i &lt; end; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (sequence[i] &lt; top)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (firstLarge == begin) &#123;</span><br><span class="line">			<span class="keyword">return</span> justify(sequence, begin, end - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (firstLarge == end)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> justify(sequence, begin, end - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> justify(sequence, begin, firstLarge - <span class="number">1</span>) &amp;&amp; justify(sequence, firstLarge, end - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="34-二叉树中和为某一值的路径"><a href="#34-二叉树中和为某一值的路径" class="headerlink" title="34 二叉树中和为某一值的路径"></a>34 二叉树中和为某一值的路径</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入一颗二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。</span><br><span class="line">路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; FindPath(TreeNode* root, <span class="keyword">int</span> expectNumber) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!root)</span><br><span class="line">			<span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">		<span class="keyword">this</span>-&gt;expectNumber = expectNumber;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pathNumbers;</span><br><span class="line">		find(pathNumbers, root, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;paths;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; paths;</span><br><span class="line">	<span class="keyword">int</span> expectNumber;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">find</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; pathNumbers,TreeNode* node,<span class="keyword">int</span> total)</span> </span>&#123;</span><br><span class="line">		pathNumbers.push_back(node-&gt;val);</span><br><span class="line">		total += node-&gt;val;</span><br><span class="line">		<span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right) &#123;</span><br><span class="line">			<span class="keyword">if</span> (total == <span class="keyword">this</span>-&gt;expectNumber) &#123;</span><br><span class="line">				<span class="keyword">this</span>-&gt;paths.push_back(pathNumbers);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;left) &#123;</span><br><span class="line">				find(pathNumbers, node-&gt;left, total);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right) &#123;</span><br><span class="line">				find(pathNumbers, node-&gt;right, total);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (pathNumbers.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			total -= pathNumbers.back();</span><br><span class="line">			pathNumbers.pop_back();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="35-复杂链表的复制"><a href="#35-复杂链表的复制" class="headerlink" title="35 复杂链表的复制"></a>35 复杂链表的复制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入一个复杂链表（每个节点中有节点值，以及两个指针，一个指向下一个节点，</span><br><span class="line">另一个特殊指针指向任意一个节点），返回结果为复制后复杂链表的head。</span><br><span class="line">（注意，输出结果中请不要返回参数中的节点引用，否则判题程序会直接返回空）</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">RandomListNode</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> label;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">RandomListNode</span> *<span class="title">next</span>, *<span class="title">random</span>;</span></span><br><span class="line">	RandomListNode(<span class="keyword">int</span> x) : label(x), next(<span class="literal">NULL</span>), random(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">RandomListNode* <span class="title">Clone</span><span class="params">(RandomListNode* pHead)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pHead)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		RandomListNode* node = pHead;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			RandomListNode *newNode = <span class="keyword">new</span> RandomListNode(node-&gt;label);</span><br><span class="line">			newNode-&gt;next = node-&gt;next;</span><br><span class="line">			node-&gt;next = newNode;</span><br><span class="line"></span><br><span class="line">			node = newNode-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		node = pHead;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;random) &#123;</span><br><span class="line">				node-&gt;next-&gt;random = node-&gt;random-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				node-&gt;next-&gt;random = <span class="literal">NULL</span>;</span><br><span class="line">			node = node-&gt;next-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		RandomListNode* newHead = <span class="keyword">new</span> RandomListNode(<span class="number">0</span>), *newNode;</span><br><span class="line">		newNode = newHead;</span><br><span class="line">		node = pHead;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			newNode-&gt;next = node-&gt;next;</span><br><span class="line">			node-&gt;next = node-&gt;next-&gt;next;</span><br><span class="line"></span><br><span class="line">			newNode = newNode-&gt;next;</span><br><span class="line">			node = node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		newNode = newHead-&gt;next;</span><br><span class="line">		<span class="keyword">delete</span> newHead;</span><br><span class="line">		<span class="keyword">return</span> newNode;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="36-二叉搜索树与双向链表"><a href="#36-二叉搜索树与双向链表" class="headerlink" title="36 二叉搜索树与双向链表"></a>36 二叉搜索树与双向链表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输入一棵二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的结点，只能调整树中结点指针的指向。</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">Convert</span><span class="params">(TreeNode* pRootOfTree)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!pRootOfTree)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		change(pRootOfTree);</span><br><span class="line">		<span class="keyword">while</span> (lagetestNode-&gt;left)</span><br><span class="line">			lagetestNode = lagetestNode-&gt;left;</span><br><span class="line">		<span class="keyword">return</span> lagetestNode;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//TreeNode* smallestNode;</span></span><br><span class="line">	TreeNode* lagetestNode = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;left) &#123;</span><br><span class="line">			change(node-&gt;left);</span><br><span class="line">		&#125;</span><br><span class="line">		node-&gt;left = lagetestNode;</span><br><span class="line">		<span class="keyword">if</span> (lagetestNode) &#123;</span><br><span class="line">			lagetestNode-&gt;right = node;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		lagetestNode = node;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;right) &#123;</span><br><span class="line">			change(node-&gt;right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="37-序列化二叉树"><a href="#37-序列化二叉树" class="headerlink" title="37 序列化二叉树"></a>37 序列化二叉树</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请实现两个函数，分别用来序列化和反序列化二叉树</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">char</span>* <span class="title">Serialize</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; values;</span><br><span class="line">		Serial(root, values);</span><br><span class="line">		<span class="built_in">stringstream</span> ss;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (values[i] == <span class="number">-1</span>) &#123;</span><br><span class="line">				ss &lt;&lt; <span class="string">'$'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				ss &lt;&lt; values[i];</span><br><span class="line">			&#125;</span><br><span class="line">			ss &lt;&lt; <span class="string">','</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> (<span class="keyword">char</span>*)ss.str().c_str();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">TreeNode* <span class="title">Deserialize</span><span class="params">(<span class="keyword">char</span> *str)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Serial</span><span class="params">(TreeNode* node, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; values)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node) &#123;</span><br><span class="line">			values.push_back(<span class="number">-1</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		values.push_back(node-&gt;val);</span><br><span class="line">		Serial(node-&gt;left, values);</span><br><span class="line">		Serial(node-&gt;right, values);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="39-数组中出现次数超过一半的数字"><a href="#39-数组中出现次数超过一半的数字" class="headerlink" title="39 数组中出现次数超过一半的数字"></a>39 数组中出现次数超过一半的数字</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。</span><br><span class="line">例如输入一个长度为9的数组&#123; 1,2,3,2,2,2,5,4,2 &#125;。</span><br><span class="line">由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; numbers)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (numbers.size() &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> INT_MAX;</span><br><span class="line">		<span class="keyword">if</span> (numbers.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> numbers[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">int</span> result = numbers[<span class="number">0</span>], times = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; numbers.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (numbers[i] != result) &#123;</span><br><span class="line">				--times;</span><br><span class="line">				<span class="keyword">if</span> (times == <span class="number">0</span>) &#123;</span><br><span class="line">					result = numbers[i];</span><br><span class="line">					times = <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				times++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> CheckHalf(result, numbers) ? result : <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">CheckHalf</span><span class="params">(<span class="keyword">int</span> number, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; numbers)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> times = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (numbers[i] == number) &#123;</span><br><span class="line">				times++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> times &gt; numbers.size() / <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="40-最小的k个数"><a href="#40-最小的k个数" class="headerlink" title="40 最小的k个数"></a>40 最小的k个数</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入n个整数，找出其中最小的K个数。</span><br><span class="line">例如输入4, 5, 1, 6, 2, 7, 3, 8这8个数字，则最小的4个数字是1, 2, 3, 4, 。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; GetLeastNumbers_Solution(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; input, <span class="keyword">int</span> k) &#123;</span><br><span class="line">		<span class="keyword">if</span> (k &lt;= <span class="number">0</span> || k &gt; input.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>-&gt;result;</span><br><span class="line">		FindSmallestK(input, k, <span class="number">0</span>, input.size() - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">FindSmallestK</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; numbers, <span class="keyword">int</span> k, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (k == <span class="number">0</span> || begin &gt; end)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (end - begin + <span class="number">1</span> &lt;= k) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt;= end; i++) &#123;</span><br><span class="line">				<span class="keyword">this</span>-&gt;result.push_back(numbers[i]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> num = numbers[end];</span><br><span class="line">		<span class="keyword">int</span> b = begin, e = end - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (b &lt; e) &#123;</span><br><span class="line">			<span class="keyword">while</span> (b &lt; end &amp;&amp; numbers[b] &lt;= num)</span><br><span class="line">				++b;</span><br><span class="line">			<span class="keyword">while</span> (e &gt; begin &amp;&amp; numbers[e] &gt; num)</span><br><span class="line">				--e;</span><br><span class="line">			<span class="keyword">if</span> (b &lt; e)</span><br><span class="line">				swap(numbers[b], numbers[e]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(numbers[b] &gt; numbers[end])</span><br><span class="line">			swap(numbers[b], numbers[end]);</span><br><span class="line">		<span class="keyword">if</span> (b == end) &#123;</span><br><span class="line">			FindSmallestK(numbers, k, begin, end - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (b - begin + <span class="number">1</span> &lt;= k) &#123;</span><br><span class="line">			k -= b - begin + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt;= b; i++) &#123;</span><br><span class="line">				result.push_back(numbers[i]);</span><br><span class="line">			&#125;</span><br><span class="line">			FindSmallestK(numbers, k, b + <span class="number">1</span>, end);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			FindSmallestK(numbers, k, begin, b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="41-50-Problems"><a href="#41-50-Problems" class="headerlink" title="41 ~ 50 Problems"></a>41 ~ 50 Problems</h2><h3 id="42-连续子数组的最大和"><a href="#42-连续子数组的最大和" class="headerlink" title="42 连续子数组的最大和"></a>42 连续子数组的最大和</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HZ偶尔会拿些专业问题来忽悠那些非计算机专业的同学。</span><br><span class="line">今天测试组开完会后, 他又发话了:在古老的一维模式识别中, 常常需要计算连续子向量的最大和, 当向量全为正数的时候, 问题很好解决。但是, 如果向量中包含负数, 是否应该包含某个负数, 并期望旁边的正数会弥补它呢？</span><br><span class="line">例如 : &#123;6, -3, -2, 7, -15, 1, 2, 2&#125;, 连续子向量的最大和为8(从第0个开始, 到第3个为止)。</span><br><span class="line">你会不会被他忽悠住？(子向量的长度至少是1)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">array</span>.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> max = INT_MIN, sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (end &lt; <span class="built_in">array</span>.size()) &#123;</span><br><span class="line">			sum += <span class="built_in">array</span>[end];</span><br><span class="line">			<span class="keyword">if</span> (sum &gt; max)</span><br><span class="line">				max = sum;</span><br><span class="line">			<span class="keyword">if</span> (sum &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">				begin = end + <span class="number">1</span>;</span><br><span class="line">				sum = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			end++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> max;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="43-1-n整数中1出现的次数"><a href="#43-1-n整数中1出现的次数" class="headerlink" title="43  1~n整数中1出现的次数"></a>43  1~n整数中1出现的次数</h3><p>题目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？</span><br><span class="line">为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是对于后面问题他就没辙了。</span><br><span class="line">ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中1出现的次数。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">NumberOf1Between1AndN_Solution</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">while</span> (index / <span class="number">10</span> &lt;= n) &#123;</span><br><span class="line">			<span class="keyword">int</span> res = n / index, rem = n % index;</span><br><span class="line">			<span class="keyword">if</span>(res &gt;= <span class="number">1</span>)</span><br><span class="line">				result += res * index / <span class="number">10</span>; </span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (rem &gt;= <span class="number">2</span> * index / <span class="number">10</span>) &#123;</span><br><span class="line">				result += index / <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(rem &gt;= index / <span class="number">10</span> )&#123;</span><br><span class="line">				result += rem - (index / <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			index *= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2017/12/21/LeetCode-算法题解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/21/LeetCode-算法题解/" itemprop="url">LeetCode  算法题解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-21T18:37:00+08:00">
                2017-12-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-01-30T18:21:37+08:00">
                2018-01-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>LeetCode 上的算法题的一些个人方法。</p>
<p>不多说，直接上代码。</p>
<h2 id="1-20-problems"><a href="#1-20-problems" class="headerlink" title="1 ~ 20 problems"></a>1 ~ 20 problems</h2><h3 id="1-Two-Sum"><a href="#1-Two-Sum" class="headerlink" title="1 Two Sum"></a>1 Two Sum</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (nums[i] + nums[j] == target) &#123;</span><br><span class="line">					<span class="keyword">return</span>&#123; i,j &#125;;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-Add-Two-Numbers"><a href="#2-Add-Two-Numbers" class="headerlink" title="2 Add Two Numbers"></a>2 Add Two Numbers</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">		ListNode * l3 = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		ListNode* l = l3;</span><br><span class="line">		ListNode* last;</span><br><span class="line">		<span class="keyword">while</span> (l1 != <span class="literal">NULL</span> &amp;&amp; l2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (l-&gt;val + l1-&gt;val + l2-&gt;val &lt; <span class="number">10</span>) &#123;</span><br><span class="line">				l-&gt;val += l1-&gt;val + l2-&gt;val;</span><br><span class="line">				l-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (l-&gt;val + l1-&gt;val + l2-&gt;val &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">				l-&gt;next = <span class="keyword">new</span> ListNode((l-&gt;val + l1-&gt;val + l2-&gt;val) / <span class="number">10</span>);</span><br><span class="line">				l-&gt;val = (l-&gt;val + l1-&gt;val + l2-&gt;val) % <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			last = l;</span><br><span class="line">			l = l-&gt;next;</span><br><span class="line">			l1 = l1-&gt;next;</span><br><span class="line">			l2 = l2-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l1 == <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span> (l2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (l-&gt;val + l2-&gt;val &lt; <span class="number">10</span>) &#123;</span><br><span class="line">					l-&gt;val += l2-&gt;val;</span><br><span class="line">					l-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (l-&gt;val + l2-&gt;val &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">					l-&gt;next = <span class="keyword">new</span> ListNode((l-&gt;val + l2-&gt;val) / <span class="number">10</span>);</span><br><span class="line">					l-&gt;val = (l-&gt;val + l2-&gt;val) % <span class="number">10</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				last = l;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l2 = l2-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l2 == <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span> (l1 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (l-&gt;val + l1-&gt;val &lt; <span class="number">10</span>) &#123;</span><br><span class="line">					l-&gt;val += l1-&gt;val;</span><br><span class="line">					l-&gt;next = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (l-&gt;val + l1-&gt;val &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">					l-&gt;next = <span class="keyword">new</span> ListNode((l-&gt;val + l1-&gt;val) / <span class="number">10</span>);</span><br><span class="line">					l-&gt;val = (l-&gt;val + l1-&gt;val) % <span class="number">10</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				last = l;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l1 = l1-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l-&gt;val == <span class="number">0</span>)</span><br><span class="line">			last-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> l3;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-Longest-Substring-Without-Repeating-Characters"><a href="#3-Longest-Substring-Without-Repeating-Characters" class="headerlink" title="3 Longest Substring Without Repeating Characters"></a>3 Longest Substring Without Repeating Characters</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">bool</span> exist[<span class="number">128</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">128</span>; i++) &#123;</span><br><span class="line">			exist[i] = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>, max = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; s.length(); j++) &#123;</span><br><span class="line">				<span class="keyword">char</span> c = s[j];</span><br><span class="line">				<span class="keyword">if</span> (exist[c]) &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					exist[c] = <span class="literal">true</span>;</span><br><span class="line">					length++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">128</span>; i++) &#123;</span><br><span class="line">				exist[i] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (length &gt; max)</span><br><span class="line">				max = length;</span><br><span class="line">			length = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> max;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="4-Median-of-Two-Sorted-Arrays-cpp"><a href="#4-Median-of-Two-Sorted-Arrays-cpp" class="headerlink" title="4 Median of Two Sorted Arrays.cpp"></a>4 Median of Two Sorted Arrays.cpp</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> l1 = (nums1.size() + nums2.size() + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> l2 = (nums1.size() + nums2.size() + <span class="number">2</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; l1 &lt;&lt; <span class="string">" "</span> &lt;&lt; l2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> (getkth(nums1, <span class="number">0</span>, nums1.size(), nums2, <span class="number">0</span>, nums2.size(), l1) + getkth(nums1, <span class="number">0</span>, nums1.size(), nums2, <span class="number">0</span>, nums2.size(), l2)) / <span class="number">2.0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getkth</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> begin1, <span class="keyword">int</span> l1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> begin2, <span class="keyword">int</span> l2, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (l1 &gt; l2)</span><br><span class="line">			<span class="keyword">return</span> getkth(nums2, begin2, l2, nums1, begin1, l1, k);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (l1 == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> nums2[begin2 + k - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (k == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> min(nums1[begin1], nums2[begin2]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> i = min(l1, k / <span class="number">2</span>), j = min(l2, k / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (nums1[begin1 + i - <span class="number">1</span>] &gt; nums2[begin2 + j - <span class="number">1</span>]) &#123;</span><br><span class="line">			<span class="keyword">return</span> getkth(nums1, begin1, l1, nums2, begin2 + j, l2 - j, k - j);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> getkth(nums1, begin1 + i, l1 - i, nums2, begin2, l2, k - i);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="5-Longest-Palindromic-Substring"><a href="#5-Longest-Palindromic-Substring" class="headerlink" title="5 Longest Palindromic Substring"></a>5 Longest Palindromic Substring</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//动态规划</span></span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.length() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> s;</span><br><span class="line">		<span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1000</span>;</span><br><span class="line">		<span class="keyword">int</span> resultLength = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">bool</span> P[MAX][MAX] = &#123;&#125;;</span><br><span class="line">		<span class="keyword">int</span> length, begin;</span><br><span class="line">		<span class="keyword">for</span> (length = <span class="number">1</span>; length &lt;= s.length(); length++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (begin = <span class="number">0</span>; begin + length &lt;= s.length(); begin++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (length == <span class="number">1</span>) &#123;</span><br><span class="line">					P[begin][begin + length - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (resultLength &lt; <span class="number">1</span>) &#123;</span><br><span class="line">						resultLength = <span class="number">1</span>;</span><br><span class="line">						result = s[begin];</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (length == <span class="number">2</span>) &#123;</span><br><span class="line">					<span class="keyword">if</span> (s[begin] == s[begin + length - <span class="number">1</span>]) &#123;</span><br><span class="line">						P[begin][begin + length - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">						<span class="keyword">if</span> (resultLength &lt; <span class="number">2</span>)</span><br><span class="line">						&#123;</span><br><span class="line">							resultLength = <span class="number">2</span>;</span><br><span class="line">							result = s.substr(begin, length);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (P[begin + <span class="number">1</span>][begin + length - <span class="number">2</span>] &amp;&amp; s[begin] == s[begin + length - <span class="number">1</span>]) &#123;</span><br><span class="line">					P[begin][begin + length - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (resultLength &lt; length) &#123;</span><br><span class="line">						resultLength = length;</span><br><span class="line">						result = s.substr(begin, length);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="6-ZigZag-Conversion"><a href="#6-ZigZag-Conversion" class="headerlink" title="6 ZigZag Conversion"></a>6 ZigZag Conversion</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">convert</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> numRows)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (numRows == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> s;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; Data;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">			<span class="built_in">string</span> data;</span><br><span class="line">			Data.push_back(data);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> M = numRows * <span class="number">2</span> - <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> num = i % M;</span><br><span class="line">			<span class="keyword">if</span> (num &lt; numRows) &#123;</span><br><span class="line">				Data[num].push_back(s[i]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> n = numRows - (num - numRows) - <span class="number">2</span>;</span><br><span class="line">				Data[n].push_back(s[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">string</span> result = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">			result += Data[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="7-Reverse-Integer"><a href="#7-Reverse-Integer" class="headerlink" title="7 Reverse Integer"></a>7 Reverse Integer</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> length = getLength(x);</span><br><span class="line">		<span class="keyword">bool</span> isnegative = x &lt; <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (x &lt; <span class="number">0</span>) x = -x;</span><br><span class="line">		<span class="keyword">int</span> last = x % <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> oldresult = result;</span><br><span class="line">		<span class="keyword">while</span> (x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			result = result * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">			x = x / <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (result &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> M = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			M *= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (result / M != last)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (isnegative)</span><br><span class="line">			<span class="keyword">return</span> -result;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (x &lt; <span class="number">0</span>)</span><br><span class="line">			x = -x;</span><br><span class="line">		<span class="keyword">while</span> (x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			x = x / <span class="number">10</span>;</span><br><span class="line">			length++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="8-String-to-Integer-atoi"><a href="#8-String-to-Integer-atoi" class="headerlink" title="8 String to Integer(atoi)"></a>8 String to Integer(atoi)</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> s = deleteSpace(str);</span><br><span class="line">		<span class="keyword">if</span> (s.empty() || s.length() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">bool</span> isNegative = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'-'</span>) &#123;</span><br><span class="line">			isNegative = <span class="literal">true</span>;</span><br><span class="line">			s.erase(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'+'</span>) &#123;</span><br><span class="line">			s.erase(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isdigit</span>(s[<span class="number">0</span>]))</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; s.length()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">isdigit</span>(s[i]))</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		s = s.substr(<span class="number">0</span>,i);</span><br><span class="line">		<span class="keyword">if</span> (s.length() &gt; <span class="number">10</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> isNegative ? INT_MIN : INT_MAX;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> Number = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">			Number = Number * <span class="number">10</span> + s[i] - <span class="string">'0'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (isNegative) &#123;</span><br><span class="line">			Number = -Number;</span><br><span class="line">			<span class="keyword">return</span> Number &lt; INT_MIN ? INT_MIN : Number;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> Number &gt; INT_MAX ? INT_MAX : Number;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> Number;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">deleteSpace</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; str.length() &amp;&amp; <span class="built_in">isspace</span>(str[i])) &#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (i == str.length())</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="built_in">string</span> s = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; str.length() &amp;&amp; !<span class="built_in">isspace</span>(str[i])) &#123;</span><br><span class="line">			s.push_back(str[i]);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="9-Palindrome-Number"><a href="#9-Palindrome-Number" class="headerlink" title="9 Palindrome Number"></a>9 Palindrome Number</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (x &lt; <span class="number">0</span>)</span><br><span class="line">			x = -x;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>, n = x;</span><br><span class="line">		<span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			m = m * <span class="number">10</span> + n % <span class="number">10</span>;</span><br><span class="line">			n /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> m == x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="10-Regular-Expression-Matching"><a href="#10-Regular-Expression-Matching" class="headerlink" title="10 Regular Expression Matching"></a>10 Regular Expression Matching</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> sSize = s.length();</span><br><span class="line">		<span class="keyword">int</span> pSize = p.length();</span><br><span class="line">		<span class="keyword">bool</span> ** Checked = <span class="keyword">new</span> <span class="keyword">bool</span>*[sSize + <span class="number">1</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sSize + <span class="number">1</span>; i++) &#123;</span><br><span class="line">			Checked[i] = <span class="keyword">new</span> <span class="keyword">bool</span>[pSize + <span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		Checked[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">		Checked[<span class="number">0</span>][<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= sSize; i++) &#123;</span><br><span class="line">			Checked[i][<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= pSize; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (j == <span class="number">2</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (p[<span class="number">1</span>] == <span class="string">'*'</span> &amp;&amp; p[<span class="number">0</span>] != <span class="string">'*'</span>)</span><br><span class="line">					Checked[<span class="number">0</span>][<span class="number">2</span>] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">else</span> Checked[<span class="number">0</span>][<span class="number">2</span>] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				Checked[<span class="number">0</span>][j] = p[j<span class="number">-1</span>] == <span class="string">'*'</span> ? Checked[<span class="number">0</span>][j<span class="number">-1</span>] || Checked[<span class="number">0</span>][j<span class="number">-2</span>] : <span class="literal">false</span>;</span><br><span class="line">			<span class="comment">//cout &lt;&lt; "[" &lt;&lt; 0 &lt;&lt; "][" &lt;&lt; j &lt;&lt; "]=" &lt;&lt; Checked[0][j] &lt;&lt; endl;</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= sSize; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= pSize; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (p[j<span class="number">-1</span>] != <span class="string">'*'</span>) &#123;</span><br><span class="line">					Checked[i][j] = Checked[i - <span class="number">1</span>][j - <span class="number">1</span>] &amp;&amp; (s[i<span class="number">-1</span>] == p[j<span class="number">-1</span>] || p[j<span class="number">-1</span>] == <span class="string">'.'</span>);</span><br><span class="line">					<span class="comment">//cout &lt;&lt; "[" &lt;&lt; i &lt;&lt; "][" &lt;&lt; j &lt;&lt; "]=" &lt;&lt; Checked[i][j] &lt;&lt; endl;</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (Checked[i][j - <span class="number">1</span>]) &#123;</span><br><span class="line">						Checked[i][j] = <span class="literal">true</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span>(j &gt;= <span class="number">2</span> &amp;&amp; Checked[i][j<span class="number">-2</span>]) &#123;</span><br><span class="line">						Checked[i][j] = <span class="literal">true</span>;</span><br><span class="line">						<span class="comment">//cout &lt;&lt; "[" &lt;&lt; i &lt;&lt; "][" &lt;&lt; j &lt;&lt; "]=" &lt;&lt; Checked[i][j] &lt;&lt; endl;</span></span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> &#123;</span><br><span class="line">						Checked[i][j] = Checked[i - <span class="number">1</span>][j] &amp;&amp; (s[i<span class="number">-1</span>] == p[j - <span class="number">2</span>] || p[j<span class="number">-2</span>] == <span class="string">'.'</span>);</span><br><span class="line">						<span class="comment">//cout &lt;&lt; "[" &lt;&lt; i &lt;&lt; "][" &lt;&lt; j &lt;&lt; "]=" &lt;&lt; Checked[i][j] &lt;&lt; endl;</span></span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">bool</span> result = Checked[sSize][pSize];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sSize; i++) &#123;</span><br><span class="line">			<span class="keyword">delete</span>[] Checked[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">delete</span>[] Checked;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="11-Container-With-Most-Water"><a href="#11-Container-With-Most-Water" class="headerlink" title="11 Container With Most Water"></a>11 Container With Most Water</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = height.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> volume = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> v = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">do</span> &#123;</span><br><span class="line">			v = (end - begin) * min(height[begin], height[end]);</span><br><span class="line">			<span class="keyword">if</span> (volume &lt; v)</span><br><span class="line">				volume = v;</span><br><span class="line">			<span class="keyword">if</span> (height[begin] &lt; height[end]) &#123;</span><br><span class="line">				begin++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> end--;</span><br><span class="line">		&#125; <span class="keyword">while</span> (begin &lt; end);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> volume;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> n1 &lt; n2 ? n1 : n2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="12-Integer-to-Roman"><a href="#12-Integer-to-Roman" class="headerlink" title="12 Integer to Roman"></a>12 Integer to Roman</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> table[<span class="number">4</span>][<span class="number">10</span>] = &#123; &#123; <span class="string">""</span>, <span class="string">"I"</span>, <span class="string">"II"</span>, <span class="string">"III"</span>, <span class="string">"IV"</span>, <span class="string">"V"</span>, <span class="string">"VI"</span>, <span class="string">"VII"</span>, <span class="string">"VIII"</span>, <span class="string">"IX"</span> &#125;,</span><br><span class="line">		&#123; <span class="string">""</span>, <span class="string">"X"</span>, <span class="string">"XX"</span>, <span class="string">"XXX"</span>, <span class="string">"XL"</span>, <span class="string">"L"</span>, <span class="string">"LX"</span>, <span class="string">"LXX"</span>, <span class="string">"LXXX"</span>, <span class="string">"XC"</span> &#125;,</span><br><span class="line">		&#123; <span class="string">""</span>, <span class="string">"C"</span>, <span class="string">"CC"</span>, <span class="string">"CCC"</span>, <span class="string">"CD"</span>, <span class="string">"D"</span>, <span class="string">"DC"</span>, <span class="string">"DCC"</span>, <span class="string">"DCCC"</span>, <span class="string">"CM"</span> &#125;,</span><br><span class="line">		&#123; <span class="string">""</span>, <span class="string">"M"</span>, <span class="string">"MM"</span>, <span class="string">"MMM"</span> &#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			result = table[n++][num % <span class="number">10</span>] + result;</span><br><span class="line">			num /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="13-Roman-to-Integer"><a href="#13-Roman-to-Integer" class="headerlink" title="13 Roman to Integer"></a>13 Roman to Integer</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">romanToInt</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; s.length()) &#123;</span><br><span class="line">			<span class="keyword">switch</span> (s[i])</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'M'</span>:</span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'C'</span>)</span><br><span class="line">					result += <span class="number">800</span>;</span><br><span class="line">				<span class="keyword">else</span> result += <span class="number">1000</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'C'</span>:</span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'X'</span>)</span><br><span class="line">					result += <span class="number">80</span>;</span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					result += <span class="number">100</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'D'</span>: &#123;</span><br><span class="line">				<span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'C'</span>)</span><br><span class="line">					result += <span class="number">300</span>;</span><br><span class="line">				<span class="keyword">else</span> result += <span class="number">500</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'X'</span>:</span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'I'</span>)</span><br><span class="line">					result += <span class="number">8</span>;</span><br><span class="line">				<span class="keyword">else</span> result += <span class="number">10</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'L'</span>:</span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'X'</span>)</span><br><span class="line">					result += <span class="number">30</span>;</span><br><span class="line">				<span class="keyword">else</span> result += <span class="number">50</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'V'</span>:</span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; s[i - <span class="number">1</span>] == <span class="string">'I'</span>)</span><br><span class="line">					result += <span class="number">3</span>;</span><br><span class="line">				<span class="keyword">else</span> result += <span class="number">5</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'I'</span>:</span><br><span class="line">				result += <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125; </span><br><span class="line">			&#125;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="14-Longest-Common-Prefix"><a href="#14-Longest-Common-Prefix" class="headerlink" title="14 Longest Common Prefix"></a>14 Longest Common Prefix</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">longestCommonPrefix</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; strs)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (strs.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="built_in">string</span> s = strs[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; strs.size(); i++) &#123;</span><br><span class="line">			s = commonPrefix(s, strs[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">commonPrefix</span><span class="params">(<span class="built_in">string</span> s1, <span class="built_in">string</span> s2)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> s;</span><br><span class="line">		<span class="keyword">if</span> (s1.length() == <span class="number">0</span> || s2.length() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; s1.length() &amp;&amp; i &lt; s2.length()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s1[i] == s2[i])</span><br><span class="line">				s.push_back(s1[i]);</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> s;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="15-3Sum"><a href="#15-3Sum" class="headerlink" title="15 3Sum"></a>15 3Sum</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; threeSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;num) &#123;</span><br><span class="line">		<span class="keyword">if</span> (num.size() &lt; <span class="number">3</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		sort(num.begin(), num.end());</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="keyword">if</span> (num[num.size() - <span class="number">1</span>] &lt; <span class="number">0</span> || num[<span class="number">0</span>] &gt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; triple = &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (num[i] &gt; <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">int</span> begin = i + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">int</span> end = num.size() - <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">				<span class="keyword">int</span> sum = num[begin] + num[end];</span><br><span class="line">				<span class="keyword">if</span> (sum + num[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">					begin++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (sum + num[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					end--;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					triple[<span class="number">0</span>] = num[i];</span><br><span class="line">					triple[<span class="number">1</span>] = num[begin];</span><br><span class="line">					triple[<span class="number">2</span>] = num[end];</span><br><span class="line">					result.push_back(triple);</span><br><span class="line">					<span class="keyword">while</span> (begin &lt; end &amp;&amp; num[begin] == triple[<span class="number">1</span>]) begin++;</span><br><span class="line">					<span class="keyword">while</span> (begin &lt; end &amp;&amp; num[end] == triple[<span class="number">2</span>]) end--;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (i + <span class="number">1</span> &lt; num.size() &amp;&amp; num[i + <span class="number">1</span>] == num[i]) &#123;</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="16-3Sum-Closet"><a href="#16-3Sum-Closet" class="headerlink" title="16 3Sum Closet"></a>16 3Sum Closet</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">threeSumClosest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		sort(nums.begin(), nums.end());</span><br><span class="line">		<span class="keyword">int</span> minCloset = INT_MAX;</span><br><span class="line">		<span class="keyword">int</span> result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> begin = i + <span class="number">1</span>, end = nums.size() - <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">				<span class="keyword">int</span> sum = nums[i] + nums[begin] + nums[end];</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">abs</span>(sum - target) &lt; minCloset) &#123;</span><br><span class="line">					minCloset = <span class="built_in">abs</span>(sum - target);</span><br><span class="line">					result = sum;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (sum - target &lt; <span class="number">0</span>) &#123;</span><br><span class="line">					begin++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (sum - target &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					end--;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">return</span> result;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="17-Letter-Combinations-of-a-Phone-Number"><a href="#17-Letter-Combinations-of-a-Phone-Number" class="headerlink" title="17 Letter Combinations of a Phone Number"></a>17 Letter Combinations of a Phone Number</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; letterCombinations(<span class="built_in">string</span> digits) &#123;</span><br><span class="line">		<span class="keyword">if</span> (digits.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; Data = &#123;</span><br><span class="line">			<span class="string">" "</span>,<span class="string">""</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span></span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; digits.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (result.size() == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (Data[(digits[i] - <span class="string">'0'</span>)].size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; Data[(digits[i] - <span class="string">'0'</span>)].size(); j++) &#123;</span><br><span class="line">						<span class="built_in">string</span> s;</span><br><span class="line">						s.push_back(Data[(digits[i] - <span class="string">'0'</span>)][j]);</span><br><span class="line">						result.push_back(s);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (Data[(digits[i] - <span class="string">'0'</span>)].size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = result.size();</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Data[(digits[i] - <span class="string">'0'</span>)].size() - <span class="number">1</span>; k++) &#123;</span><br><span class="line">						<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">							result.push_back(result[j]);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Data[(digits[i] - <span class="string">'0'</span>)].size(); k++) &#123;</span><br><span class="line">						<span class="keyword">for</span> (<span class="keyword">int</span> j = n * k; j &lt; n* (k + <span class="number">1</span>); j++) &#123;</span><br><span class="line">							result[j].push_back(Data[(digits[i] - <span class="string">'0'</span>)][k]);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="18-4Sum"><a href="#18-4Sum" class="headerlink" title="18 4Sum"></a>18 4Sum</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; fourSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() &lt; <span class="number">4</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		sort(nums.begin(), nums.end());</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="keyword">int</span> len = nums.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; four = &#123; INT_MIN,INT_MIN,INT_MIN,INT_MIN &#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> first = <span class="number">0</span>; first &lt; len - <span class="number">3</span>; first++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> second = first + <span class="number">1</span>; second &lt; len - <span class="number">2</span>; second++) &#123;</span><br><span class="line">				<span class="keyword">int</span> begin = second + <span class="number">1</span>, end = len - <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">while</span> (begin &lt; end)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (nums[first] + nums[second] + nums[begin] + nums[end] &lt; target) &#123;</span><br><span class="line">						begin++;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (nums[first] + nums[second] + nums[begin] + nums[end] &gt; target) &#123;</span><br><span class="line">						end--;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> &#123;</span><br><span class="line">						four[<span class="number">0</span>] = nums[first];</span><br><span class="line">						four[<span class="number">1</span>] = nums[second];</span><br><span class="line">						four[<span class="number">2</span>] = nums[begin];</span><br><span class="line">						four[<span class="number">3</span>] = nums[end];</span><br><span class="line">						result.push_back(four);</span><br><span class="line">						<span class="keyword">do</span> &#123;</span><br><span class="line">							begin++;</span><br><span class="line">						&#125; <span class="keyword">while</span> (begin &lt; end &amp;&amp; nums[begin] == four[<span class="number">2</span>]);</span><br><span class="line">						<span class="keyword">do</span> &#123;</span><br><span class="line">							end--;</span><br><span class="line">						&#125; <span class="keyword">while</span> (begin &lt; end &amp;&amp; nums[end] == four[<span class="number">3</span>]);	</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">while</span> (second &lt; len - <span class="number">2</span> &amp;&amp; nums[second + <span class="number">1</span>] == nums[second])</span><br><span class="line">					second++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (first &lt; len - <span class="number">3</span> &amp;&amp; nums[first + <span class="number">1</span>] == nums[first])</span><br><span class="line">				first++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="19-Remove-Nth-Node-From-End-of-List"><a href="#19-Remove-Nth-Node-From-End-of-List" class="headerlink" title="19 Remove Nth Node From End of List"></a>19 Remove Nth Node From End of List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> N = getNum(head);</span><br><span class="line">		<span class="keyword">if</span> (N &lt; n)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">int</span> x = N - n;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">			head = head-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			ListNode* p = head;</span><br><span class="line">			ListNode* parent = head;</span><br><span class="line">			<span class="keyword">while</span> (x--) &#123;</span><br><span class="line">				parent = p;</span><br><span class="line">				p = p-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			parent-&gt;next = p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getNum</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		ListNode* p = head;</span><br><span class="line">		<span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">			n++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> n;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="20-Valid-Parentheses"><a href="#20-Valid-Parentheses" class="headerlink" title="20 Valid Parentheses"></a>20 Valid Parentheses</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; <span class="built_in">stack</span> = &#123;<span class="string">'a'</span>&#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">			<span class="keyword">switch</span> (s[i])</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'['</span>:</span><br><span class="line">				<span class="built_in">stack</span>.push_back(s[i]);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'('</span>:</span><br><span class="line">				<span class="built_in">stack</span>.push_back(s[i]);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'&#123;'</span>:</span><br><span class="line">				<span class="built_in">stack</span>.push_back(s[i]);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">']'</span>:</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">stack</span>[<span class="built_in">stack</span>.size() - <span class="number">1</span>] != <span class="string">'['</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="built_in">stack</span>.pop_back();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">')'</span>:</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">stack</span>[<span class="built_in">stack</span>.size() - <span class="number">1</span>] != <span class="string">'('</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="built_in">stack</span>.pop_back();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'&#125;'</span>:</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">stack</span>[<span class="built_in">stack</span>.size() - <span class="number">1</span>] != <span class="string">'&#123;'</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="built_in">stack</span>.pop_back();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">stack</span>.size() &gt; <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="21-40-Problems"><a href="#21-40-Problems" class="headerlink" title="21 ~ 40 Problems"></a>21 ~ 40 Problems</h2><h3 id="21-Merge-Two-Sorted-Lists"><a href="#21-Merge-Two-Sorted-Lists" class="headerlink" title="21 Merge Two Sorted Lists"></a>21 Merge Two Sorted Lists</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">		ListNode * head = <span class="literal">NULL</span>;</span><br><span class="line">		ListNode * l = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (l1 == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> l2;</span><br><span class="line">		<span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> l1;</span><br><span class="line">		<span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">			head = l1;</span><br><span class="line">			l1 = l1-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			head = l2;</span><br><span class="line">			l2 = l2-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		l = head;</span><br><span class="line">		<span class="keyword">while</span> (l1 != <span class="literal">NULL</span> &amp;&amp; l2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">				l-&gt;next = l1;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l1 = l1-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				l-&gt;next = l2;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l2 = l2-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l1 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			l-&gt;next = l1;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			l-&gt;next = l2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="22-Generate-Parentheses"><a href="#22-Generate-Parentheses" class="headerlink" title="22 Generate Parentheses"></a>22 Generate Parentheses</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; generateParenthesis(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">int</span> n1 = n, n2 = n;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">		addString(result, <span class="string">""</span>, n1, n2);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">addString</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result, <span class="built_in">string</span> s ,<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n1 == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span> (n2 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				s.push_back(<span class="string">')'</span>);</span><br><span class="line">				n2--;</span><br><span class="line">			&#125;</span><br><span class="line">			result.push_back(s);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (n2 &lt;= n1) &#123;</span><br><span class="line">			s.push_back(<span class="string">'('</span>);</span><br><span class="line">			addString(result, s, n1 - <span class="number">1</span>, n2);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">string</span> s1 = s;</span><br><span class="line">			s1.push_back(<span class="string">'('</span>);</span><br><span class="line">			<span class="built_in">string</span> s2 = s;</span><br><span class="line">			s2.push_back(<span class="string">')'</span>);</span><br><span class="line">			addString(result, s1, n1 - <span class="number">1</span>, n2);</span><br><span class="line">			addString(result, s2, n1, n2 - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="23-Merge-k-Sorted-Lists"><a href="#23-Merge-k-Sorted-Lists" class="headerlink" title="23 Merge k Sorted Lists"></a>23 Merge k Sorted Lists</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (lists.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (lists.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> lists[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		ListNode* l = lists[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; lists.size(); i++) &#123;</span><br><span class="line">			l = mergeTwoLists(l, lists[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> l;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (l1 == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> l2;</span><br><span class="line">		<span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> l1;</span><br><span class="line">		ListNode* head;</span><br><span class="line">		ListNode* l;</span><br><span class="line">		<span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">			head = l1;</span><br><span class="line">			l1 = l1-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			head = l2;</span><br><span class="line">			l2 = l2-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		l = head;</span><br><span class="line">		<span class="keyword">while</span> (l1 != <span class="literal">NULL</span> &amp;&amp; l2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">				l-&gt;next = l1;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l1 = l1-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				l-&gt;next = l2;</span><br><span class="line">				l = l-&gt;next;</span><br><span class="line">				l2 = l2-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l1 != <span class="literal">NULL</span>)</span><br><span class="line">			l-&gt;next = l1;</span><br><span class="line">		<span class="keyword">if</span> (l2 != <span class="literal">NULL</span>)</span><br><span class="line">			l-&gt;next = l2;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="24-Swap-Nodes-in-Pairs"><a href="#24-Swap-Nodes-in-Pairs" class="headerlink" title="24 Swap Nodes in Pairs"></a>24 Swap Nodes in Pairs</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">swapPairs</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		ListNode *l1, *l2, *l3, *l;</span><br><span class="line">		l1 = head;</span><br><span class="line">		l2 = head-&gt;next;</span><br><span class="line">		<span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		l3 = l2-&gt;next;</span><br><span class="line">		l = <span class="literal">NULL</span>;</span><br><span class="line">		head = l2;</span><br><span class="line">		<span class="keyword">do</span> &#123;</span><br><span class="line">			l2-&gt;next = l1;</span><br><span class="line">			l1-&gt;next = l3;</span><br><span class="line">			<span class="keyword">if</span> (l != <span class="literal">NULL</span>) &#123;</span><br><span class="line">				l-&gt;next = l2;</span><br><span class="line">			&#125;</span><br><span class="line">			l = l1;</span><br><span class="line"></span><br><span class="line">			l1 = l3;</span><br><span class="line">			<span class="keyword">if</span> (l1 == <span class="literal">NULL</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			l2 = l1-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			l3 = l2-&gt;next;</span><br><span class="line">		&#125; <span class="keyword">while</span> (<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="25-Reverse-Nodes-in-k-Group"><a href="#25-Reverse-Nodes-in-k-Group" class="headerlink" title="25 Reverse Nodes in k-Group"></a>25 Reverse Nodes in k-Group</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (k &lt;= <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		ListNode *begin, *end = head, *next, *result = head;</span><br><span class="line">		ListNode *lastend;</span><br><span class="line">		<span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">		begin = head;</span><br><span class="line">		<span class="keyword">while</span> (begin != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			lastend = end;</span><br><span class="line">			end = begin;</span><br><span class="line">			<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; k - <span class="number">1</span>; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (end-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				end = end-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (i != k - <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> result;</span><br><span class="line">			next = end-&gt;next;</span><br><span class="line">			reverse(begin, end);</span><br><span class="line">			end-&gt;next = next;</span><br><span class="line">			<span class="keyword">if</span> (first) &#123;</span><br><span class="line">				result = begin;</span><br><span class="line">				first = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				lastend-&gt;next = begin;</span><br><span class="line">			&#125;</span><br><span class="line">			begin = next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(ListNode* &amp;head, ListNode* &amp;end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span> || head == end)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		ListNode* l1 = head;</span><br><span class="line">		ListNode* l2 = head;</span><br><span class="line">		ListNode* l3 = head-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (l2 != end) &#123;</span><br><span class="line">			l1 = l2;</span><br><span class="line">			l2 = l3;</span><br><span class="line">			l3 = l3-&gt;next;</span><br><span class="line">			l2-&gt;next = l1;</span><br><span class="line">		&#125;</span><br><span class="line">		end = head;</span><br><span class="line">		head = l2;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="26-Reverse-Duplciates-from-Sorted-Array"><a href="#26-Reverse-Duplciates-from-Sorted-Array" class="headerlink" title="26 Reverse Duplciates from Sorted Array"></a>26 Reverse Duplciates from Sorted Array</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; nums.size()) &#123;</span><br><span class="line">			length++;</span><br><span class="line">			<span class="keyword">while</span> (i + <span class="number">1</span> &lt; nums.size() &amp;&amp; nums[i] == nums[i + <span class="number">1</span>])</span><br><span class="line">				nums.erase(nums.begin() + i);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="27-Remove-Element"><a href="#27-Remove-Element" class="headerlink" title="27 Remove Element"></a>27 Remove Element</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">removeElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> warp = nums.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= warp; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] == val) &#123;</span><br><span class="line">				warp = findLast(nums, val, warp);</span><br><span class="line">				<span class="keyword">if</span> (warp == <span class="number">-1</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (warp &lt;= i)</span><br><span class="line">					<span class="keyword">return</span> i;</span><br><span class="line">				<span class="keyword">int</span> tem = nums[warp];</span><br><span class="line">				nums[warp] = nums[i];</span><br><span class="line">				nums[i] = tem;</span><br><span class="line">				warp--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> i;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">findLast</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> val, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] != val)</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="28-Implement-strStr"><a href="#28-Implement-strStr" class="headerlink" title="28 Implement strStr()"></a>28 Implement strStr()</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//return haystack.find(needle);		solution 1</span></span><br><span class="line">		<span class="keyword">if</span> (haystack.size() &lt; needle.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= haystack.size() - needle.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">int</span> num = i;</span><br><span class="line">			<span class="keyword">while</span> (haystack[num] == needle[j]) &#123;</span><br><span class="line">				num++; j++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (j &gt;= needle.size())</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="29-Divide-Two-Integers"><a href="#29-Divide-Two-Integers" class="headerlink" title="29 Divide Two Integers"></a>29 Divide Two Integers</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!divisor) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">		<span class="keyword">if</span> (divisor == <span class="number">1</span>) <span class="keyword">return</span> dividend;</span><br><span class="line">		<span class="keyword">if</span> (divisor == <span class="number">-1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (dividend == INT_MIN) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> -dividend;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">bool</span> s1 = dividend &lt; <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">bool</span> s2 = divisor &lt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> nom = s1 ? -dividend : dividend;</span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> den = s2 ? -divisor : divisor;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> rem = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> quot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">			rem &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">			rem |= (nom &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span> (rem &gt;= den) &#123;</span><br><span class="line">				rem -= den;</span><br><span class="line">				quot |= (<span class="number">1</span> &lt;&lt; i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> s1^s2 ? -quot : quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="30-Substring-With-Concatenation-of-All-Words"><a href="#30-Substring-With-Concatenation-of-All-Words" class="headerlink" title="30 Substring With Concatenation of All Words"></a>30 Substring With Concatenation of All Words</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findSubstring(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words) &#123;</span><br><span class="line">		<span class="keyword">if</span> (words.size() == <span class="number">0</span> || s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; ready(words.size(), <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> n = words[<span class="number">0</span>].length(), N = words.size();</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">if</span> (n*N &gt; s.size())</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> begin = <span class="number">0</span>; begin &lt;= (<span class="keyword">int</span>)(s.size() - n * N); begin++) &#123;</span><br><span class="line">			<span class="built_in">string</span> tem = s.substr(begin, n);</span><br><span class="line">			<span class="keyword">if</span> (findStr(words, ready, tem)) &#123;</span><br><span class="line">				<span class="keyword">int</span> n1 = begin + n;</span><br><span class="line">				<span class="keyword">if</span> (n1 &lt;= (<span class="keyword">int</span>)(s.size() - n)) &#123;</span><br><span class="line">					tem = s.substr(n1, n);</span><br><span class="line">					<span class="keyword">while</span> (n1 &lt;= s.size() - n &amp;&amp; findStr(words, ready, tem)) &#123;</span><br><span class="line">						n1 = n1 + n;</span><br><span class="line">						tem = s.substr(n1, n);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (isFindAll(ready)) &#123;</span><br><span class="line">					result.push_back(begin);</span><br><span class="line">				&#125;</span><br><span class="line">				ready = <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(words.size(), <span class="literal">false</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">findStr</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; ready, <span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!ready[i] &amp;&amp; words[i] == str) &#123;</span><br><span class="line">				ready[i] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isFindAll</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; ready)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ready.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (ready[i] == <span class="literal">false</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="31-Next-Permutation"><a href="#31-Next-Permutation" class="headerlink" title="31 Next Permutation"></a>31 Next Permutation</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (isLagerest(nums,<span class="number">0</span>))</span><br><span class="line">			changeToSmallest(nums, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = nums.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">				<span class="keyword">if</span> (isLagerest(nums, i))</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">int</span> x = nums[i];</span><br><span class="line">					<span class="keyword">int</span> j;</span><br><span class="line">					<span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; nums.size() - <span class="number">1</span>; j++) &#123;</span><br><span class="line">						<span class="keyword">if</span> (nums[j + <span class="number">1</span>] &lt;= x) &#123;</span><br><span class="line">							nums[i] = nums[j];</span><br><span class="line">							nums[j] = x;</span><br><span class="line">							changeToSmallest(nums, i + <span class="number">1</span>);</span><br><span class="line">							<span class="keyword">return</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					nums[i] = nums[j];</span><br><span class="line">					nums[j] = x;</span><br><span class="line">					changeToSmallest(nums, i + <span class="number">1</span>);</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">changeToSmallest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">		sort(nums.begin() + begin, nums.end());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isLagerest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt;= nums.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt; nums.size()- <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] &lt; nums[i + <span class="number">1</span>])</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="32-Longest-Valid-Parentheses"><a href="#32-Longest-Valid-Parentheses" class="headerlink" title="32 Longest Valid Parentheses"></a>32 Longest Valid Parentheses</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; isDouble(s.size(), <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums1;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[i] == <span class="string">'('</span>)</span><br><span class="line">				nums1.push_back(i);</span><br><span class="line">			<span class="keyword">if</span> (s[i] == <span class="string">')'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (nums1.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					isDouble[nums1[nums1.size() - <span class="number">1</span>]] = <span class="literal">true</span>;</span><br><span class="line">					isDouble[i] = <span class="literal">true</span>;</span><br><span class="line">					nums1.pop_back();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>, max = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; s.size()) &#123;</span><br><span class="line">			end = begin;</span><br><span class="line">			<span class="keyword">while</span> (end &lt; s.size() &amp;&amp; isDouble[end]) &#123;</span><br><span class="line">				end++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (end - begin &gt; max)</span><br><span class="line">				max = end - begin;</span><br><span class="line">			begin = end + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> max;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="33-Search-in-Rotated-Sorted-Array"><a href="#33-Search-in-Rotated-Sorted-Array" class="headerlink" title="33 Search in Rotated Sorted Array"></a>33 Search in Rotated Sorted Array</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">int</span> min = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (min &lt; nums.size() - <span class="number">1</span> &amp;&amp; nums[min + <span class="number">1</span>] &gt; nums[min])</span><br><span class="line">			min++;</span><br><span class="line">		min++;</span><br><span class="line">		<span class="keyword">int</span> N = nums.size();</span><br><span class="line">		<span class="keyword">int</span> n = N / <span class="number">2</span>, num, left = <span class="number">0</span>, right = N;</span><br><span class="line">		num = (n + min) % N;</span><br><span class="line">		<span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[num] &gt; target) &#123;</span><br><span class="line">				right = n - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (nums[num] &lt; target) &#123;</span><br><span class="line">				left = n + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> num;</span><br><span class="line">			n = (left + right) / <span class="number">2</span>;</span><br><span class="line">			num = (n + min) % N;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="34-Search-for-a-Range"><a href="#34-Search-for-a-Range" class="headerlink" title="34 Search for a Range"></a>34 Search for a Range</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; searchRange(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result = &#123; <span class="number">-1</span>,<span class="number">-1</span> &#125;;</span><br><span class="line">		<span class="keyword">int</span> right = foundRightIndex(nums, target, <span class="number">0</span>, nums.size() - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span> (right &lt; <span class="number">0</span> || nums[right] != target)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		<span class="keyword">int</span> left = foundLeftIndex(nums, target, <span class="number">0</span>, right);</span><br><span class="line">		result[<span class="number">0</span>] = left;</span><br><span class="line">		result[<span class="number">1</span>] = right;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//binary search, found two index</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">foundRightIndex</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (nums[mid] &gt; target)</span><br><span class="line">				right = mid - <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">		<span class="keyword">return</span> right;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">foundLeftIndex</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">				left = mid + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> right = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> left;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="35-Search-Insert-Position"><a href="#35-Search-Insert-Position" class="headerlink" title="35 Search Insert Position"></a>35 Search Insert Position</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">return</span> foudRightIndex(nums, target);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">foudRightIndex</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> mid, left, right;</span><br><span class="line">		left = <span class="number">0</span>;</span><br><span class="line">		right = nums.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">			mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (nums[mid] &gt; target)</span><br><span class="line">				right = mid - <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (right &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (nums[right] == target)</span><br><span class="line">			<span class="keyword">return</span> right;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> right + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="36-Valid-Sudoku"><a href="#36-Valid-Sudoku" class="headerlink" title="36 Valid Sudoku"></a>36 Valid Sudoku</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isValidSudoku</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (!isValid(board,i,j))</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i != m &amp;&amp; board[i][n] == board[m][n])</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">if</span> (i != n &amp;&amp; board[m][i] == board[m][n])</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = m / <span class="number">3</span> * <span class="number">3</span>; i &lt; m / <span class="number">3</span> * <span class="number">3</span> + <span class="number">3</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = n / <span class="number">3</span> * <span class="number">3</span>; j &lt; n / <span class="number">3</span> * <span class="number">3</span> + <span class="number">3</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (i == m &amp;&amp; n == j)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (board[i][j] == board[m][n])</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="37-Sudoku-Solver"><a href="#37-Sudoku-Solver" class="headerlink" title="37 Sudoku Solver"></a>37 Sudoku Solver</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">		fillSudoku(board, <span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">fillSudoku</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">81</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> m = x / <span class="number">9</span>, n = x % <span class="number">9</span>;</span><br><span class="line">		<span class="keyword">if</span> (board[m][n] != <span class="string">'.'</span>)</span><br><span class="line">			<span class="keyword">return</span> fillSudoku(board, x + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">9</span>; k++) &#123;</span><br><span class="line">			board[m][n] = k + <span class="string">'0'</span>;</span><br><span class="line">			<span class="keyword">if</span> (isValid(board, m, n) &amp;&amp; fillSudoku(board, x + <span class="number">1</span>))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			board[m][n] = <span class="string">'.'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i != m &amp;&amp; board[i][n] == board[m][n])</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">if</span> (i != n &amp;&amp; board[m][i] == board[m][n])</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = m / <span class="number">3</span> * <span class="number">3</span>; i &lt; m / <span class="number">3</span> * <span class="number">3</span> + <span class="number">3</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = n / <span class="number">3</span> * <span class="number">3</span>; j &lt; n / <span class="number">3</span> * <span class="number">3</span> + <span class="number">3</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (i == m &amp;&amp; n == j)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (board[i][j] == board[m][n])</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="38-Count-and-Say"><a href="#38-Count-and-Say" class="headerlink" title="38 Count and Say"></a>38 Count and Say</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> s1 = <span class="string">"1"</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="built_in">string</span> s2;</span><br><span class="line">			<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> (j &lt; s1.size()) &#123;</span><br><span class="line">				<span class="keyword">char</span> c = s1[j];</span><br><span class="line">				<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">while</span> (j &lt; s1.size() &amp;&amp; s1[j] == c) &#123;</span><br><span class="line">					num++;</span><br><span class="line">					j++;</span><br><span class="line">				&#125;</span><br><span class="line">				s2.push_back(num + <span class="string">'0'</span>);</span><br><span class="line">				s2.push_back(c);</span><br><span class="line">			&#125;</span><br><span class="line">			s1 = s2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="39-Combination-Sum"><a href="#39-Combination-Sum" class="headerlink" title="39 Combination Sum"></a>39 Combination Sum</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">		getResult(candidates, target, <span class="number">0</span>, result, temp);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getResult</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target, <span class="keyword">int</span> begin, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin == candidates.size())</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">int</span> num = candidates[begin];</span><br><span class="line">		getResult(candidates, target, begin + <span class="number">1</span>, result, temp);</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> oldtarget = target;</span><br><span class="line">		<span class="keyword">while</span> (target - num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			i++;</span><br><span class="line">			target -= num;</span><br><span class="line">			temp.push_back(num);</span><br><span class="line">			getResult(candidates, target, begin + <span class="number">1</span>, result, temp);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (target - num == <span class="number">0</span>) &#123;</span><br><span class="line">			temp.push_back(num);</span><br><span class="line">			result.push_back(temp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="40-Comination-Sum-II"><a href="#40-Comination-Sum-II" class="headerlink" title="40 Comination Sum II"></a>40 Comination Sum II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum2(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">		<span class="keyword">if</span> (candidates.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		sort(candidates.begin(), candidates.end());</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">		getNumber(candidates, target, result, <span class="number">0</span>, temp);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="keyword">int</span> begin, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt;= candidates.size())</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (target &lt; candidates[begin])</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">int</span> num = candidates[begin];</span><br><span class="line">		<span class="keyword">if</span> (target == num) &#123;</span><br><span class="line">			temp.push_back(num);</span><br><span class="line">			result.push_back(temp);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> n = begin;</span><br><span class="line">		<span class="keyword">while</span> (n &lt; candidates.size() &amp;&amp; candidates[n] == num)</span><br><span class="line">			n++;</span><br><span class="line">		getNumber(candidates, target, result, n, temp);</span><br><span class="line">		temp.push_back(num);</span><br><span class="line">		getNumber(candidates, target - num, result, begin + <span class="number">1</span>, temp);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="41-60-Problems"><a href="#41-60-Problems" class="headerlink" title="41 ~ 60 Problems"></a>41 ~ 60 Problems</h2><h3 id="41-First-Missing-Positive"><a href="#41-First-Missing-Positive" class="headerlink" title="41 First Missing Positive"></a>41 First Missing Positive</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> n = nums.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] != i + <span class="number">1</span> &amp;&amp; nums[i] &gt; <span class="number">0</span> &amp;&amp; nums[i] &lt; n &amp;&amp; nums[i] != nums[nums[i]- <span class="number">1</span>])  &#123;</span><br><span class="line">				<span class="keyword">int</span> temp = nums[i];</span><br><span class="line">				nums[i] = nums[temp - <span class="number">1</span>];</span><br><span class="line">				nums[temp - <span class="number">1</span>] = temp;</span><br><span class="line">				i--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] != i + <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> nums.size() + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="42-Trapping-Rain-Water"><a href="#42-Trapping-Rain-Water" class="headerlink" title="42 Trapping Rain Water"></a>42 Trapping Rain Water</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (height.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; storage(height.size(),<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; height.size()) &#123;</span><br><span class="line">			end = foundNextTaller(height, begin);</span><br><span class="line">			<span class="keyword">int</span> h = height[begin] &gt; height[end] ? height[end] : height[begin];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt;= end; i++) &#123;</span><br><span class="line">				storage[i] = h;</span><br><span class="line">			&#125;</span><br><span class="line">			begin = end;</span><br><span class="line">			<span class="keyword">if</span> (begin == height.size() - <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> trap = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(storage[i] &gt; height[i])</span><br><span class="line">				trap += storage[i] - height[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> trap;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">foundNextTaller</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin == height.size() - <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> begin;</span><br><span class="line">		<span class="keyword">int</span> h = height[begin];</span><br><span class="line">		<span class="keyword">int</span> end = begin + <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> maxHeight = <span class="number">0</span>, end2 = end;</span><br><span class="line">		<span class="keyword">while</span> (end &lt; height.size()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (height[end] &gt;= h)</span><br><span class="line">				<span class="keyword">return</span> end;</span><br><span class="line">			<span class="keyword">if</span> (height[end] &gt; maxHeight) &#123;</span><br><span class="line">				maxHeight = height[end];</span><br><span class="line">				end2 = end;</span><br><span class="line">			&#125;</span><br><span class="line">			end++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> end2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="43-Multiply-Strings"><a href="#43-Multiply-Strings" class="headerlink" title="43 Multiply Strings"></a>43 Multiply Strings</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">multiply</span><span class="params">(<span class="built_in">string</span> num1, <span class="built_in">string</span> num2)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> result = <span class="string">"0"</span>;</span><br><span class="line">		<span class="keyword">if</span> (num1.size() &gt; num2.size()) &#123;</span><br><span class="line">			<span class="built_in">string</span> tem = num1;</span><br><span class="line">			num1 = num2;</span><br><span class="line">			num2 = tem;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">string</span> num = num2;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = num1.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">int</span> n = num1[i] - <span class="string">'0'</span>;</span><br><span class="line">			<span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">					result = Add(result, num);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			num.push_back(<span class="string">'0'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">Add</span><span class="params">(<span class="built_in">string</span> &amp;num1, <span class="built_in">string</span> &amp;num2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> l = num1.size() &gt; num2.size() ? num2.size() : num1.size();</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">int</span> n1 = <span class="number">0</span>, n2 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> x1 = num1[num1.size() - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">			<span class="keyword">int</span> x2 = num2[num2.size() - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">			n2 = (n1 + x1 + x2) &gt;= <span class="number">10</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">			n1 = (n1 + x1 + x2) &gt;= <span class="number">10</span> ? ((n1 + x1 + x2) - <span class="number">10</span>) : (n1 + x1 + x2);</span><br><span class="line">			result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + n1) + result;</span><br><span class="line">			n1 = n2;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (num1.size() &gt; l) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num1.size() - l; i++) &#123;</span><br><span class="line">				<span class="keyword">int</span> x1 = num1[num1.size() - l - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">				n2 = (n1 + x1) &gt;= <span class="number">10</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">				n1 = (n1 + x1) &gt;= <span class="number">10</span> ? ((n1 + x1) - <span class="number">10</span>) : (n1 + x1) ;</span><br><span class="line">				result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + n1) + result;</span><br><span class="line">				n1 = n2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (num2.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num2.size() - l; i++) &#123;</span><br><span class="line">				<span class="keyword">int</span> x2 = num2[num2.size() - l - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">				n2 = (n1 + x2) &gt;= <span class="number">10</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">				n1 = (n1 + x2) &gt;= <span class="number">10</span> ? ((n1 + x2) - <span class="number">10</span>) : (n1 + x2);</span><br><span class="line">				result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + n1) + result;</span><br><span class="line">				n1 = n2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(n1 &gt; <span class="number">0</span>)</span><br><span class="line">			result = <span class="string">'1'</span> + result;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="44-Wildcard-Matching"><a href="#44-Wildcard-Matching" class="headerlink" title="44 Wildcard Matching"></a>44 Wildcard Matching</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">bool</span> *f[<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">int</span> lens = s.size(), lenp = p.size();</span><br><span class="line">		f[<span class="number">0</span>] = <span class="keyword">new</span> <span class="keyword">bool</span>[lenp + <span class="number">1</span>], f[<span class="number">1</span>] = <span class="keyword">new</span> <span class="keyword">bool</span>[lenp + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		f[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lenp; ++i)</span><br><span class="line">			<span class="keyword">if</span> (p[i - <span class="number">1</span>] == <span class="string">'*'</span>) f[<span class="number">0</span>][i] = f[<span class="number">0</span>][i - <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">else</span> f[<span class="number">0</span>][i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> now = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lens; ++i) &#123;</span><br><span class="line">			now ^= <span class="number">1</span>, f[now][<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= lenp; ++j)</span><br><span class="line">				<span class="keyword">switch</span> (p[j - <span class="number">1</span>]) &#123;</span><br><span class="line">				<span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">					f[now][j] = f[now ^ <span class="number">1</span>][j - <span class="number">1</span>] | f[now ^ <span class="number">1</span>][j] | f[now][j - <span class="number">1</span>];</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="string">'?'</span>:</span><br><span class="line">					f[now][j] = f[now ^ <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">default</span>:</span><br><span class="line">					f[now][j] = f[now ^ <span class="number">1</span>][j - <span class="number">1</span>] &amp; (s[i - <span class="number">1</span>] == p[j - <span class="number">1</span>]);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			<span class="keyword">return</span> f[now][lenp];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="45-Jump-Game-II"><a href="#45-Jump-Game-II" class="headerlink" title="45 Jump Game II"></a>45 Jump Game II</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">jump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() &lt;= <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> end = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> nextend = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> times = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line"></span><br><span class="line">			nextend = nextend &gt; (i + nums[i]) ? nextend : (i + nums[i]);</span><br><span class="line">			<span class="keyword">if</span> (nextend &gt;= nums.size() - <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> times + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (i == end) &#123;</span><br><span class="line">				times++;</span><br><span class="line">				end = nextend;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> times;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="46-Permutations"><a href="#46-Permutations" class="headerlink" title="46 Permutations"></a>46 Permutations</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permute(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		getpermute(result, nums, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getpermute</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (k == nums.size())</span><br><span class="line">			result.push_back(nums);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			swap(nums[k], nums[i]);</span><br><span class="line">			getpermute(result, nums, k + <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="47-Permutations-II"><a href="#47-Permutations-II" class="headerlink" title="47 Permutations II"></a>47 Permutations II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permuteUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		sort(nums.begin(), nums.end());</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		get(result, nums, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">get</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin == nums.size() - <span class="number">1</span>) &#123;</span><br><span class="line">			result.push_back(nums);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> ( i != begin &amp;&amp; nums[begin] == nums[i])</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			swap(nums[i], nums[begin]);</span><br><span class="line">			get(result, nums, begin + <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="48-Rotate-Image"><a href="#48-Rotate-Image" class="headerlink" title="48 Rotate Image"></a>48 Rotate Image</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (matrix.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">int</span> N = matrix.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; N / <span class="number">2</span>; m++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> n = m; n &lt; N - <span class="number">1</span> - m; n++) &#123;</span><br><span class="line">				swap(matrix[m][n], matrix[n][N - <span class="number">1</span> - m]);</span><br><span class="line">				swap(matrix[m][n], matrix[N - <span class="number">1</span> - m][N - <span class="number">1</span> - n]);</span><br><span class="line">				swap(matrix[m][n], matrix[N - <span class="number">1</span> - n][m]);</span><br><span class="line">				<span class="comment">/*int tem[4];</span></span><br><span class="line"><span class="comment">				tem[0] = matrix[m][n];</span></span><br><span class="line"><span class="comment">				tem[1] = matrix[n][N - 1 - m];</span></span><br><span class="line"><span class="comment">				tem[2] = matrix[N - 1 - m][N - 1 - n];</span></span><br><span class="line"><span class="comment">				tem[3] = matrix[N - 1 - n][m];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				matrix[m][n] = tem[3];</span></span><br><span class="line"><span class="comment">				matrix[n][N - 1 - m] = tem[0];</span></span><br><span class="line"><span class="comment">				matrix[N - 1 - m][N - 1 - n] = tem[1];</span></span><br><span class="line"><span class="comment">				matrix[N - 1 - n][m] = tem[2];*/</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="49-Group-Anagrams"><a href="#49-Group-Anagrams" class="headerlink" title="49 Group Anagrams"></a>49 Group Anagrams</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; groupAnagrams(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; strs) &#123;</span><br><span class="line">		<span class="keyword">if</span> (strs.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; sortedStrs;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.size(); i++) &#123;</span><br><span class="line">			<span class="built_in">string</span> str = strs[i];</span><br><span class="line">			sort(str.begin(), str.end());</span><br><span class="line">			sortedStrs.push_back(str);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; result;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; style;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sortedStrs.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (style.size() &gt; <span class="number">0</span> &amp;&amp; style.find(sortedStrs[i]) != style.end()) &#123;</span><br><span class="line">				style[sortedStrs[i]].push_back(strs[i]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> style.insert(&#123; sortedStrs[i], &#123; strs[i] &#125; &#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> p = style.begin(); p != style.end(); p++) &#123;</span><br><span class="line">			result.push_back(p-&gt;second);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/*for (int i = 0; i &lt; sortedStrs.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">			for (int j = 0; j &lt; sortedStrs.size() - 1 - i; j++) &#123;</span></span><br><span class="line"><span class="comment">				if (sortedStrs[j] &gt; sortedStrs[j + 1]) &#123;</span></span><br><span class="line"><span class="comment">					swap(sortedStrs[j], sortedStrs[j + 1]);</span></span><br><span class="line"><span class="comment">					swap(strs[j], strs[j + 1]);</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		int begin = 0;</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		while (begin &lt; sortedStrs.size()) &#123;</span></span><br><span class="line"><span class="comment">			int end = begin;</span></span><br><span class="line"><span class="comment">			while (end + 1 &lt; sortedStrs.size() &amp;&amp; sortedStrs[end] == sortedStrs[end + 1]) &#123;</span></span><br><span class="line"><span class="comment">				end++;</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">			vector&lt;string&gt; line;</span></span><br><span class="line"><span class="comment">			for (int i = begin; i &lt;= end; i++) &#123;</span></span><br><span class="line"><span class="comment">				line.push_back(strs[i]);</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">			result.push_back(line);</span></span><br><span class="line"><span class="comment">			begin = end + 1;</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="50-Pow-x-n"><a href="#50-Pow-x-n" class="headerlink" title="50 Pow(x,n)"></a>50 Pow(x,n)</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">-1</span>)</span><br><span class="line">			<span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">bool</span> negative = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (n == INT_MIN) </span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			negative = <span class="literal">true</span>;</span><br><span class="line">			n = -n;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">string</span> num = TenToTwo(n);</span><br><span class="line">		<span class="keyword">double</span> result = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (num[i] == <span class="string">'1'</span>) &#123;</span><br><span class="line">				result = result * result * x;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> result = result * result;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (negative)</span><br><span class="line">			result = <span class="number">1</span> / result;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">TenToTwo</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (n &amp; <span class="number">1</span>)</span><br><span class="line">				result = <span class="string">"1"</span> + result;</span><br><span class="line">			<span class="keyword">else</span> result = <span class="string">"0"</span> + result;</span><br><span class="line">			n /= <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="51-N-Queens"><a href="#51-N-Queens" class="headerlink" title="51 N-Queens"></a>51 N-Queens</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; block = &#123; (<span class="keyword">unsigned</span> <span class="keyword">int</span>)n,<span class="built_in">string</span>((<span class="keyword">unsigned</span> <span class="keyword">int</span>)n,<span class="string">'.'</span>) &#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkRow(n, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkColumn(n, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkDiagonal1(n * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkDiagonal2(n * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; result;</span><br><span class="line"></span><br><span class="line">		getResult(result, <span class="number">0</span>, checkColumn, checkDiagonal1,checkDiagonal2, block);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getResult</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; result, <span class="keyword">int</span> row, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; column, </span></span></span><br><span class="line"><span class="function"><span class="params">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; diagonal1, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; diagonal2, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; block)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (row &gt;= block.size()) &#123;</span><br><span class="line">			result.push_back(block);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> n = column.size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> k = row - i + n;</span><br><span class="line">			<span class="keyword">int</span> w = row + i ;</span><br><span class="line">			<span class="keyword">if</span> (column[i] == <span class="literal">false</span> &amp;&amp; diagonal1[k] == <span class="literal">false</span> &amp;&amp; diagonal2[w] == <span class="literal">false</span>) &#123;</span><br><span class="line">				column[i] = <span class="literal">true</span>;</span><br><span class="line">				diagonal1[k] = <span class="literal">true</span>;</span><br><span class="line">				diagonal2[w] = <span class="literal">true</span>;</span><br><span class="line">				block[row][i] = <span class="string">'Q'</span>;</span><br><span class="line">				getResult(result, row + <span class="number">1</span>, column, diagonal1,diagonal2, block);</span><br><span class="line">				column[i] = <span class="literal">false</span>;</span><br><span class="line">				diagonal1[k] = <span class="literal">false</span>;</span><br><span class="line">				diagonal2[w] = <span class="literal">false</span>;</span><br><span class="line">				block[row][i] = <span class="string">'.'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="52-N-Queens-II"><a href="#52-N-Queens-II" class="headerlink" title="52 N-Queens II"></a>52 N-Queens II</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">totalNQueens</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkRow(n, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkColumn(n, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkDiagonal1(n * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; checkDiagonal2(n * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		getResult(result, <span class="number">0</span>, checkColumn, checkDiagonal1, checkDiagonal2,n);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getResult</span><span class="params">(<span class="keyword">int</span>&amp; result, <span class="keyword">int</span> row, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; column,</span></span></span><br><span class="line"><span class="function"><span class="params">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; diagonal1, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; diagonal2,<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (row &gt;= N) &#123;</span><br><span class="line">			result++;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> n = column.size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> k = row - i + n;</span><br><span class="line">			<span class="keyword">int</span> w = row + i;</span><br><span class="line">			<span class="keyword">if</span> (column[i] == <span class="literal">false</span> &amp;&amp; diagonal1[k] == <span class="literal">false</span> &amp;&amp; diagonal2[w] == <span class="literal">false</span>) &#123;</span><br><span class="line">				column[i] = <span class="literal">true</span>;</span><br><span class="line">				diagonal1[k] = <span class="literal">true</span>;</span><br><span class="line">				diagonal2[w] = <span class="literal">true</span>;</span><br><span class="line">				getResult(result, row + <span class="number">1</span>, column, diagonal1, diagonal2, N);</span><br><span class="line">				column[i] = <span class="literal">false</span>;</span><br><span class="line">				diagonal1[k] = <span class="literal">false</span>;</span><br><span class="line">				diagonal2[w] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="53-Maximum-Subarray"><a href="#53-Maximum-Subarray" class="headerlink" title="53 Maximum Subarray"></a>53 Maximum Subarray</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = begin, maxSum = INT_MIN;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; nums.size()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[begin] &gt; maxSum)</span><br><span class="line">				maxSum = nums[begin];</span><br><span class="line">			<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">			end = begin;</span><br><span class="line">			<span class="keyword">while</span> (end &lt; nums.size()) &#123;</span><br><span class="line">				sum += nums[end];</span><br><span class="line">				<span class="keyword">if</span> (sum &gt; maxSum)</span><br><span class="line">					maxSum = sum;</span><br><span class="line">				<span class="keyword">if</span> (sum &lt; <span class="number">0</span>)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				end++;</span><br><span class="line">			&#125;</span><br><span class="line">			begin = end + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> maxSum;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="54-Jump-Game"><a href="#54-Jump-Game" class="headerlink" title="54 Jump Game"></a>54 Jump Game</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">canJump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (maxLength &lt; i)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">if</span> (maxLength &lt; i + nums[i])</span><br><span class="line">				maxLength = i + nums[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (maxLength &lt; nums.size() - <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="55-Spiral-Matrix"><a href="#55-Spiral-Matrix" class="headerlink" title="55 Spiral Matrix"></a>55 Spiral Matrix</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; spiralOrder(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = matrix.size();</span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">int</span> n = matrix[<span class="number">0</span>].size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> min = m &lt; n ? m : n;</span><br><span class="line">		<span class="keyword">int</span> loop = min / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; loop; k++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; n - k; i++) &#123;</span><br><span class="line">				result.push_back(matrix[k][i]);</span><br><span class="line">			&#125;</span><br><span class="line">			result.pop_back();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; m - k; i++) &#123;</span><br><span class="line">				result.push_back(matrix[i][n - k - <span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">			result.pop_back();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = n - k - <span class="number">1</span>; i &gt;= k; i--) &#123;</span><br><span class="line">				result.push_back(matrix[m - k - <span class="number">1</span>][i]);</span><br><span class="line">			&#125;</span><br><span class="line">			result.pop_back();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = m - k - <span class="number">1</span>; i &gt;= k; i--) &#123;</span><br><span class="line">				result.push_back(matrix[i][k]);</span><br><span class="line">			&#125;</span><br><span class="line">			result.pop_back();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (m &lt;= n &amp;&amp; m % <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = m / <span class="number">2</span>; i &lt; n - m / <span class="number">2</span>; i++) &#123;</span><br><span class="line">				result.push_back(matrix[m / <span class="number">2</span>][i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (n &lt; m &amp;&amp; n % <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = n / <span class="number">2</span>; i &lt; m - n / <span class="number">2</span>; i++) &#123;</span><br><span class="line">				result.push_back(matrix[i][n / <span class="number">2</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="56-Merge-Intervals"><a href="#56-Merge-Intervals" class="headerlink" title="56 Merge Intervals"></a>56 Merge Intervals</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;Interval&gt; merge(<span class="built_in">vector</span>&lt;Interval&gt;&amp; intervals) &#123;</span><br><span class="line">		<span class="keyword">if</span> (intervals.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;Interval&gt; result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; intervals.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">list</span>.size() == <span class="number">0</span> || <span class="built_in">list</span>.find(intervals[i].start) == <span class="built_in">list</span>.end()) &#123;</span><br><span class="line">				<span class="built_in">list</span>.insert(&#123; intervals[i].start, intervals[i].end &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">list</span>[intervals[i].start] &lt; intervals[i].end) &#123;</span><br><span class="line">					<span class="built_in">list</span>[intervals[i].start] = intervals[i].end;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> p = <span class="built_in">list</span>.begin(); p != <span class="built_in">list</span>.end(); p++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (result.size() != <span class="number">0</span> &amp;&amp; result.back().end &gt;= p-&gt;first) &#123;</span><br><span class="line">				<span class="keyword">if</span>(result.back().end &lt; p-&gt;second)</span><br><span class="line">					result.back().end = p-&gt;second;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				Interval x(p-&gt;first, p-&gt;second);</span><br><span class="line">				result.push_back(x);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="57-Insert-Interval"><a href="#57-Insert-Interval" class="headerlink" title="57 Insert Interval"></a>57 Insert Interval</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;Interval&gt; insert(<span class="built_in">vector</span>&lt;Interval&gt;&amp; intervals, Interval newInterval) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;Interval&gt; temp = intervals;</span><br><span class="line">		temp.push_back(newInterval);</span><br><span class="line">		sort(temp.begin(), temp.end(), </span><br><span class="line">			[](Interval a, Interval b) &#123;</span><br><span class="line">				<span class="keyword">return</span> a.start &lt; b.start;</span><br><span class="line">			&#125;</span><br><span class="line">		);</span><br><span class="line">		<span class="built_in">vector</span>&lt;Interval&gt; result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temp.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (result.size() != <span class="number">0</span> &amp;&amp; temp[i].start &lt;= result.back().end) &#123;</span><br><span class="line">				<span class="keyword">if</span> (temp[i].end &gt; result.back().end)</span><br><span class="line">					result.back().end = temp[i].end;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				result.push_back(temp[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="58-Length-of-Last-Word"><a href="#58-Length-of-Last-Word" class="headerlink" title="58 Length of Last Word"></a>58 Length of Last Word</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">lengthOfLastWord</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> i = s.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s[i] == <span class="string">' '</span>)</span><br><span class="line">			i--;</span><br><span class="line">		<span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s[i] != <span class="string">' '</span>) &#123;</span><br><span class="line">			i--;</span><br><span class="line">			length++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="59-Spiral-Matrix-II"><a href="#59-Spiral-Matrix-II" class="headerlink" title="59 Spiral Matrix II"></a>59 Spiral Matrix II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; generateMatrix(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n / <span class="number">2</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt; n - i; k++) &#123;</span><br><span class="line">				result[i][k] = x++;</span><br><span class="line">			&#125;</span><br><span class="line">			x--;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt; n - i; k++) &#123;</span><br><span class="line">				result[k][n - i - <span class="number">1</span>] = x++;</span><br><span class="line">			&#125;</span><br><span class="line">			x--;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = n - i - <span class="number">1</span>; k &gt;= i; k--) &#123;</span><br><span class="line">				result[n - i - <span class="number">1</span>][k] = x++;</span><br><span class="line">			&#125;</span><br><span class="line">			x--;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = n - i - <span class="number">1</span>; k &gt;= i + <span class="number">1</span>; k--) &#123;</span><br><span class="line">				result[k][i] = x++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (n % <span class="number">2</span>) &#123;</span><br><span class="line">			result[n / <span class="number">2</span>][n / <span class="number">2</span>] = x;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="60-Permutation-Sequence"><a href="#60-Permutation-Sequence" class="headerlink" title="60 Permutation Sequence"></a>60 Permutation Sequence</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; exist(n + <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line">		<span class="keyword">int</span> f = getFactorial(n);</span><br><span class="line">		<span class="keyword">int</span> k2 = k;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">			f = f / i;</span><br><span class="line">			<span class="keyword">int</span> num = (k2 - <span class="number">1</span>) / f + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> (num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (exist[x])</span><br><span class="line">					num--;</span><br><span class="line">				x++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (!exist[x])</span><br><span class="line">				x++;</span><br><span class="line"></span><br><span class="line">			exist[x] = <span class="literal">false</span>;</span><br><span class="line">			result += (<span class="keyword">char</span>)(x + <span class="string">'0'</span>);</span><br><span class="line">			k2 = (k2 - <span class="number">1</span>) % f + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getFactorial</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			result *= i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="61-80-Problems"><a href="#61-80-Problems" class="headerlink" title="61 ~ 80 Problems"></a>61 ~ 80 Problems</h2><h3 id="61-Rotate-List"><a href="#61-Rotate-List" class="headerlink" title="61 Rotate List"></a>61 Rotate List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">rotateRight</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		ListNode* p1 = head;</span><br><span class="line">		<span class="keyword">while</span> (p1 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">			n++;</span><br><span class="line">		&#125;</span><br><span class="line">		k = k % n;</span><br><span class="line">		<span class="keyword">if</span> (k == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		ListNode *tail = head, *p = head;</span><br><span class="line">		<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">			num++;</span><br><span class="line">			<span class="keyword">if</span> (num &gt; k)</span><br><span class="line">				tail = tail-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		p-&gt;next = head;</span><br><span class="line">		ListNode* nhead = tail-&gt;next;</span><br><span class="line">		tail-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> nhead;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="62-Unique-Paths"><a href="#62-Unique-Paths" class="headerlink" title="62 Unique Paths"></a>62 Unique Paths</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">uniquePaths</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (m &lt;= <span class="number">1</span> || n &lt;= <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; path(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			path[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">			now = !now;</span><br><span class="line">			path[now][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">				path[now][j] = path[!now][j] + path[now][j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> path[now][n - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="63-Unique-Paths"><a href="#63-Unique-Paths" class="headerlink" title="63 Unique Paths ||"></a>63 Unique Paths ||</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">uniquePathsWithObstacles</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; obstacleGrid)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> m = obstacleGrid.size();</span><br><span class="line">		<span class="keyword">if</span> (m &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n = obstacleGrid[<span class="number">0</span>].size();</span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> line = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; path(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="number">0</span>;</span><br><span class="line">		path[now][<span class="number">0</span>] = obstacleGrid[line][<span class="number">0</span>] == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">			path[now][i] = obstacleGrid[line][i] == <span class="number">0</span> ? path[now][i<span class="number">-1</span>]: <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">			line++;</span><br><span class="line">			now = !now;</span><br><span class="line">			path[now][<span class="number">0</span>] = obstacleGrid[line][<span class="number">0</span>] == <span class="number">0</span> ? path[!now][<span class="number">0</span>] : <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">				path[now][j] = obstacleGrid[line][j] == <span class="number">0</span> ? path[!now][j] + path[now][j - <span class="number">1</span>] : <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> path[now][n - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="64-Minimum-Path-Sum"><a href="#64-Minimum-Path-Sum" class="headerlink" title="64 Minimum Path Sum"></a>64 Minimum Path Sum</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> m = grid.size();</span><br><span class="line">		<span class="keyword">if</span> (m &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n = grid[<span class="number">0</span>].size();</span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; pathSum(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> line = <span class="number">0</span>;</span><br><span class="line">		pathSum[<span class="number">0</span>][<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">			pathSum[now][j] = grid[line][j] + pathSum[now][j<span class="number">-1</span>];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (line = <span class="number">1</span>; line &lt; m; line++) &#123;</span><br><span class="line">			now = !now;</span><br><span class="line">			pathSum[now][<span class="number">0</span>] = grid[line][<span class="number">0</span>] + pathSum[!now][<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">				pathSum[now][j] = min(pathSum[!now][j], pathSum[now][j - <span class="number">1</span>]) + grid[line][j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> pathSum[now][n - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="65-Valid-Number"><a href="#65-Valid-Number" class="headerlink" title="65 Valid Number"></a>65 Valid Number</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isNumber</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> end = s.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; s.size() &amp;&amp; <span class="built_in">isspace</span>(s[begin]))</span><br><span class="line">			begin++;</span><br><span class="line">		<span class="keyword">if</span> (s[begin] == <span class="string">'-'</span> || s[begin] == <span class="string">'+'</span>)</span><br><span class="line">			begin++;</span><br><span class="line">		<span class="keyword">while</span> (end &gt;= <span class="number">0</span> &amp;&amp;  <span class="built_in">isspace</span>(s[end]))</span><br><span class="line">			end--;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt; end)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> p = begin;</span><br><span class="line">		<span class="keyword">bool</span> haspoint = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">bool</span> afterE = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">bool</span> hasPulse = <span class="literal">false</span>;;</span><br><span class="line">		<span class="keyword">bool</span> hasSub = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">while</span> (p &lt;= end) &#123;</span><br><span class="line">			<span class="keyword">char</span> c = s[p];</span><br><span class="line">			<span class="keyword">switch</span> (c)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'+'</span>:</span><br><span class="line">				<span class="keyword">if</span> (!afterE || p == end || hasPulse)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				hasPulse = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">				<span class="keyword">if</span> (!afterE || p == end || hasSub)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				hasSub = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'.'</span>:</span><br><span class="line">				<span class="keyword">if</span> (afterE)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">if</span> (p == begin) &#123;</span><br><span class="line">					<span class="keyword">if</span> (p == end)</span><br><span class="line">						<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (s[p + <span class="number">1</span>] == <span class="string">'e'</span>)</span><br><span class="line">						<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (!haspoint) &#123;</span><br><span class="line">					haspoint = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'0'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'1'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'2'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'3'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'4'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'5'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'6'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'7'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'8'</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'9'</span>:</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">				<span class="keyword">if</span> (afterE)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">if</span> (p == end || p == begin)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="comment">//if (isZero(s.substr(begin, p - begin)))</span></span><br><span class="line">					<span class="comment">//return false;</span></span><br><span class="line">				afterE = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>: </span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			p++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="66-Plus-One"><a href="#66-Plus-One" class="headerlink" title="66 Plus One"></a>66 Plus One</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; plusOne(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; digits) &#123;</span><br><span class="line">		<span class="keyword">int</span> n = digits.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tem = digits;</span><br><span class="line">		<span class="keyword">int</span> i = n - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (tem[i] == <span class="number">9</span>)</span><br><span class="line">				tem[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123; </span><br><span class="line">				tem[i] += <span class="number">1</span>; </span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			i--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">			result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> tem;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="67-Add-Binary"><a href="#67-Add-Binary" class="headerlink" title="67 Add Binary"></a>67 Add Binary</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">addBinary</span><span class="params">(<span class="built_in">string</span> a, <span class="built_in">string</span> b)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (a.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> b;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (b.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> a;</span><br><span class="line">		<span class="keyword">int</span> now = <span class="number">0</span>, next = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">int</span> n1 = a.size() - <span class="number">1</span>, n2 = b.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (n1 &gt;= <span class="number">0</span> &amp;&amp; n2 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			now = (a[n1] - <span class="string">'0'</span> + b[n2] - <span class="string">'0'</span> + next) &amp; <span class="number">1</span>;</span><br><span class="line">			next = ((a[n1] - <span class="string">'0'</span> + b[n2] - <span class="string">'0'</span> + next) &gt;&gt; <span class="number">1</span>) &amp; <span class="number">1</span>;</span><br><span class="line">			result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + now) + result;</span><br><span class="line">			n1--;</span><br><span class="line">			n2--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (n1 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			now = (a[n1] - <span class="string">'0'</span> + next) &amp; <span class="number">1</span>;</span><br><span class="line">			next = ((a[n1] - <span class="string">'0'</span> + next) &gt;&gt; <span class="number">1</span>) &amp; <span class="number">1</span>;</span><br><span class="line">			result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + now) + result;</span><br><span class="line">			n1--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (n2 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			now = (b[n2] - <span class="string">'0'</span> + next) &amp; <span class="number">1</span>;</span><br><span class="line">			next = ((b[n2] - <span class="string">'0'</span> + next) &gt;&gt; <span class="number">1</span>) &amp; <span class="number">1</span>;</span><br><span class="line">			result = (<span class="keyword">char</span>)(<span class="string">'0'</span> + now) + result;</span><br><span class="line">			n2--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (next &gt; <span class="number">0</span>)</span><br><span class="line">			result = <span class="string">'1'</span> + result;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="68-Text-Justification"><a href="#68-Text-Justification" class="headerlink" title="68 Text Justification"></a>68 Text Justification</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; fullJustify(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="keyword">int</span> maxWidth) &#123;</span><br><span class="line">		<span class="keyword">int</span> n = words.size();</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span> || maxWidth == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;<span class="string">""</span>&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; words.size()) &#123;</span><br><span class="line">			<span class="keyword">int</span> end = begin;</span><br><span class="line">			<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> (end &lt; words.size() &amp;&amp; length + words[end].size() &lt;= maxWidth - end  + begin)</span><br><span class="line">			&#123;</span><br><span class="line">				length += words[end].size();</span><br><span class="line">				end++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (end == words.size()) &#123;</span><br><span class="line">				<span class="built_in">string</span> str;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt; end; i++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (i != end - <span class="number">1</span>) &#123;</span><br><span class="line">						str += words[i] + <span class="string">' '</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> str += words[i];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(str.size() &lt; maxWidth)</span><br><span class="line">					str += <span class="built_in">string</span>(maxWidth - str.size(),<span class="string">' '</span>);</span><br><span class="line">				result.push_back(str);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> NSpace = maxWidth - length;</span><br><span class="line">				<span class="keyword">int</span> average =  (end - begin - <span class="number">1</span>) == <span class="number">0</span> ? <span class="number">0</span> :  NSpace / (end - begin - <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">int</span> extra = (end - begin - <span class="number">1</span>) == <span class="number">0</span> ? <span class="number">0</span> : NSpace % (end - begin - <span class="number">1</span>);</span><br><span class="line">				<span class="built_in">string</span> str;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt; end; i++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (i != end - <span class="number">1</span>) &#123;</span><br><span class="line">						<span class="keyword">if</span> (i &lt; begin + extra) &#123;</span><br><span class="line">							str += words[i] + <span class="built_in">string</span>(average + <span class="number">1</span>, <span class="string">' '</span>);</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">else</span> str += words[i] + <span class="built_in">string</span>(average, <span class="string">' '</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> str += words[i];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (str.size() &lt; maxWidth)</span><br><span class="line">					str += <span class="built_in">string</span>(maxWidth - str.size(), <span class="string">' '</span>);</span><br><span class="line">				result.push_back(str);</span><br><span class="line">			&#125;</span><br><span class="line">			begin = end;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="69-Sqrt-x"><a href="#69-Sqrt-x" class="headerlink" title="69 Sqrt(x)"></a>69 Sqrt(x)</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (x == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">1</span>, end = x;</span><br><span class="line">		<span class="keyword">int</span> mid;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt;= end) &#123;</span><br><span class="line">			mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">int</span> y = x / mid;</span><br><span class="line">			<span class="keyword">if</span> (mid == y)</span><br><span class="line">				<span class="keyword">return</span> mid;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (mid &lt; y) &#123;</span><br><span class="line">				<span class="keyword">if</span> ((mid + <span class="number">1</span>) * (mid + <span class="number">1</span>) &gt; x)</span><br><span class="line">					<span class="keyword">return</span> mid;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					begin = mid + <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (mid &gt; y) &#123;</span><br><span class="line">				end = mid - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> min(begin,end);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="70-Climbing-Stairs"><a href="#70-Climbing-Stairs" class="headerlink" title="70 Climbing Stairs"></a>70 Climbing Stairs</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//vector&lt;int&gt; stepNum = vector&lt;int&gt;(n + 1, 0);</span></span><br><span class="line">		<span class="keyword">int</span> a = <span class="number">1</span>, b = <span class="number">1</span>, c;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			c = a + b;</span><br><span class="line">			a = b;</span><br><span class="line">			b = c;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> c;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="71-Simplify-Path"><a href="#71-Simplify-Path" class="headerlink" title="71 Simplify Path"></a>71 Simplify Path</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">simplifyPath</span><span class="params">(<span class="built_in">string</span> path)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; s;</span><br><span class="line">		s.push_back(<span class="string">"/"</span>);</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; path.size()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (path[begin] == <span class="string">'/'</span>) &#123;</span><br><span class="line">				begin++;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			end = begin;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span> (end &lt; path.size() &amp;&amp; path[end] != <span class="string">'/'</span>)</span><br><span class="line">				end++;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">string</span> str = path.substr(begin, end - begin);</span><br><span class="line">			<span class="keyword">if</span> (str == <span class="string">"."</span>)</span><br><span class="line">			&#123;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (str == <span class="string">".."</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(s.size() &gt; <span class="number">1</span>)</span><br><span class="line">					s.pop_back();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> s.push_back(str);</span><br><span class="line"></span><br><span class="line">			begin = end + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">		<span class="built_in">string</span> result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; s.size(); i++) &#123;</span><br><span class="line">			result += <span class="string">"/"</span> + s[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="72-Edit-Distance"><a href="#72-Edit-Distance" class="headerlink" title="72 Edit Distance"></a>72 Edit Distance</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(<span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (word1.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> word2.size();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (word2.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> word1.size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> m = word1.size(), n = word2.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; check(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n+ <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> line = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			check[now][i] = i;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> line = <span class="number">1</span>; line &lt;= m; line++) &#123;</span><br><span class="line">			now = !now;</span><br><span class="line">			check[now][<span class="number">0</span>] = line;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (word1[line - <span class="number">1</span>] == word2[i <span class="number">-1</span>]) &#123;</span><br><span class="line">					check[now][i] = min(min(check[!now][i - <span class="number">1</span>], check[now][i - <span class="number">1</span>] + <span class="number">1</span>), check[!now][i] + <span class="number">1</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					check[now][i] = min(min(check[!now][i - <span class="number">1</span>] + <span class="number">1</span>, check[now][i - <span class="number">1</span>] + <span class="number">1</span>), check[!now][i] + <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> check[now][n];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="73-Set-Marix-Zeros"><a href="#73-Set-Marix-Zeros" class="headerlink" title="73 Set Marix Zeros"></a>73 Set Marix Zeros</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setZeroes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (matrix.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; row,column;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (matrix[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">					row.push_back(i);</span><br><span class="line">					column.push_back(j);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">				matrix[row[i]][j] = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; column.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix.size(); j++) &#123;</span><br><span class="line">				matrix[j][column[i]] = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="74-Search-a-2D-Matrix"><a href="#74-Search-a-2D-Matrix" class="headerlink" title="74 Search a 2D Matrix"></a>74 Search a 2D Matrix</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">searchMatrix</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> row = matrix.size();</span><br><span class="line">		<span class="keyword">if</span> (row == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> column = matrix[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> length = row * column;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = length - <span class="number">1</span>, mid;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (begin &lt;= end) &#123;</span><br><span class="line">			mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">int</span> x = getNumber(matrix, mid);</span><br><span class="line">			<span class="keyword">if</span> (x &gt; target) &#123;</span><br><span class="line">				end = mid - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (x &lt; target) &#123;</span><br><span class="line">				begin = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> r = length / (matrix[<span class="number">0</span>].size());</span><br><span class="line">		<span class="keyword">int</span> c = length % (matrix[<span class="number">0</span>].size());</span><br><span class="line">		<span class="keyword">return</span> matrix[r][c];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="75-Sort-Colors"><a href="#75-Sort-Colors" class="headerlink" title="75 Sort Colors"></a>75 Sort Colors</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = nums.size();</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = n - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; n &amp;&amp; nums[begin] == <span class="number">0</span>)</span><br><span class="line">				begin++;</span><br><span class="line">			<span class="keyword">while</span> (end &gt;= <span class="number">0</span> &amp;&amp; nums[end] != <span class="number">0</span>)</span><br><span class="line">				end--;</span><br><span class="line">			<span class="keyword">if</span>(begin &lt; end)</span><br><span class="line">				swap(nums[begin], nums[end]);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		begin = <span class="number">0</span>, end = n - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; n &amp;&amp; nums[begin] != <span class="number">2</span>)</span><br><span class="line">				begin++;</span><br><span class="line">			<span class="keyword">while</span> (end &gt;= <span class="number">0</span> &amp;&amp; nums[end] == <span class="number">2</span>)</span><br><span class="line">				end--;</span><br><span class="line">			<span class="keyword">if</span> (begin &lt; end)</span><br><span class="line">				swap(nums[begin], nums[end]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="76-Minimum-Window-Substring"><a href="#76-Minimum-Window-Substring" class="headerlink" title="76 Minimum Window Substring"></a>76 Minimum Window Substring</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">minWindow</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() &lt; t.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">int</span> digit[<span class="number">128</span>] = &#123;&#125;;</span><br><span class="line">		<span class="keyword">bool</span> exist[<span class="number">128</span>] = &#123;&#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t.size(); i++) &#123;</span><br><span class="line">			digit[t[i]]++;</span><br><span class="line">			exist[t[i]] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> remender = t.size();</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">int</span> rb = <span class="number">-1</span>, re = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">while</span> (end &lt; (<span class="keyword">int</span>)s.size()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (remender == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (re == <span class="number">-1</span> || end - begin + <span class="number">1</span> &lt; re - rb + <span class="number">1</span>) &#123;</span><br><span class="line">					re = end;</span><br><span class="line">					rb = begin;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (exist[s[begin]]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (digit[s[begin]] &gt;= <span class="number">0</span>)</span><br><span class="line">						remender++;</span><br><span class="line">					digit[s[begin]]++;</span><br><span class="line">				&#125;</span><br><span class="line">				begin++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				end++;</span><br><span class="line">				<span class="keyword">if</span> (exist[s[end]]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (digit[s[end]] &gt; <span class="number">0</span>)</span><br><span class="line">						remender--;</span><br><span class="line">					digit[s[end]]--;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (rb == <span class="number">-1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> s.substr(rb, re - rb + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="77-Combinations"><a href="#77-Combinations" class="headerlink" title="77 Combinations"></a>77 Combinations</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">		<span class="keyword">if</span> (k &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">		getResult(result, <span class="built_in">list</span>, k, <span class="number">1</span>, n);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getResult</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">list</span>,<span class="keyword">int</span> k,<span class="keyword">int</span> num,<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">list</span>.size() == k) &#123;</span><br><span class="line">			result.push_back(<span class="built_in">list</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = num; i &lt;= n; i++) &#123;</span><br><span class="line">			<span class="built_in">list</span>.push_back(i);</span><br><span class="line">			getResult(result, <span class="built_in">list</span>, k, i+<span class="number">1</span>, n);</span><br><span class="line">			<span class="built_in">list</span>.pop_back();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="78-Subsets"><a href="#78-Subsets" class="headerlink" title="78 Subsets"></a>78 Subsets</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; subsets(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">		getList(result, <span class="built_in">list</span>, nums, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getList</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">list</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		result.push_back(<span class="built_in">list</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = num; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="built_in">list</span>.push_back(nums[i]);</span><br><span class="line">			getList(result, <span class="built_in">list</span>, nums, i + <span class="number">1</span>);</span><br><span class="line">			<span class="built_in">list</span>.pop_back();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="79-Word-Search"><a href="#79-Word-Search" class="headerlink" title="79 Word Search"></a>79 Word Search</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (board.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; check(board.size(), <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(board[<span class="number">0</span>].size(), <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (board[i][j] == word[<span class="number">0</span>]) &#123;</span><br><span class="line">					check[i][j] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (depthSearch(board, check, word, <span class="number">1</span>, i, j))</span><br><span class="line">						<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">					check[i][j] = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">depthSearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;&amp; check, <span class="built_in">string</span>&amp; word, <span class="keyword">int</span> k, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (k == word.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (board[x - <span class="number">1</span>][y] == word[k] &amp;&amp; !check[x - <span class="number">1</span>][y] ) &#123;</span><br><span class="line">				check[x - <span class="number">1</span>][y] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">if</span> (depthSearch(board, check, word, k + <span class="number">1</span>, x - <span class="number">1</span>, y))</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				check[x - <span class="number">1</span>][y] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (x &lt; board.size() - <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (board[x + <span class="number">1</span>][y] == word[k] &amp;&amp; !check[x + <span class="number">1</span>][y]) &#123;</span><br><span class="line">				check[x + <span class="number">1</span>][y] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">if</span> (depthSearch(board, check, word, k + <span class="number">1</span>, x + <span class="number">1</span>, y))</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				check[x + <span class="number">1</span>][y] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (board[x][y - <span class="number">1</span>] == word[k] &amp;&amp; !check[x][y - <span class="number">1</span>]) &#123;</span><br><span class="line">				check[x][y - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">if</span> (depthSearch(board, check, word, k + <span class="number">1</span>, x, y - <span class="number">1</span>))</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				check[x][y - <span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (y &lt; board[<span class="number">0</span>].size() - <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (board[x][y + <span class="number">1</span>] == word[k] &amp;&amp; !check[x][y + <span class="number">1</span>]) &#123;</span><br><span class="line">				check[x][y + <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">if</span> (depthSearch(board, check, word, k + <span class="number">1</span>, x, y + <span class="number">1</span>))</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				check[x][y + <span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="80-Remove-Duplicates-from-Sorted-Array-II"><a href="#80-Remove-Duplicates-from-Sorted-Array-II" class="headerlink" title="80 Remove Duplicates from Sorted Array II"></a>80 Remove Duplicates from Sorted Array II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() &lt;= <span class="number">2</span>)</span><br><span class="line">			<span class="keyword">return</span> nums.size();</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[length - <span class="number">2</span>] != nums[i]) &#123;</span><br><span class="line">				length++;</span><br><span class="line">				<span class="keyword">if</span> (i &gt; length - <span class="number">1</span>)</span><br><span class="line">					swap(nums[i], nums[length - <span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="81-100-Problems"><a href="#81-100-Problems" class="headerlink" title="81 ~ 100 Problems"></a>81 ~ 100 Problems</h2><h3 id="81-Search-in-Rotated-Sorted-Array-II"><a href="#81-Search-in-Rotated-Sorted-Array-II" class="headerlink" title="81 Search in Rotated Sorted Array II"></a>81 Search in Rotated Sorted Array II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = nums.size() - <span class="number">1</span>, mid;</span><br><span class="line">		<span class="keyword">int</span> min = getMin(nums);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (begin &lt;= end) &#123;</span><br><span class="line">			mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">int</span> x = nums[(mid + min) % nums.size()];</span><br><span class="line">			<span class="keyword">if</span> (x &gt; target) &#123;</span><br><span class="line">				end = mid - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (x &lt; target)</span><br><span class="line">				begin = mid + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">1</span> || nums.back() &gt; nums[<span class="number">0</span>])</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = nums.size() - <span class="number">1</span>, mid;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt;= end) &#123;</span><br><span class="line">			mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (mid &gt; <span class="number">0</span> &amp;&amp; nums[mid] &lt; nums[mid - <span class="number">1</span>])</span><br><span class="line">				<span class="keyword">return</span> mid;</span><br><span class="line">			<span class="keyword">if</span> (nums[mid] &gt; nums[end]) &#123;</span><br><span class="line">				begin = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; nums[begin]) &#123;</span><br><span class="line">				end = mid - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (nums[end] == nums[begin])</span><br><span class="line">				end--;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt; <span class="number">0</span> &amp;&amp; nums[begin] &lt; nums[begin - <span class="number">1</span>])</span><br><span class="line">			<span class="keyword">return</span> begin;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> end + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="82-Remove-Duplicates-from-Sorted-List-II"><a href="#82-Remove-Duplicates-from-Sorted-List-II" class="headerlink" title="82 Remove Duplicates from Sorted List II"></a>82 Remove Duplicates from Sorted List II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">deleteDuplicates</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		ListNode *mhead = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		mhead-&gt;next = head;</span><br><span class="line">		ListNode *low = head, *far = head;</span><br><span class="line">		ListNode *oldlow = mhead;</span><br><span class="line">		<span class="keyword">int</span> old = far-&gt;val;</span><br><span class="line">		<span class="keyword">while</span> (far != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (far-&gt;next != <span class="literal">NULL</span> &amp;&amp; far-&gt;val == far-&gt;next-&gt;val) &#123;</span><br><span class="line">				old = far-&gt;val;</span><br><span class="line">				<span class="keyword">while</span> (far != <span class="literal">NULL</span> &amp;&amp; far-&gt;val == old)</span><br><span class="line">					far = far-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				low-&gt;val = far-&gt;val;</span><br><span class="line">				oldlow = low;</span><br><span class="line">				low = low-&gt;next;</span><br><span class="line">				far = far-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		oldlow-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> low == head ? <span class="literal">NULL</span> : head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="83-Remove-Duplicates-from-Sorted-List"><a href="#83-Remove-Duplicates-from-Sorted-List" class="headerlink" title="83 Remove Duplicates from Sorted List"></a>83 Remove Duplicates from Sorted List</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">deleteDuplicates</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		ListNode *far = head, *low = head, *oldlow;</span><br><span class="line">		<span class="keyword">while</span> (far != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span> (far-&gt;next != <span class="literal">NULL</span> &amp;&amp; far-&gt;val == far-&gt;next-&gt;val)</span><br><span class="line">				far = far-&gt;next;</span><br><span class="line">			low-&gt;val = far-&gt;val;</span><br><span class="line">			oldlow = low;</span><br><span class="line">			low = low-&gt;next;</span><br><span class="line">			far = far-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		oldlow-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="84-Largest-Rectangle-in-Histogram"><a href="#84-Largest-Rectangle-in-Histogram" class="headerlink" title="84 Largest Rectangle in Histogram"></a>84 Largest Rectangle in Histogram</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (heights.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n = heights.size();</span><br><span class="line">		<span class="keyword">int</span> maxA = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; left(n, <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; right(n, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//left</span></span><br><span class="line">		left[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (heights[i] &gt; heights[i - <span class="number">1</span>])</span><br><span class="line">				left[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> m = i - <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">while</span> (m &gt;= <span class="number">0</span> &amp;&amp; heights[m] &gt;= heights[i])</span><br><span class="line">					m -= left[m] + <span class="number">1</span>;</span><br><span class="line">				left[i] = i - m - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//right</span></span><br><span class="line">		right[n - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (heights[i] &gt; heights[i + <span class="number">1</span>])</span><br><span class="line">				right[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> m = i + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">while</span> (m &lt; n &amp;&amp; heights[m] &gt;= heights[i])</span><br><span class="line">					m += right[m] + <span class="number">1</span>;</span><br><span class="line">				right[i] = m - i - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> a = heights[i] * (left[i] + right[i] + <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">if</span> (a &gt; maxA)</span><br><span class="line">				maxA = a;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> maxA;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="85-Maximal-Rectangle"><a href="#85-Maximal-Rectangle" class="headerlink" title="85 Maximal Rectangle"></a>85 Maximal Rectangle</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (matrix.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; height(matrix.size(), <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(matrix[<span class="number">0</span>].size(), <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">			height[<span class="number">0</span>][j] = matrix[<span class="number">0</span>][j] - <span class="string">'0'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; matrix.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (matrix[i][j] == <span class="string">'0'</span>) &#123;</span><br><span class="line">					height[i][j] = <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> height[i][j] = <span class="number">1</span> + height[i - <span class="number">1</span>][j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> maxR = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> x = largestRectangleArea(height[i]);</span><br><span class="line">			<span class="keyword">if</span> (x &gt; maxR)</span><br><span class="line">				maxR = x;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> maxR;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (heights.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n = heights.size();</span><br><span class="line">		<span class="keyword">int</span> maxA = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; left(n, <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; right(n, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//left</span></span><br><span class="line">		left[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (heights[i] &gt; heights[i - <span class="number">1</span>])</span><br><span class="line">				left[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> m = i - <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">while</span> (m &gt;= <span class="number">0</span> &amp;&amp; heights[m] &gt;= heights[i])</span><br><span class="line">					m -= left[m] + <span class="number">1</span>;</span><br><span class="line">				left[i] = i - m - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//right</span></span><br><span class="line">		right[n - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (heights[i] &gt; heights[i + <span class="number">1</span>])</span><br><span class="line">				right[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> m = i + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">while</span> (m &lt; n &amp;&amp; heights[m] &gt;= heights[i])</span><br><span class="line">					m += right[m] + <span class="number">1</span>;</span><br><span class="line">				right[i] = m - i - <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> a = heights[i] * (left[i] + right[i] + <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">if</span> (a &gt; maxA)</span><br><span class="line">				maxA = a;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> maxA;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="86-Partition-List"><a href="#86-Partition-List" class="headerlink" title="86 Partition List"></a>86 Partition List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">partition</span><span class="params">(ListNode* head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">/*	vector&lt;int&gt; v1;</span></span><br><span class="line"><span class="comment">		vector&lt;int&gt; v2;</span></span><br><span class="line"><span class="comment">		ListNode* p = head;</span></span><br><span class="line"><span class="comment">		while (p != NULL) &#123;</span></span><br><span class="line"><span class="comment">			if (p-&gt;val &lt; x)</span></span><br><span class="line"><span class="comment">				v1.push_back(p-&gt;val);</span></span><br><span class="line"><span class="comment">			else v2.push_back(p-&gt;val);</span></span><br><span class="line"><span class="comment">			p = p-&gt;next;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		p = head;</span></span><br><span class="line"><span class="comment">		for (int i = 0; i &lt; v1.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">			p-&gt;val = v1[i];</span></span><br><span class="line"><span class="comment">			p = p-&gt;next;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		for (int i = 0; i &lt; v2.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">			p-&gt;val = v2[i];</span></span><br><span class="line"><span class="comment">			p = p-&gt;next;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		return head;*/</span></span><br><span class="line"></span><br><span class="line">		<span class="function">ListNode <span class="title">l1</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">		<span class="function">ListNode <span class="title">l2</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">		ListNode* p1 = &amp;l1;</span><br><span class="line">		ListNode* p2 = &amp;l2;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (head != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (head-&gt;val &lt; x) &#123;</span><br><span class="line">				p1-&gt;next = head;</span><br><span class="line">				p1 = p1-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				p2-&gt;next = head;</span><br><span class="line">				p2 = p2-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			head = head-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		head = l1.next;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> l2.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			p1-&gt;next = l2.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="87-Scramble-String"><a href="#87-Scramble-String" class="headerlink" title="87 Scramble String"></a>87 Scramble String</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isScramble</span><span class="params">(<span class="built_in">string</span> s1, <span class="built_in">string</span> s2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s1.size() != s2.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (s1.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> n = s1.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;&gt; check(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;(n, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(n, <span class="number">0</span>)));</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">				check[<span class="number">1</span>][i][j] = s1[i] == s2[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">1</span>; l &lt;= n; l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + l &lt;= n; i++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j + l &lt;= n; j++) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; l; k++) &#123;</span><br><span class="line">						check[l][i][j] = check[l][i][j]</span><br><span class="line">							|| (check[k][i][j + l - k] &amp;&amp; check[l - k][i + k][j])</span><br><span class="line">							|| (check[k][i][j] &amp;&amp; check[l - k][i + k][j + k]);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> check[n][<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="88-Merge-Sorted-Array"><a href="#88-Merge-Sorted-Array" class="headerlink" title="88 Merge Sorted Array"></a>88 Merge Sorted Array</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums(nums1.size(), <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; m &amp;&amp; j &lt; n) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums1[i] &lt; nums2[j])</span><br><span class="line">				nums[k++] = nums1[i++];</span><br><span class="line">			<span class="keyword">else</span> nums[k++] = nums2[j++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; m) &#123;</span><br><span class="line">			nums[k++] = nums1[i++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (j &lt; n) &#123;</span><br><span class="line">			nums[k++] = nums2[j++];</span><br><span class="line">		&#125;</span><br><span class="line">		nums1 = nums;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="89-Gray-Code"><a href="#89-Gray-Code" class="headerlink" title="89 Gray Code"></a>89 Gray Code</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; grayCode(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result = &#123; <span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		result.push_back(<span class="number">3</span>);</span><br><span class="line">		result.push_back(<span class="number">2</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> num = result.size() / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++) &#123;</span><br><span class="line">				result.push_back(result[j] + (<span class="number">3</span> &lt;&lt; (i - <span class="number">2</span>)));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = num - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">				result.push_back(result[j] + (<span class="number">2</span> &lt;&lt; (i - <span class="number">2</span>)));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="90-Subsets-II"><a href="#90-Subsets-II" class="headerlink" title="90 Subsets II"></a>90 Subsets II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; subsetsWithDup(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123; &#123;&#125; &#125;;</span><br><span class="line">		sort(nums.begin(), nums.end());</span><br><span class="line">		<span class="keyword">int</span> n = nums.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		result.push_back(&#123;&#125;);</span><br><span class="line">		<span class="keyword">int</span> newnum = <span class="number">1</span>, samenum = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == <span class="number">0</span> || nums[i] != nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">				newnum = result.size();		<span class="comment">//ÖØ¸´Ö®Ç°µÄresultÖÐµÄ¸öÊý</span></span><br><span class="line">				samenum = <span class="number">1</span>;				<span class="comment">//ÖØÖÃÖØ¸´¸öÊý</span></span><br><span class="line">				<span class="keyword">int</span> k = result.size();</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">					result.push_back(result[j]);</span><br><span class="line">					result.back().push_back(nums[i]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				samenum++;					<span class="comment">//ÖØ¸´µÄ¸öÊý</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; newnum; j++) &#123;</span><br><span class="line">					result.push_back(result[j]);</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; samenum; m++) &#123;</span><br><span class="line">						result.back().push_back(nums[i]);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="91-Decode-Ways"><a href="#91-Decode-Ways" class="headerlink" title="91 Decode Ways"></a>91 Decode Ways</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span> || s[<span class="number">0</span>] == <span class="string">'0'</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(s.size(),<span class="number">0</span>);</span><br><span class="line">		f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (s[<span class="number">1</span>] == <span class="string">'0'</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'1'</span> || s[<span class="number">0</span>] == <span class="string">'2'</span>)</span><br><span class="line">				f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'1'</span>)</span><br><span class="line">				f[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">'2'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (s[<span class="number">1</span>] &gt;= <span class="string">'1'</span> &amp;&amp; s[<span class="number">1</span>] &lt;= <span class="string">'6'</span>)</span><br><span class="line">					f[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">else</span> f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; s.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[i] == <span class="string">'0'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">'1'</span> || s[i - <span class="number">1</span>] == <span class="string">'2'</span>)</span><br><span class="line">					f[i] = f[i - <span class="number">2</span>];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">					f[i] = f[i - <span class="number">1</span>] + f[i - <span class="number">2</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (s[i <span class="number">-1</span>] == <span class="string">'2'</span> &amp;&amp; (s[i] &gt;= <span class="string">'1'</span> &amp;&amp; s[i] &lt;= <span class="string">'6'</span>))</span><br><span class="line">					f[i] = f[i - <span class="number">1</span>] + f[i - <span class="number">2</span>];</span><br><span class="line">				<span class="keyword">else</span> f[i] = f[i - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> f[s.size()- <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="92-Reverse-Linked-List-II"><a href="#92-Reverse-Linked-List-II" class="headerlink" title="92 Reverse Linked List II"></a>92 Reverse Linked List II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">reverseBetween</span><span class="params">(ListNode* head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (m == n)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		ListNode* h = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		h-&gt;next = head;</span><br><span class="line">		<span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">		ListNode* p = h;</span><br><span class="line">		<span class="keyword">while</span> (num &lt; m) &#123;</span><br><span class="line">			num++;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		ListNode* n1 = p;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		ListNode *p2 = p-&gt;next, *p3 = p2-&gt;next;</span><br><span class="line">		ListNode* n2 = p;</span><br><span class="line">		<span class="keyword">while</span> (num &lt; n) &#123;</span><br><span class="line">			p2-&gt;next = p;</span><br><span class="line">			p = p2;</span><br><span class="line">			p2 = p3;</span><br><span class="line">			<span class="keyword">if</span>(p3)</span><br><span class="line">				p3 = p3-&gt;next;</span><br><span class="line">			num++;</span><br><span class="line">		&#125;</span><br><span class="line">		n2-&gt;next = p2;</span><br><span class="line">		n1-&gt;next = p;</span><br><span class="line">		p = h-&gt;next;</span><br><span class="line">		<span class="keyword">return</span> h-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="93-Restore-IP-Address"><a href="#93-Restore-IP-Address" class="headerlink" title="93 Restore IP Address"></a>93 Restore IP Address</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; restoreIpAddresses(<span class="built_in">string</span> s) &#123;</span><br><span class="line">		<span class="keyword">int</span> n = s.size();</span><br><span class="line">		<span class="keyword">if</span> (s.size() &lt; <span class="number">4</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">int</span> N = s.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!isvaild(s.substr(<span class="number">0</span>, i)))</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">3</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!isvaild(s.substr(i, j)))</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">1</span>; m &lt;= <span class="number">3</span>; m++) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = N - i - j - m;</span><br><span class="line">					<span class="keyword">if</span> (n &gt; <span class="number">3</span> || n &lt;= <span class="number">0</span>)</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					<span class="keyword">if</span> (!isvaild(s.substr(i + j, m)))</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					<span class="keyword">if</span> (!isvaild(s.substr(i + j + m, n)))</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					result.push_back(s.substr(<span class="number">0</span>, i) + <span class="string">"."</span> + s.substr(i, j) + <span class="string">"."</span> + s.substr(i + j, m) + <span class="string">"."</span> + s.substr(i + j + m, n));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isvaild</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (str.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (str[<span class="number">0</span>] == <span class="string">'0'</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (str.size() &lt; <span class="number">3</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (str[<span class="number">0</span>] &gt; <span class="string">'2'</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (str[<span class="number">0</span>] == <span class="string">'2'</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (str[<span class="number">1</span>] &gt; <span class="string">'5'</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (str[<span class="number">1</span>] == <span class="string">'5'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (str[<span class="number">2</span>] &gt; <span class="string">'5'</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="94-Binary-Tree-Inorder-Traversal"><a href="#94-Binary-Tree-Inorder-Traversal" class="headerlink" title="94 Binary Tree Inorder Traversal"></a>94 Binary Tree Inorder Traversal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; inorderTraversal(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		inorderTraversal(result, root);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">inorderTraversal</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; result, TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;left != <span class="literal">NULL</span>)</span><br><span class="line">			inorderTraversal(result, node-&gt;left);</span><br><span class="line">		result.push_back(node-&gt;val);</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">			inorderTraversal(result, node-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="95-Unique-Binary-Search-Trees-II"><a href="#95-Unique-Binary-Search-Trees-II" class="headerlink" title="95 Unique Binary Search Trees II"></a>95 Unique Binary Search Trees II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;TreeNode*&gt; generateTrees(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;TreeNode*&gt; result;</span><br><span class="line"></span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">		result.push_back(node);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> n = result.size();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">				TreeNode * p = result[k];</span><br><span class="line">				<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">					TreeNode * p2 = copyTree(result[k]);</span><br><span class="line">					TreeNode * p3 = p2;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++)</span><br><span class="line">						p3 = p3-&gt;right;</span><br><span class="line"></span><br><span class="line">					TreeNode* right = p3-&gt;right;</span><br><span class="line">					p3-&gt;right = <span class="keyword">new</span> TreeNode(i);</span><br><span class="line">					p3-&gt;right-&gt;left = right;</span><br><span class="line"></span><br><span class="line">					result.push_back(p2);</span><br><span class="line"></span><br><span class="line">					p = p-&gt;right;</span><br><span class="line">					num++;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				p = <span class="keyword">new</span> TreeNode(i);</span><br><span class="line">				p-&gt;left = result[k];</span><br><span class="line">				result[k] = p;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">copyTree</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(root-&gt;val);</span><br><span class="line">		copy(root, node);</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">copy</span><span class="params">(TreeNode* node1, TreeNode* node2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node1-&gt;left != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			node2-&gt;left = <span class="keyword">new</span> TreeNode(node1-&gt;left-&gt;val);</span><br><span class="line">			copy(node1-&gt;left, node2-&gt;left);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (node1-&gt;right != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			node2-&gt;right = <span class="keyword">new</span> TreeNode(node1-&gt;right-&gt;val);</span><br><span class="line">			copy(node1-&gt;right, node2-&gt;right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="96-Unique-Binary-Search-Trees"><a href="#96-Unique-Binary-Search-Trees" class="headerlink" title="96 Unique Binary Search Trees"></a>96 Unique Binary Search Trees</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		result.push_back(<span class="number">1</span>);</span><br><span class="line">		result.push_back(<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			result.push_back(<span class="number">0</span>);</span><br><span class="line">			<span class="keyword">int</span> num, oldnum;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">				num = result[j];</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> k = j + <span class="number">1</span>; k &lt;= i; k++) &#123;</span><br><span class="line">					result[j] += result[k];</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span> (j &gt; <span class="number">1</span>)</span><br><span class="line">					result[j] += oldnum;</span><br><span class="line">				oldnum = num;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			r += result[i];</span><br><span class="line">		<span class="keyword">return</span> r;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="97-Interleaving-String"><a href="#97-Interleaving-String" class="headerlink" title="97 Interleaving String"></a>97 Interleaving String</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isInterleave</span><span class="params">(<span class="built_in">string</span> s1, <span class="built_in">string</span> s2, <span class="built_in">string</span> s3)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s1.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> s2 == s3;</span><br><span class="line">		<span class="keyword">if</span> (s2.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> s1 == s3;</span><br><span class="line">		<span class="keyword">if</span> (s1.size() + s2.size() != s3.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; check(s1.size() + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(s2.size() + <span class="number">1</span>, <span class="literal">false</span>));</span><br><span class="line">		check[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s1.size(); i++) &#123;</span><br><span class="line">			check[i][<span class="number">0</span>] = check[i - <span class="number">1</span>][<span class="number">0</span>] &amp;&amp; (s1[i - <span class="number">1</span>] == s3[i - <span class="number">1</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= s2.size(); j++) &#123;</span><br><span class="line">			check[<span class="number">0</span>][j] = check[<span class="number">0</span>][j - <span class="number">1</span>] &amp;&amp; (s2[j - <span class="number">1</span>] == s3[j - <span class="number">1</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">1</span>; l &lt;= s3.size(); l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= s1.size() &amp;&amp; i &lt;= l; i++) &#123;</span><br><span class="line">				j = l - i;</span><br><span class="line">				<span class="keyword">if</span> (j &gt; s2.size() || j &lt;= <span class="number">0</span> ) <span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (s1[i - <span class="number">1</span>] == s3[l - <span class="number">1</span>])</span><br><span class="line">					check[i][j] = check[i][j] || check[i - <span class="number">1</span>][j] ;</span><br><span class="line">				<span class="keyword">if</span> (s2[j - <span class="number">1</span>] == s3[l - <span class="number">1</span>])</span><br><span class="line">					check[i][j] = check[i][j] || check[i][j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> check[s1.size()][s2.size()];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="98-Validate-Binary-Search-Tree"><a href="#98-Validate-Binary-Search-Tree" class="headerlink" title="98 Validate Binary Search Tree"></a>98 Validate Binary Search Tree</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isValidBST</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> judgeTree(root, INT_MIN, INT_MAX);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">judgeTree</span><span class="params">(TreeNode* node, <span class="keyword">int</span> min, <span class="keyword">int</span> max)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;val &lt; min || node-&gt;val &gt; max)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (node-&gt;val == INT_MIN) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (node-&gt;val == INT_MAX) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> judgeTree(node-&gt;left, min, node-&gt;val - <span class="number">1</span>) &amp;&amp; judgeTree(node-&gt;right, node-&gt;val + <span class="number">1</span>, max);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="99-Recover-Binary-Search-Tree"><a href="#99-Recover-Binary-Search-Tree" class="headerlink" title="99 Recover Binary Search Tree"></a>99 Recover Binary Search Tree</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	TreeNode* first = <span class="literal">NULL</span>, *second = <span class="literal">NULL</span>, *prev = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">recoverTree</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">		mid(root);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (first &amp;&amp; second) &#123;</span><br><span class="line">			<span class="keyword">int</span> tem = first-&gt;val;</span><br><span class="line">			first-&gt;val = second-&gt;val;</span><br><span class="line">			second-&gt;val = tem;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">mid</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		mid(node-&gt;left);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (prev) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;val &lt;= prev-&gt;val) &#123;</span><br><span class="line">				second = node;</span><br><span class="line">				<span class="keyword">if</span> (!first)</span><br><span class="line">					first = prev;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		prev = node;</span><br><span class="line">		mid(node-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="100-Same-Tree"><a href="#100-Same-Tree" class="headerlink" title="100 Same Tree"></a>100 Same Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isSameTree</span><span class="params">(TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="literal">NULL</span> || q == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> p == q;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> isSame(p, q);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isSame</span><span class="params">(TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="literal">NULL</span> || q == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> p == q;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (p-&gt;val != q-&gt;val)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> isSame(p-&gt;left, q-&gt;left) &amp;&amp; isSame(p-&gt;right, q-&gt;right);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="101-120-Problems"><a href="#101-120-Problems" class="headerlink" title="101 ~ 120 Problems"></a>101 ~ 120 Problems</h2><h3 id="101-Symmetric-Tree"><a href="#101-Symmetric-Tree" class="headerlink" title="101 Symmetric Tree"></a>101 Symmetric Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isSymmetric</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> isMirror(root-&gt;left, root-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isMirror</span><span class="params">(TreeNode* node1, TreeNode* node2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node1 || !node2)</span><br><span class="line">			<span class="keyword">return</span> node1 == node2;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (node1-&gt;val != node2-&gt;val)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> isMirror(node1-&gt;left, node2-&gt;right) &amp;&amp; isMirror(node1-&gt;right, node2-&gt;left);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="102-Binary-Tree-Level-Order-Traversal"><a href="#102-Binary-Tree-Level-Order-Traversal" class="headerlink" title="102 Binary Tree Level Order Traversal"></a>102 Binary Tree Level Order Traversal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">queue</span>&lt;TreeNode*&gt; q1;</span><br><span class="line">		q1.push(root);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (q1.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">int</span> n = q1.size();</span><br><span class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tem;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">				tem.push_back(q1.front()-&gt;val);</span><br><span class="line">				<span class="keyword">if</span> (q1.front()-&gt;left)</span><br><span class="line">					q1.push(q1.front()-&gt;left);</span><br><span class="line">				<span class="keyword">if</span> (q1.front()-&gt;right)</span><br><span class="line">					q1.push(q1.front()-&gt;right);</span><br><span class="line">				q1.pop();</span><br><span class="line">			&#125;</span><br><span class="line">			result.push_back(tem);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="103-Bianry-Tree-Zigzag-Level-Order-Traversal"><a href="#103-Bianry-Tree-Zigzag-Level-Order-Traversal" class="headerlink" title="103 Bianry Tree Zigzag Level Order Traversal"></a>103 Bianry Tree Zigzag Level Order Traversal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; zigzagLevelOrder(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;TreeNode*&gt; q1;</span><br><span class="line">		<span class="keyword">bool</span> order = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		q1.push_back(root);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (q1.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">vector</span>&lt;TreeNode*&gt; q2;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q1.size(); i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (q1[i]-&gt;left)</span><br><span class="line">					q2.push_back(q1[i]-&gt;left);</span><br><span class="line">				<span class="keyword">if</span> (q1[i]-&gt;right)</span><br><span class="line">					q2.push_back(q1[i]-&gt;right);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tem;</span><br><span class="line">			<span class="keyword">if</span> (order) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q1.size(); i++) &#123;</span><br><span class="line">					tem.push_back(q1[i]-&gt;val);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = q1.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">					tem.push_back(q1[i]-&gt;val);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			order = !order;</span><br><span class="line">			result.push_back(tem);</span><br><span class="line">			q1 = q2;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="104-Maximum-Depth-of-Binary-Tree"><a href="#104-Maximum-Depth-of-Binary-Tree" class="headerlink" title="104 Maximum Depth of Binary Tree"></a>104 Maximum Depth of Binary Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		mid(root, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> md;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> md = <span class="number">1</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">mid</span><span class="params">(TreeNode* node, <span class="keyword">int</span> height)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (height &gt; md)</span><br><span class="line">			md = height;</span><br><span class="line">		</span><br><span class="line">		mid(node-&gt;left, height + <span class="number">1</span>);</span><br><span class="line">		mid(node-&gt;right, height + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal"><a href="#105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal" class="headerlink" title="105 Construct Binary Tree from Preorder and Inorder Traversal"></a>105 Construct Binary Tree from Preorder and Inorder Traversal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">buildTree</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; preorder, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; inorder)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (preorder.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> getNode(preorder, <span class="number">0</span>, preorder.size() - <span class="number">1</span>, inorder, <span class="number">0</span>, inorder.size() - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">getNode</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; preorder,<span class="keyword">int</span> begin1, <span class="keyword">int</span> end1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; inorder, <span class="keyword">int</span> begin2, <span class="keyword">int</span> end2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (begin1 &gt; end1 || begin2 &gt; end2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (begin1 == end1) &#123;</span><br><span class="line">			TreeNode* node = <span class="keyword">new</span> TreeNode(preorder[begin1]);</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> r = preorder[begin1];</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">for</span> (i = begin2; i &lt;= end2; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (inorder[i] == r)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l = i - begin2;</span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(preorder[begin1]);</span><br><span class="line">		node-&gt;left = getNode(preorder, begin1 + <span class="number">1</span>, begin1 + l, inorder, begin2, begin2 + l - <span class="number">1</span>);</span><br><span class="line">		node-&gt;right = getNode(preorder, begin1 + l + <span class="number">1</span>, end1, inorder, begin2 + l + <span class="number">1</span>, end2);</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="106-Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal"><a href="#106-Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal" class="headerlink" title="106 Construct Binary Tree from Inorder and Postorder Traversal"></a>106 Construct Binary Tree from Inorder and Postorder Traversal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">buildTree</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; inorder, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; postorder)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (inorder.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> getNode(inorder, <span class="number">0</span>, inorder.size() - <span class="number">1</span>, postorder, <span class="number">0</span>, postorder.size() - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">getNode</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; inorder, <span class="keyword">int</span> begin1, <span class="keyword">int</span> end1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; postorder, <span class="keyword">int</span> begin2, <span class="keyword">int</span> end2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin1 &gt; end1 || begin2 &gt; end2)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (begin1 == end1) &#123;</span><br><span class="line">			TreeNode* node = <span class="keyword">new</span> TreeNode(inorder[begin1]);</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> r = postorder[end2];</span><br><span class="line">		<span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = begin1; i &lt;= end1; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (inorder[i] == r) &#123;</span><br><span class="line">				l = i - begin1;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(postorder[end2]);</span><br><span class="line">		node-&gt;left = getNode(inorder, begin1, begin1 + l - <span class="number">1</span>, postorder, begin2, begin2 + l - <span class="number">1</span>);</span><br><span class="line">		node-&gt;right = getNode(inorder, begin1 + l + <span class="number">1</span>, end1, postorder, begin2 + l, end2 - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="107-Binary-Tree-Level-Order-Traversal-II"><a href="#107-Binary-Tree-Level-Order-Traversal-II" class="headerlink" title="107 Binary Tree Level Order Traversal II"></a>107 Binary Tree Level Order Traversal II</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrderBottom(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		pre(result, <span class="number">1</span>, root);</span><br><span class="line">		reverse(result.begin(), result.end());</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pre</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result, <span class="keyword">int</span> height, TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (result.size() &lt; height) &#123;</span><br><span class="line">			result.push_back(&#123; node-&gt;val &#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			result[height - <span class="number">1</span>].push_back(node-&gt;val);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		pre(result, height + <span class="number">1</span>, node-&gt;left);</span><br><span class="line">		pre(result, height + <span class="number">1</span>, node-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="108-Convert-Sorted-Array-to-Binary-Search-Tree"><a href="#108-Convert-Sorted-Array-to-Binary-Search-Tree" class="headerlink" title="108 Convert Sorted Array to Binary Search Tree"></a>108 Convert Sorted Array to Binary Search Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">sortedArrayToBST</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">return</span> getNode(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">getNode</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt; end)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (begin == end) &#123;</span><br><span class="line">			TreeNode* node = <span class="keyword">new</span> TreeNode(nums[begin]);</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l = (end - begin + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(nums[begin + l]);</span><br><span class="line">		node-&gt;left = getNode(nums, begin, begin + l - <span class="number">1</span>);</span><br><span class="line">		node-&gt;right = getNode(nums, begin + l + <span class="number">1</span>, end);</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="109-Convert-Sorted-List-to-Binary-Search-Tree"><a href="#109-Convert-Sorted-List-to-Binary-Search-Tree" class="headerlink" title="109 Convert Sorted List to Binary Search Tree"></a>109 Convert Sorted List to Binary Search Tree</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">sortedListToBST</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		ListNode* p = head;</span><br><span class="line">		<span class="keyword">while</span> (p-&gt;next)</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		<span class="keyword">return</span> getNode(head, p);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">getNode</span><span class="params">(ListNode* begin, ListNode* end)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!begin || end-&gt;val &lt; begin-&gt;val)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (begin-&gt;val == end-&gt;val) &#123;</span><br><span class="line">			TreeNode* node = <span class="keyword">new</span> TreeNode(begin-&gt;val);</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		ListNode* mid = begin, *omid;</span><br><span class="line">		ListNode* p = begin;</span><br><span class="line">		<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (p == <span class="literal">NULL</span> || p-&gt;val &gt;= end-&gt;val)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			p = p-&gt;next-&gt;next;</span><br><span class="line">			omid = mid;</span><br><span class="line">			mid = mid-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		TreeNode* node = <span class="keyword">new</span> TreeNode(mid-&gt;val);</span><br><span class="line">		node-&gt;left = getNode(begin, omid);</span><br><span class="line">		node-&gt;right = getNode(mid-&gt;next, end);</span><br><span class="line">		<span class="keyword">return</span> node;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="110-Balanced-Binary-Tree"><a href="#110-Balanced-Binary-Tree" class="headerlink" title="110 Balanced Binary Tree"></a>110 Balanced Binary Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isBalanced</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> getHeight(root) &gt;= <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> hl = <span class="number">0</span>, hr = <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		hl = getHeight(node-&gt;left);</span><br><span class="line">		<span class="keyword">if</span> (hl &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		hr = getHeight(node-&gt;right);</span><br><span class="line">		<span class="keyword">if</span> (hr &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (hr - hl &gt; <span class="number">1</span> || hl - hr &gt; <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> max(hr, hl) + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="111-Minimum-Depth-of-Binary-Tree"><a href="#111-Minimum-Depth-of-Binary-Tree" class="headerlink" title="111 Minimum Depth of Binary Tree"></a>111 Minimum Depth of Binary Tree</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		dfs(root,<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> minh;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> minh = INT_MAX;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* node, <span class="keyword">int</span> h)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">			dfs(node-&gt;left,h+<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">			dfs(node-&gt;right, h + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right)</span><br><span class="line">			minh = min(h, minh);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="112-Path-Sum"><a href="#112-Path-Sum" class="headerlink" title="112 Path Sum"></a>112 Path Sum</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">hasPathSum</span><span class="params">(TreeNode* root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;sum = sum;</span><br><span class="line">		</span><br><span class="line">		dfs(root);</span><br><span class="line">		<span class="keyword">return</span> exist;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> sum;</span><br><span class="line">	<span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> exist = <span class="literal">false</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!exist) &#123;</span><br><span class="line">			s += node-&gt;val;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right &amp;&amp; s == sum)</span><br><span class="line">				exist = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">					dfs(node-&gt;left);</span><br><span class="line">				<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">					dfs(node-&gt;right);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			s -= node-&gt;val;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="113-Path-Sum-II"><a href="#113-Path-Sum-II" class="headerlink" title="113 Path Sum II"></a>113 Path Sum II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; pathSum(TreeNode* root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="keyword">this</span>-&gt;sum = sum;</span><br><span class="line"></span><br><span class="line">		getPath(root);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">	<span class="keyword">int</span> sum;</span><br><span class="line">	<span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getPath</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		s += node-&gt;val;</span><br><span class="line">		path.push_back(node-&gt;val);</span><br><span class="line">		<span class="keyword">if</span> (s == sum &amp;&amp; !node-&gt;left &amp;&amp; !node-&gt;right)</span><br><span class="line">			result.push_back(path);</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">			getPath(node-&gt;left);</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">			getPath(node-&gt;right);</span><br><span class="line"></span><br><span class="line">		s -= node-&gt;val;</span><br><span class="line">		path.pop_back();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="114-Flatten-Bianry-Tree-to-Linked-List"><a href="#114-Flatten-Bianry-Tree-to-Linked-List" class="headerlink" title="114 Flatten Bianry Tree to Linked List"></a>114 Flatten Bianry Tree to Linked List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root)</span><br><span class="line">			conn(root);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function">TreeNode* <span class="title">conn</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right)</span><br><span class="line">			<span class="keyword">return</span> node;</span><br><span class="line"></span><br><span class="line">		TreeNode *lp = node-&gt;left, *rp = node-&gt;right;</span><br><span class="line">		<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">			lp = conn(node-&gt;left);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">			rp = conn(node-&gt;right);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (lp) &#123;</span><br><span class="line">			lp-&gt;right = node-&gt;right;</span><br><span class="line">			node-&gt;right = node-&gt;left;</span><br><span class="line">			node-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (rp)</span><br><span class="line">			<span class="keyword">return</span> rp;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> lp;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="115-Distinct-Subsequences"><a href="#115-Distinct-Subsequences" class="headerlink" title="115 Distinct Subsequences"></a>115 Distinct Subsequences</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">numDistinct</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() &lt; t.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; data(t.size() + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(s.size() + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.size(); i++)</span><br><span class="line">			data[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">1</span>; n &lt;= t.size(); n++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> m = n; m &lt;= s.size(); m++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (s[m - <span class="number">1</span>] == t[n - <span class="number">1</span>]) &#123;</span><br><span class="line">					data[n][m] = data[n][m - <span class="number">1</span>] + data[n - <span class="number">1</span>][m - <span class="number">1</span>];	<span class="comment">//s[m]¿ÉÒÔºÍt[n]Æ¥£¬Ò²¿ÉÒÔ²»ºÍt[n]Æ¥Åä</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					data[n][m] = data[n][m - <span class="number">1</span>];						<span class="comment">//ÊÇs[m]²»ºÍt[n]Æ¥Åä</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> data[t.size()][s.size()];</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="116-Populating-Next-Right-Pointers-in-Each-Node"><a href="#116-Populating-Next-Right-Pointers-in-Each-Node" class="headerlink" title="116 Populating Next Right Pointers in Each Node"></a>116 Populating Next Right Pointers in Each Node</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode *root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (root-&gt;left) &#123;</span><br><span class="line">			root-&gt;left-&gt;next = root-&gt;right;</span><br><span class="line">			<span class="keyword">if</span> (root-&gt;next) &#123;</span><br><span class="line">				root-&gt;right-&gt;next = root-&gt;next-&gt;left;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		connect(root-&gt;left);</span><br><span class="line">		connect(root-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="117-Populating-Next-Right-Pointers-in-Each-Node-II"><a href="#117-Populating-Next-Right-Pointers-in-Each-Node-II" class="headerlink" title="117 Populating Next Right Pointers in Each Node II"></a>117 Populating Next Right Pointers in Each Node II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode *root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">		TreeLinkNode* p = root-&gt;next, *next = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">while</span> (p &amp;&amp; !p-&gt;left &amp;&amp; !p-&gt;right)</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (p) &#123;</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;left)</span><br><span class="line">				next = p-&gt;left;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;right)</span><br><span class="line">				next = p-&gt;right;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (root-&gt;left &amp;&amp; root-&gt;right) &#123;</span><br><span class="line">			root-&gt;left-&gt;next = root-&gt;right;</span><br><span class="line">			root-&gt;right-&gt;next = next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;right) &#123;</span><br><span class="line">			root-&gt;right-&gt;next = next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;left) &#123;</span><br><span class="line">			root-&gt;left-&gt;next = next;</span><br><span class="line">		&#125;</span><br><span class="line">		connect(root-&gt;right);</span><br><span class="line">		connect(root-&gt;left);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="118-Pascal’s-Triangle"><a href="#118-Pascal’s-Triangle" class="headerlink" title="118 Pascal’s Triangle"></a>118 Pascal’s Triangle</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; generate(<span class="keyword">int</span> numRows) &#123;</span><br><span class="line">		<span class="keyword">if</span> (numRows == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">		result.push_back(&#123; <span class="number">1</span> &#125;);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (numRows == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">		result.push_back(&#123; <span class="number">1</span>,<span class="number">1</span> &#125;);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">			<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tem;</span><br><span class="line">			tem.push_back(<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; result[i - <span class="number">1</span>].size(); j++) &#123;</span><br><span class="line">				tem.push_back(result[i - <span class="number">1</span>][j - <span class="number">1</span>] + result[i - <span class="number">1</span>][j]);</span><br><span class="line">			&#125;</span><br><span class="line">			tem.push_back(<span class="number">1</span>);</span><br><span class="line">			result.push_back(tem);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="119-Pcscal’s-Triangle-II"><a href="#119-Pcscal’s-Triangle-II" class="headerlink" title="119 Pcscal’s Triangle II"></a>119 Pcscal’s Triangle II</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getRow(<span class="keyword">int</span> rowIndex) &#123;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">		result[<span class="number">1</span>].push_back(<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (rowIndex == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> result[now];</span><br><span class="line">		now = !now;</span><br><span class="line">		<span class="keyword">if</span> (rowIndex == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> result[now];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= rowIndex; i++) &#123;</span><br><span class="line">			result[!now] = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; result[now].size(); j++) &#123;</span><br><span class="line">				result[!now].push_back(result[now][j - <span class="number">1</span>] + result[now][j]);</span><br><span class="line">			&#125;</span><br><span class="line">			result[!now].push_back(<span class="number">1</span>);</span><br><span class="line">			now = !now;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result[now];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="120-Triangle"><a href="#120-Triangle" class="headerlink" title="120 Triangle"></a>120 Triangle</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; triangle)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = triangle.size();</span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> l = triangle[n - <span class="number">1</span>].size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result(<span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(l, <span class="number">0</span>));</span><br><span class="line">		<span class="keyword">bool</span> now = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		result[now] = triangle[<span class="number">0</span>];</span><br><span class="line">		now = !now;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; triangle.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; triangle[i].size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">					result[now][j] = result[!now][j] + triangle[i][j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (j == triangle[i].size() - <span class="number">1</span>)</span><br><span class="line">					result[now][j] = result[!now][j - <span class="number">1</span>] + triangle[i][j];</span><br><span class="line">				<span class="keyword">else</span> result[now][j] = min(result[!now][j], result[!now][j - <span class="number">1</span>]) + triangle[i][j];</span><br><span class="line">			&#125;</span><br><span class="line">			now = !now;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> min = result[!now][<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; result[!now].size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (result[!now][i] &lt; min)</span><br><span class="line">				min = result[!now][i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> min;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="121-140-Problems"><a href="#121-140-Problems" class="headerlink" title="121 ~ 140 Problems"></a>121 ~ 140 Problems</h2><h3 id="121-Best-Time-to-Buy-and-Sell-Stock"><a href="#121-Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="121 Best Time to Buy and Sell Stock"></a>121 Best Time to Buy and Sell Stock</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (prices.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> profit = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (end &lt; prices.size()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (prices[end] &lt; prices[begin]) &#123;</span><br><span class="line">				begin = end;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (prices[end] - prices[begin] &gt; profit) &#123;</span><br><span class="line">					profit = prices[end] - prices[begin];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			end++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> profit;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="122-Best-Time-to-Buy-and-Sell-Stock-II"><a href="#122-Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="122 Best Time to Buy and Sell Stock II"></a>122 Best Time to Buy and Sell Stock II</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (prices.size() &lt;= <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> profit = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> n = prices.size();</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; prices.size()) &#123;</span><br><span class="line">			<span class="keyword">while</span> (begin + <span class="number">1</span> &lt; prices.size() &amp;&amp; prices[begin] &gt;= prices[begin + <span class="number">1</span>])</span><br><span class="line">				begin++;</span><br><span class="line"></span><br><span class="line">			end = begin + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> (end + <span class="number">1</span> &lt; prices.size() &amp;&amp; prices[end + <span class="number">1</span>] &gt;= prices[end])</span><br><span class="line">				end++;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (end &lt; prices.size() &amp;&amp; begin &lt; prices.size())</span><br><span class="line">				profit += prices[end] - prices[begin];</span><br><span class="line"></span><br><span class="line">			begin = end + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> profit;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="123-Best-Time-to-Buy-and-Sell-Stock-III"><a href="#123-Best-Time-to-Buy-and-Sell-Stock-III" class="headerlink" title="123 Best Time to Buy and Sell Stock III"></a>123 Best Time to Buy and Sell Stock III</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> buy1 = INT_MIN, sell1 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> buy2 = INT_MIN, sell2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> price : prices) &#123;</span><br><span class="line">			<span class="comment">// µÚÒ»´Î¹ºÂò</span></span><br><span class="line">			<span class="keyword">if</span> (buy1 &lt; -price) buy1 = -price;</span><br><span class="line">			<span class="comment">// µÚÒ»´ÎÂô³öÈ¥µÄ¿ÉÄÜµÄ×î´óÀûÈó</span></span><br><span class="line">			<span class="keyword">if</span> (sell1 &lt; buy1 + price) sell1 = buy1 + price;</span><br><span class="line">			<span class="comment">//×¢ÒâµÚ¶þ´ÎµÄÀûÈóÒÑ¾­°üº¬µÚÒ»´ÎµÄÁË</span></span><br><span class="line">			<span class="comment">//Í¬Àí£¬µÚ¶þ´Î¹ºÂò,×¢ÒâÕâÀïÊÇ</span></span><br><span class="line">			<span class="keyword">if</span> (buy2 &lt; sell1 - price) buy2 = sell1 - price;</span><br><span class="line">			<span class="comment">//×îºóÒ»´Î</span></span><br><span class="line">			<span class="keyword">if</span> (sell2 &lt; buy2 + price) sell2 = buy2 + price;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> sell2;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="124-Binary-Tree-Maximum-Path-Sum"><a href="#124-Binary-Tree-Maximum-Path-Sum" class="headerlink" title="124 Binary Tree Maximum Path Sum"></a>124 Binary Tree Maximum Path Sum</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		maxOnePath(root);</span><br><span class="line">		<span class="keyword">return</span> maxSum;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> maxSum = INT_MIN;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">maxOnePath</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> n1 = maxOnePath(node-&gt;left);</span><br><span class="line">		<span class="keyword">int</span> n2 = maxOnePath(node-&gt;right);</span><br><span class="line">		<span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (n1 &gt; <span class="number">0</span>) x += n1;</span><br><span class="line">		<span class="keyword">if</span> (n2 &gt; <span class="number">0</span>) x += n2;</span><br><span class="line">		x += node-&gt;val;</span><br><span class="line">		<span class="keyword">if</span> (x &gt; maxSum)</span><br><span class="line">			maxSum = x;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (n1 &lt;= <span class="number">0</span> &amp;&amp; n2 &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> node-&gt;val;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> max(n1, n2) + node-&gt;val;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="125-Valid-Palindrome"><a href="#125-Valid-Palindrome" class="headerlink" title="125 Valid Palindrome"></a>125 Valid Palindrome</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = s.size() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin &lt; end) &#123;</span><br><span class="line">			<span class="keyword">int</span> c1, c2;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; end &amp;&amp; (c1 = getLow(s[begin])) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">				begin++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (begin &lt; end &amp;&amp; (c2 = getLow(s[end])) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">				end--;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (c1 != c2 &amp;&amp; begin &lt; end)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			begin++;</span><br><span class="line">			end--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">getLow</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>)</span><br><span class="line">			<span class="keyword">return</span> c;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>)</span><br><span class="line">			<span class="keyword">return</span> c;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'Z'</span>)</span><br><span class="line">			<span class="keyword">return</span> c + <span class="number">32</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="127-Word-Ladder"><a href="#127-Word-Ladder" class="headerlink" title="127 Word Ladder"></a>127 Word Ladder</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(<span class="built_in">string</span> beginWord, <span class="built_in">string</span> endWord, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordList)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (wordList.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> endnum = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordList.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (wordList[i] == endWord) &#123;</span><br><span class="line">				endnum = i;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (endnum &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> n = wordList.size();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; trans(n, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; already(n, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (couldTrans(wordList[i], wordList[j])) &#123;</span><br><span class="line">					trans[i][j] = trans[j][i] = <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">2</span>;</span><br><span class="line">		<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; find;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (couldTrans(beginWord, wordList[i])) &#123;</span><br><span class="line">				<span class="keyword">if</span> (i == endnum)</span><br><span class="line">					<span class="keyword">return</span> length;</span><br><span class="line">				<span class="keyword">if</span> (already[i]) &#123;</span><br><span class="line">					find.insert(i);</span><br><span class="line">					already[i] = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (find.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; tem;</span><br><span class="line">			length++;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">auto</span> p = find.begin(); p != find.end(); p++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (trans[*p][i]) &#123;</span><br><span class="line">						<span class="keyword">if</span> (already[i]) &#123;</span><br><span class="line">							tem.insert(i);</span><br><span class="line">							already[i] = <span class="literal">false</span>;</span><br><span class="line">							<span class="keyword">if</span> (i == endnum)</span><br><span class="line">								<span class="keyword">return</span> length;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			find = tem;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">couldTrans</span><span class="params">(<span class="built_in">string</span>&amp; s1, <span class="built_in">string</span>&amp; s2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s1.size() != s2.size())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">int</span> n = s1.size();</span><br><span class="line">		<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s1[i] != s2[i]) &#123;</span><br><span class="line">				num++;</span><br><span class="line">				<span class="keyword">if</span> (num &gt; <span class="number">1</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="128-Longest-Consecutive-Sequence"><a href="#128-Longest-Consecutive-Sequence" class="headerlink" title="128 Longest Consecutive Sequence"></a>128 Longest Consecutive Sequence</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; data(nums.begin(), nums.end());</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">			<span class="keyword">if</span> (data.find(num) == data.end())</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			data.erase(num);</span><br><span class="line">			<span class="keyword">int</span> begin = num - <span class="number">1</span>, end = num + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> (data.find(begin) != data.end())</span><br><span class="line">				data.erase(begin--);</span><br><span class="line">			<span class="keyword">while</span> (data.find(end) != data.end())</span><br><span class="line">				data.erase(end++);</span><br><span class="line">			length = max(length, end - begin - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> length;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="129-Sum-Root-to-Leaf-Numbers"><a href="#129-Sum-Root-to-Leaf-Numbers" class="headerlink" title="129 Sum Root to Leaf Numbers"></a>129 Sum Root to Leaf Numbers</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sumNumbers</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">		deepSearch(root,<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">deepSearch</span><span class="params">(TreeNode* node,<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">		num = num * <span class="number">10</span> + node-&gt;val;</span><br><span class="line">		<span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right) &#123;</span><br><span class="line">			sum += num;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;left)</span><br><span class="line">				deepSearch(node-&gt;left, num);</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">				deepSearch(node-&gt;right, num);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="130-Surrounded-Regions"><a href="#130-Surrounded-Regions" class="headerlink" title="130 Surrounded Regions"></a>130 Surrounded Regions</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (board.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; board[<span class="number">0</span>].size(); k++) &#123;</span><br><span class="line">			breadthSearch(<span class="number">0</span>, k, board);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; board[<span class="number">0</span>].size(); k++) &#123;</span><br><span class="line">			breadthSearch(board.size() - <span class="number">1</span>, k, board);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; board.size(); k++) &#123;</span><br><span class="line">			breadthSearch(k, <span class="number">0</span>, board);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; board.size(); k++) &#123;</span><br><span class="line">			breadthSearch(k, board[<span class="number">0</span>].size() - <span class="number">1</span>, board);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].size(); j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (board[i][j] == <span class="string">'Z'</span>)</span><br><span class="line">					board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">				<span class="keyword">else</span> board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">breadthSearch</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'Z'</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		board[i][j] = <span class="string">'Z'</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (j &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			breadthSearch(i, j - <span class="number">1</span>, board);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (j &lt; board[<span class="number">0</span>].size() - <span class="number">1</span>) &#123;</span><br><span class="line">			breadthSearch(i, j + <span class="number">1</span>, board);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (i &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			breadthSearch(i - <span class="number">1</span>, j, board);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (i &lt; board.size() - <span class="number">1</span>) &#123;</span><br><span class="line">			breadthSearch(i + <span class="number">1</span>, j, board);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="131-Palindrome-Partitioning"><a href="#131-Palindrome-Partitioning" class="headerlink" title="131 Palindrome Partitioning"></a>131 Palindrome Partitioning</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; partition(<span class="built_in">string</span> s) &#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">		check = <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;(s.size(), <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(s.size(), <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); i++)</span><br><span class="line">			check[i][i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size() - <span class="number">1</span>; i++)</span><br><span class="line">			check[i][i + <span class="number">1</span>] = s[i] == s[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">2</span>; l &lt; s.size(); l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + l &lt; s.size(); i++) &#123;</span><br><span class="line">				check[i][i + l] = check[i + <span class="number">1</span>][i + l - <span class="number">1</span>] &amp;&amp; (s[i] == s[i + l]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; tem;</span><br><span class="line">		getResult(s, <span class="number">0</span>, tem);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; check;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; result;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getResult</span><span class="params">(<span class="built_in">string</span>&amp; s, <span class="keyword">int</span> begin, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; tem)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (begin &gt;= s.size()) &#123;</span><br><span class="line">			result.push_back(tem);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = begin; i &lt; s.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[begin][i]) &#123;</span><br><span class="line">				<span class="built_in">string</span> str = s.substr(begin, i - begin + <span class="number">1</span>);</span><br><span class="line">				tem.push_back(str);</span><br><span class="line">				getResult(s, i + <span class="number">1</span>, tem);</span><br><span class="line">				tem.pop_back();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="132-Plaindrome-Partitioning-II"><a href="#132-Plaindrome-Partitioning-II" class="headerlink" title="132 Plaindrome Partitioning II"></a>132 Plaindrome Partitioning II</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">minCut</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		check = <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;(s.size(), <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(s.size(), <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); i++)</span><br><span class="line">			check[i][i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size() - <span class="number">1</span>; i++)</span><br><span class="line">			check[i][i + <span class="number">1</span>] = s[i] == s[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">2</span>; l &lt; s.size(); l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + l &lt; s.size(); i++) &#123;</span><br><span class="line">				check[i][i + l] = check[i + <span class="number">1</span>][i + l - <span class="number">1</span>] &amp;&amp; (s[i] == s[i + l]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cut(s.size(), <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[<span class="number">0</span>][i])</span><br><span class="line">				cut[i] = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">int</span> m = INT_MAX;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (check[j][i] &amp;&amp; m &gt; cut[j - <span class="number">1</span>] + <span class="number">1</span>) &#123;</span><br><span class="line">						m = cut[j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				cut[i] = m;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> cut[s.size() - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; check;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="133-Clone-Graph"><a href="#133-Clone-Graph" class="headerlink" title="133 Clone Graph"></a>133 Clone Graph</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">UndirectedGraphNode *<span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode *node)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!node) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (mp.find(node) == mp.end()) &#123;</span><br><span class="line">			mp[node] = <span class="keyword">new</span> UndirectedGraphNode(node-&gt;label);</span><br><span class="line">			<span class="keyword">for</span> (UndirectedGraphNode* neigh : node-&gt;neighbors)</span><br><span class="line">				mp[node]-&gt;neighbors.push_back(cloneGraph(neigh));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> mp[node];</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">unordered_map</span>&lt;UndirectedGraphNode*, UndirectedGraphNode*&gt; mp;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="134-Gas-Station"><a href="#134-Gas-Station" class="headerlink" title="134 Gas Station"></a>134 Gas Station</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">canCompleteCircuit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; gas, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (gas.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">if</span> (gas.size() == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> gas[<span class="number">0</span>] &gt;= cost[<span class="number">0</span>] ? <span class="number">0</span> : <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line">		total += gas[end] - cost[end];</span><br><span class="line">		end = end == gas.size() - <span class="number">1</span> ? <span class="number">0</span> : end + <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (begin != end) &#123;</span><br><span class="line">			<span class="keyword">while</span> (total &gt;= <span class="number">0</span> &amp;&amp; begin != end) &#123;</span><br><span class="line">				total += gas[end] - cost[end];</span><br><span class="line">				end = end == gas.size() - <span class="number">1</span> ? <span class="number">0</span> : end + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (total &lt; <span class="number">0</span> &amp;&amp; begin != end) &#123;</span><br><span class="line">				begin = begin == <span class="number">0</span> ? gas.size() - <span class="number">1</span> : begin - <span class="number">1</span>;</span><br><span class="line">				total += gas[begin] - cost[begin];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (total &gt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> begin;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="135-Candy"><a href="#135-Candy" class="headerlink" title="135 Candy"></a>135 Candy</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">candy</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; ratings)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (ratings.size() == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> result;</span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> now = <span class="number">1</span>, i = <span class="number">0</span>, high = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; ratings.size()) &#123;</span><br><span class="line">			result += now;</span><br><span class="line">			<span class="keyword">if</span> (i + <span class="number">1</span> &lt; ratings.size() &amp;&amp; ratings[i + <span class="number">1</span>] &gt; ratings[i]) &#123;</span><br><span class="line">				begin = i + <span class="number">1</span>;</span><br><span class="line">				end = begin;</span><br><span class="line">				now += <span class="number">1</span>;</span><br><span class="line">				high = now;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (i + <span class="number">1</span> &lt; ratings.size() &amp;&amp; ratings[i + <span class="number">1</span>] &lt; ratings[i]) &#123;</span><br><span class="line">				now = <span class="number">1</span>;</span><br><span class="line">				result += end - begin;</span><br><span class="line">				<span class="keyword">if</span> (now + end - begin &gt;= high) &#123;</span><br><span class="line">					high += <span class="number">1</span>;</span><br><span class="line">					result += <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				end = i + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (i + <span class="number">1</span> &lt; ratings.size() &amp;&amp; ratings[i + <span class="number">1</span>] == ratings[i]) &#123;</span><br><span class="line">				now = <span class="number">1</span>;</span><br><span class="line">				begin = i + <span class="number">1</span>;</span><br><span class="line">				end = begin;</span><br><span class="line">				high = <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="136-Single-Number"><a href="#136-Single-Number" class="headerlink" title="136 Single Number"></a>136 Single Number</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">			result ^= nums[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="137-Single-Number-II"><a href="#137-Single-Number-II" class="headerlink" title="137 Single Number II"></a>137 Single Number II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> tem = <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">			<span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (nums[i] &amp; tem)</span><br><span class="line">					num++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (num % <span class="number">3</span>)</span><br><span class="line">				result |= tem;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="138-Copy-List-With-Random-Pointer"><a href="#138-Copy-List-With-Random-Pointer" class="headerlink" title="138 Copy List With Random Pointer"></a>138 Copy List With Random Pointer</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">RandomListNode *<span class="title">copyRandomList</span><span class="params">(RandomListNode *head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!head)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		RandomListNode *node = head;</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			RandomListNode *new_node = <span class="keyword">new</span> RandomListNode(node-&gt;label);</span><br><span class="line">			new_node-&gt;next = node-&gt;next;</span><br><span class="line">			node-&gt;next = new_node;</span><br><span class="line"></span><br><span class="line">			node = new_node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		node = head;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			RandomListNode* new_node = node-&gt;next;</span><br><span class="line">			new_node-&gt;random = node-&gt;random == <span class="literal">NULL</span> ? <span class="literal">NULL</span> : node-&gt;random-&gt;next;</span><br><span class="line">			node = new_node-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		node = head;</span><br><span class="line">		RandomListNode *new_head = node-&gt;next;</span><br><span class="line">		RandomListNode* new_node = node-&gt;next;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span> (node) &#123;</span><br><span class="line">			RandomListNode* next_node = new_node-&gt;next;</span><br><span class="line">			node-&gt;next = next_node;</span><br><span class="line">			new_node-&gt;next = next_node ? next_node-&gt;next : <span class="literal">NULL</span>;</span><br><span class="line">			</span><br><span class="line">			node = next_node;</span><br><span class="line">			new_node = next_node ? next_node-&gt;next : <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> new_head;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="139-Word-Break"><a href="#139-Word-Break" class="headerlink" title="139 Word Break"></a>139 Word Break</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">wordBreak</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordDict)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (wordDict.size() &lt;= <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; wordSet(wordDict.begin(), wordDict.end());</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; check(s.size() + <span class="number">1</span>, <span class="literal">false</span>);</span><br><span class="line">		check[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.size(); i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (check[j] &amp;&amp; wordSet.find(s.substr(j, i - j)) != wordSet.end()) &#123;</span><br><span class="line">					check[i] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> check[s.size()];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="140-Word-Break-II"><a href="#140-Word-Break-II" class="headerlink" title="140 Word Break II"></a>140 Word Break II</h3><p>难度：<code>Hard</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">	<span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; m;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; combine(<span class="built_in">string</span> word, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; prev) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;prev.size(); ++i) &#123;</span><br><span class="line">			prev[i] += <span class="string">" "</span> + word;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> prev;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; wordBreak(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordDict) &#123;</span><br><span class="line">		<span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; dict(wordDict.begin(), wordDict.end());</span><br><span class="line">		<span class="keyword">if</span> (m.count(s)) <span class="keyword">return</span> m[s]; <span class="comment">//take from memory</span></span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">		<span class="keyword">if</span> (dict.count(s)) &#123; <span class="comment">//a whole string is a word</span></span><br><span class="line">			result.push_back(s);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;s.size(); ++i) &#123;</span><br><span class="line">			<span class="built_in">string</span> word = s.substr(i);</span><br><span class="line">			<span class="keyword">if</span> (dict.count(word)) &#123;</span><br><span class="line">				<span class="built_in">string</span> rem = s.substr(<span class="number">0</span>, i);</span><br><span class="line">				<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; prev = combine(word, wordBreak(rem, wordDict));</span><br><span class="line">				result.insert(result.end(), prev.begin(), prev.end());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		m[s] = result; <span class="comment">//memorize</span></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="141-160-Problems"><a href="#141-160-Problems" class="headerlink" title="141 ~ 160 Problems"></a>141 ~ 160 Problems</h2><h3 id="141-Linked-List-Cycle"><a href="#141-Linked-List-Cycle" class="headerlink" title="141 Linked List Cycle"></a>141 Linked List Cycle</h3><p>难度：<code>Easy</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (!head || !head-&gt;next || !head-&gt;next-&gt;next)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		ListNode *p1 = head, *p2 = head;</span><br><span class="line">		p1 = head-&gt;next;</span><br><span class="line">		p2 = p1-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (p1 != p2) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!p2 || !p2-&gt;next)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			p2 = p2-&gt;next-&gt;next;</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="142-Linked-List-Cycle-II"><a href="#142-Linked-List-Cycle-II" class="headerlink" title="142 Linked List Cycle II"></a>142 Linked List Cycle II</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode *<span class="title">detectCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!head || !head-&gt;next || !head-&gt;next-&gt;next)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		ListNode* p1 = head-&gt;next, *p2 = head-&gt;next-&gt;next;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (p1 != p2) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!p2 || !p2-&gt;next)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">			p2 = p2-&gt;next-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		p1 = head;</span><br><span class="line">		<span class="keyword">while</span> (p1 != p2) &#123;</span><br><span class="line">			p1 = p1-&gt;next;</span><br><span class="line">			p2 = p2-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> p1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="143-Reorder-List"><a href="#143-Reorder-List" class="headerlink" title="143 Reorder List"></a>143 Reorder List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!head || !head-&gt;next || !head-&gt;next-&gt;next)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		ListNode *fast = head, *slow = head;</span><br><span class="line">		<span class="keyword">while</span> (fast-&gt;next) &#123;</span><br><span class="line">			slow = slow-&gt;next;</span><br><span class="line">			fast = fast-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (!fast-&gt;next)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			fast = fast-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		ListNode* head2 = slow-&gt;next;</span><br><span class="line">		ListNode* tail = fast;</span><br><span class="line">		slow-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">		ListNode *p1 = head2, *p2 = head2-&gt;next, *p3 = head2;</span><br><span class="line">		<span class="keyword">while</span> (p2) &#123;</span><br><span class="line">			p3 = p2-&gt;next;</span><br><span class="line">			p2-&gt;next = p1;</span><br><span class="line">			p1 = p2;</span><br><span class="line">			p2 = p3;</span><br><span class="line">		&#125;</span><br><span class="line">		head2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		</span><br><span class="line">		ListNode *m1 = head, *n1 = tail, *m2,*n2;</span><br><span class="line">		<span class="keyword">while</span> (m1 &amp;&amp; n1) &#123;</span><br><span class="line">			m2 = m1-&gt;next;</span><br><span class="line">			n2 = n1-&gt;next;</span><br><span class="line">			m1-&gt;next = n1;</span><br><span class="line">			n1-&gt;next = m2;</span><br><span class="line">			m1 = m2;</span><br><span class="line">			n1 = n2;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="144-Binary-Tree-Perorder-Travelsal"><a href="#144-Binary-Tree-Perorder-Travelsal" class="headerlink" title="144 Binary Tree Perorder Travelsal"></a>144 Binary Tree Perorder Travelsal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; preorderTraversal(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!root)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">stack</span>&lt;TreeNode*&gt; nodeStack;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		TreeNode* node = root;</span><br><span class="line">		<span class="keyword">while</span> (node || nodeStack.size()) &#123;</span><br><span class="line">			<span class="keyword">while</span> (node) &#123;</span><br><span class="line">				result.push_back(node-&gt;val);</span><br><span class="line">				<span class="keyword">if</span> (node-&gt;right)</span><br><span class="line">					nodeStack.push(node-&gt;right);</span><br><span class="line">				node = node-&gt;left;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			node = nodeStack.size() &gt; <span class="number">0</span> ? nodeStack.top() : <span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">if</span> (nodeStack.size() &gt; <span class="number">0</span>)</span><br><span class="line">				nodeStack.pop();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="145-Binary-Tree-Postorder-Travelsal"><a href="#145-Binary-Tree-Postorder-Travelsal" class="headerlink" title="145 Binary Tree Postorder Travelsal"></a>145 Binary Tree Postorder Travelsal</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; postorderTraversal(TreeNode* root) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!root)</span><br><span class="line">			<span class="keyword">return</span>&#123;&#125;;</span><br><span class="line">		<span class="built_in">stack</span>&lt;TreeNode*&gt; *nodeStack = <span class="keyword">new</span> <span class="built_in">stack</span>&lt;TreeNode*&gt;();</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">		TreeNode* node = root;</span><br><span class="line">		nodeStack-&gt;push(node);</span><br><span class="line">		<span class="keyword">while</span> (nodeStack-&gt;size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (node-&gt;right &amp;&amp; node-&gt;left) &#123;</span><br><span class="line">				nodeStack-&gt;push(node-&gt;right);</span><br><span class="line">				nodeStack-&gt;push(node-&gt;left);</span><br><span class="line">				node = node-&gt;left;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (node-&gt;left) &#123;</span><br><span class="line">				nodeStack-&gt;push(node-&gt;left);</span><br><span class="line">				node = node-&gt;left;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (node-&gt;right) &#123;</span><br><span class="line">				nodeStack-&gt;push(node-&gt;right);</span><br><span class="line">				node = node-&gt;right;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				result.push_back(node-&gt;val);</span><br><span class="line">				<span class="keyword">if</span> (nodeStack-&gt;size() &gt; <span class="number">0</span>)</span><br><span class="line">					nodeStack-&gt;pop();</span><br><span class="line">				<span class="keyword">while</span> (nodeStack-&gt;size() &gt; <span class="number">0</span> &amp;&amp; (nodeStack-&gt;top()-&gt;left == node || nodeStack-&gt;top()-&gt;right == node)) &#123;</span><br><span class="line">					result.push_back(nodeStack-&gt;top()-&gt;val);</span><br><span class="line">					node = nodeStack-&gt;top();</span><br><span class="line">					nodeStack-&gt;pop();</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (nodeStack-&gt;size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					node = nodeStack-&gt;top();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="146-LRU-Cache"><a href="#146-LRU-Cache" class="headerlink" title="146 LRU Cache"></a>146 LRU Cache</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Node* head;</span><br><span class="line">	Node* tail;</span><br><span class="line">	<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, Node*&gt; Map;</span><br><span class="line">	<span class="keyword">int</span> Cap;</span><br><span class="line">	<span class="keyword">int</span> nowCap = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	LRUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">		head = <span class="keyword">new</span> Node(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">		Cap = capacity;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (Map.find(key) != Map.end()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nowCap == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> Map[key]-&gt;value;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Node* node = Map[key];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (node == tail) &#123;</span><br><span class="line">				tail = node-&gt;last;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Node* first = node-&gt;last;</span><br><span class="line">			Node* second = node-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (!second) &#123;</span><br><span class="line">				first-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				first-&gt;next = second;</span><br><span class="line">				second-&gt;last = first;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			second = head-&gt;next;</span><br><span class="line">			node-&gt;last = head;</span><br><span class="line">			node-&gt;next = second;</span><br><span class="line">			head-&gt;next = node;</span><br><span class="line">			second-&gt;last = node;</span><br><span class="line">			<span class="keyword">return</span> Map[key]-&gt;value;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (Map.find(key) != Map.end()) &#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (nowCap == <span class="number">1</span>) &#123;</span><br><span class="line">				Map[key]-&gt;value = value;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			Node* node = Map[key];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (node == tail) &#123;</span><br><span class="line">				tail = node-&gt;last;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			node-&gt;value = value;</span><br><span class="line">			Node* first = node-&gt;last;</span><br><span class="line">			Node* second = node-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (!second) &#123;</span><br><span class="line">				first-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				first-&gt;next = second;</span><br><span class="line">				second-&gt;last = first;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			second = head-&gt;next;</span><br><span class="line">			node-&gt;last = head;</span><br><span class="line">			node-&gt;next = second;</span><br><span class="line">			head-&gt;next = node;</span><br><span class="line">			second-&gt;last = node;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (nowCap &lt; Cap) &#123;</span><br><span class="line">				nowCap++;</span><br><span class="line">				Node* node = <span class="keyword">new</span> Node(key, value);</span><br><span class="line">				Node* first = head-&gt;next;</span><br><span class="line">				head-&gt;next = node;</span><br><span class="line">				node-&gt;last = head;</span><br><span class="line">				<span class="keyword">if</span> (first) &#123;</span><br><span class="line">					node-&gt;next = first;</span><br><span class="line">					first-&gt;last = node;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (nowCap == <span class="number">1</span>) &#123;</span><br><span class="line">					tail = node;</span><br><span class="line">				&#125;</span><br><span class="line">				Map.insert(&#123; key,node &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				Node* node = <span class="keyword">new</span> Node(key, value);</span><br><span class="line">				Node* first = head-&gt;next;</span><br><span class="line">				head-&gt;next = node;</span><br><span class="line">				node-&gt;last = head;</span><br><span class="line">				<span class="keyword">if</span> (nowCap == <span class="number">1</span>) &#123;</span><br><span class="line">					<span class="keyword">delete</span> tail;</span><br><span class="line">					tail = node;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					node-&gt;next = first;</span><br><span class="line">					first-&gt;last = node;</span><br><span class="line">				&#125;</span><br><span class="line">				Map.erase(tail-&gt;key);</span><br><span class="line">				tail = tail-&gt;last;</span><br><span class="line">				<span class="keyword">delete</span> tail-&gt;next;</span><br><span class="line">				tail-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">				Map.insert(&#123; key,node &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="147-Insertion-Sort-List"><a href="#147-Insertion-Sort-List" class="headerlink" title="147 Insertion Sort List"></a>147 Insertion Sort List</h3><p>难度：<code>Medium</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function">ListNode* <span class="title">insertionSortList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">			<span class="keyword">return</span> head;</span><br><span class="line">		ListNode* title = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		ListNode* tail = title;</span><br><span class="line">		ListNode* newHead = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">		newHead-&gt;next = head;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> min;</span><br><span class="line">		ListNode* node = newHead;</span><br><span class="line">		ListNode* minLast, *minNode;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span> (newHead-&gt;next) &#123;</span><br><span class="line">			minLast = newHead;</span><br><span class="line">			minNode = newHead-&gt;next;</span><br><span class="line">			min = minNode-&gt;val;</span><br><span class="line">			<span class="keyword">while</span> (node-&gt;next) &#123;</span><br><span class="line">				<span class="keyword">if</span> (node-&gt;next-&gt;val &lt; min) &#123;</span><br><span class="line">					minLast = node;</span><br><span class="line">					minNode = node-&gt;next;</span><br><span class="line">					min = node-&gt;next-&gt;val;</span><br><span class="line">				&#125;</span><br><span class="line">				node = node-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			minLast-&gt;next = minNode-&gt;next;</span><br><span class="line">			tail-&gt;next = minNode;</span><br><span class="line">			minNode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			tail = tail-&gt;next;</span><br><span class="line"></span><br><span class="line">			node = newHead;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> title-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://uyouii.github.io/2017/12/12/libevent-服务端客户端-简单实例/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Uyouii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Uyouii's Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/12/libevent-服务端客户端-简单实例/" itemprop="url">libevent 服务端客户端 简单实例</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-12T11:26:17+08:00">
                2017-12-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-01-30T18:19:59+08:00">
                2018-01-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/network/" itemprop="url" rel="index">
                    <span itemprop="name">network</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近了解了下libevent，简单的实现了一个客户端服务端通信的demo，服务端会转发客户端发送的数据包给其他客户端，并测试每秒转发的数据量和数据包的个数。</p>
<h2 id="包格式"><a href="#包格式" class="headerlink" title="包格式"></a>包格式</h2><p>简单的定义了数据包头的格式，12个字节，包含三个变量，分别是targetID（目的地的id），sourceID（源id）和length（数据的长度，不包含header的长度）。</p>
<p>暂时client的id分配由服务器分配，客户端编号从1开始，id为0代表是服务器发送的原始消息，不是转发的其他客户端发送的数据。</p>
<h2 id="数据发送"><a href="#数据发送" class="headerlink" title="数据发送"></a>数据发送</h2><p>客户端每隔一段时间发送一个数据包给其他客户端，服务器收到数据包后转发给其他客户端。</p>
<p>为了测试libevent的最大负载，现在设置只要客户端检测到write_buffer为空，则向其中填入<code>SEND_TIMES</code>个packet。</p>
<p>目前测试结果为再最大负载的情况下，多个client同时向服务器发送packet，平均结果为服务器每秒转发40000个packet</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _MESSAGE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _MESSAGE_H_</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">msg_header</span> &#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> targetID;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> sourceID;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> length;</span><br><span class="line">&#125; Header;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listener_cb</span><span class="params">(struct evconnlistener *, <span class="keyword">evutil_socket_t</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">	struct sockaddr *, <span class="keyword">int</span> socklen, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_writecb</span><span class="params">(struct bufferevent *, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_readcb</span><span class="params">(struct bufferevent *, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_eventcb</span><span class="params">(struct bufferevent *, <span class="keyword">short</span>, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">get_client_id</span><span class="params">(struct bufferevent*)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">inttostr</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write_buffer</span><span class="params">(<span class="built_in">string</span>&amp;, struct bufferevent*, Header&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// !_MESSAGE_H_</span></span></span><br></pre></td></tr></table></figure>
<p><br></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/bufferevent.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/buffer.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/listener.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/util.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/event.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"message.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PORT 1234</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HEADER_LENGTH 12</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUFFER_SIZE  (16 * 1024)	</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> READ_SIZE (16 * 1024)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_PACKET_SIZE 256</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TIME_INTERVAL 5000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> ip_address[] = <span class="string">"127.0.0.1"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">unsigned</span> <span class="keyword">int</span>, bufferevent*&gt; ClientMap;	<span class="comment">//client id 对应的bufferevent</span></span><br><span class="line"><span class="keyword">int</span> conectNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dataSize = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> lastTime = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> receiveNumber = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sendNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> WIN32  </span></span><br><span class="line">	WSAData wsaData;</span><br><span class="line">	WSAStartup(MAKEWORD(<span class="number">2</span>, <span class="number">0</span>), &amp;wsaData);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span>  </span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Server begin running!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">sin</span>;</span></span><br><span class="line">	<span class="built_in">memset</span>(&amp;<span class="built_in">sin</span>, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="built_in">sin</span>));</span><br><span class="line">	<span class="built_in">sin</span>.sin_family = AF_INET;</span><br><span class="line">	<span class="built_in">sin</span>.sin_addr.S_un.S_addr = inet_addr(ip_address);</span><br><span class="line">	<span class="built_in">sin</span>.sin_port = htons(PORT);</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">evconnlistener</span> *<span class="title">listener</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">event_base</span> *<span class="title">base</span> = <span class="title">event_base_new</span>();</span></span><br><span class="line">	<span class="keyword">if</span> (!base) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Could not initialize libevent"</span> &lt;&lt; <span class="built_in">endl</span>;;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//默认情况下，链接监听器接收新套接字后，会将其设置为非阻塞的</span></span><br><span class="line">	listener = evconnlistener_new_bind(base, listener_cb, (<span class="keyword">void</span> *)base,</span><br><span class="line">		LEV_OPT_REUSEABLE | LEV_OPT_CLOSE_ON_FREE, <span class="number">-1</span>,</span><br><span class="line">		(struct sockaddr*)&amp;<span class="built_in">sin</span>,</span><br><span class="line">		<span class="keyword">sizeof</span>(<span class="built_in">sin</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (!listener) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Could not create a listener"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	event_base_dispatch(base);</span><br><span class="line"></span><br><span class="line">	evconnlistener_free(listener);</span><br><span class="line">	event_base_free(base);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listener_cb</span><span class="params">(struct evconnlistener *listener, <span class="keyword">evutil_socket_t</span> fd, </span></span></span><br><span class="line"><span class="function"><span class="params">	struct sockaddr *sa, <span class="keyword">int</span> socklen, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Detect an connection"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">event_base</span> *<span class="title">base</span> = (<span class="title">struct</span> <span class="title">event_base</span> *)<span class="title">user_data</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">bufferevent</span> *<span class="title">bev</span>;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//BEV_OPT_CLOSE_ON_FREE close the file descriptor when this bufferevent is freed</span></span><br><span class="line">	bev = bufferevent_socket_new(base, fd, BEV_OPT_CLOSE_ON_FREE);</span><br><span class="line">	<span class="keyword">if</span> (!bev) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Could not create a bufferevent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		event_base_loopbreak(base);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ClientMap[++conectNumber] = bev;</span><br><span class="line">	<span class="comment">//read write event</span></span><br><span class="line">	bufferevent_setcb(bev, conn_readcb, <span class="literal">NULL</span>, conn_eventcb, <span class="literal">NULL</span>);</span><br><span class="line">	bufferevent_enable(bev, EV_READ | EV_WRITE);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//send a message to client when connect is succeeded</span></span><br><span class="line">	<span class="built_in">string</span> msg = <span class="string">"connedted"</span>;</span><br><span class="line">	Header header;</span><br><span class="line">	header.sourceID = <span class="number">0</span>;</span><br><span class="line">	header.targetID = conectNumber;</span><br><span class="line">	header.length = msg.size();</span><br><span class="line">	write_buffer(msg, bev, header);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_writecb</span><span class="params">(struct bufferevent *bev, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	Sleep(<span class="number">2000</span>);</span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">	Header header;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> toID = get_client_id(bev);</span><br><span class="line">	<span class="built_in">string</span> msg = <span class="string">"hello client "</span> + inttostr(toID);</span><br><span class="line"></span><br><span class="line">	header.targetID = toID;</span><br><span class="line">	header.sourceID = <span class="number">0</span>;</span><br><span class="line">	header.length = msg.size();</span><br><span class="line"></span><br><span class="line">	write_buffer(msg, bev, header);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_readcb</span><span class="params">(struct bufferevent *bev, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">evbuffer</span> *<span class="title">input</span> = <span class="title">bufferevent_get_input</span>(<span class="title">bev</span>);</span></span><br><span class="line">	<span class="keyword">size_t</span> sz = evbuffer_get_length(input);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> sourceID = get_client_id(bev);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (sz &gt;= MAX_PACKET_SIZE) &#123;</span><br><span class="line">		<span class="keyword">char</span> msg[MAX_PACKET_SIZE] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">		<span class="keyword">char</span> *ptr = msg;</span><br><span class="line">		bufferevent_read(bev, ptr, HEADER_LENGTH);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> len = ((Header*)ptr)-&gt;length;</span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> targetID = ((Header*)ptr)-&gt;targetID;</span><br><span class="line">		((Header*)ptr)-&gt;sourceID = sourceID;</span><br><span class="line"></span><br><span class="line">		ptr += HEADER_LENGTH;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (sz &lt; len + HEADER_LENGTH) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		bufferevent_read(bev, ptr, len);</span><br><span class="line"></span><br><span class="line">		receiveNumber++;</span><br><span class="line">		dataSize += len + HEADER_LENGTH;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (ClientMap.find(targetID) != ClientMap.end()) &#123;</span><br><span class="line">			sendNumber++;</span><br><span class="line">			bufferevent_write(ClientMap[targetID], msg, len + HEADER_LENGTH);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">//can't find</span></span><br><span class="line">		&#125;</span><br><span class="line">		sz = evbuffer_get_length(input);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//calculate the speed of data and packet</span></span><br><span class="line">	<span class="keyword">clock_t</span> nowtime = clock();</span><br><span class="line">	<span class="keyword">if</span> (lastTime == <span class="number">0</span>) &#123;</span><br><span class="line">		lastTime = nowtime;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"client number: "</span> &lt;&lt; ClientMap.size() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"data speed: "</span> &lt;&lt; (<span class="keyword">double</span>)dataSize / (nowtime - lastTime) &lt;&lt; <span class="string">"k/s "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"packet speed: receive "</span> &lt;&lt; (<span class="keyword">double</span>)receiveNumber / (nowtime - lastTime) &lt;&lt; <span class="string">"k/s "</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"send "</span> &lt;&lt; (<span class="keyword">double</span>)sendNumber / (nowtime - lastTime) &lt;&lt; <span class="string">"k/s"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">if</span> (nowtime - lastTime &gt; TIME_INTERVAL) &#123;</span><br><span class="line">			dataSize = <span class="number">0</span>;</span><br><span class="line">			lastTime = nowtime;</span><br><span class="line">			receiveNumber = <span class="number">0</span>;</span><br><span class="line">			sendNumber = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_eventcb</span><span class="params">(struct bufferevent *bev, <span class="keyword">short</span> events, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (events &amp; BEV_EVENT_EOF) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Connection closed"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (events &amp; BEV_EVENT_ERROR) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Got an error on the connection: "</span> &lt;&lt; strerror(errno) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bufferevent_free(bev);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">get_client_id</span><span class="params">(struct bufferevent* bev)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> p = ClientMap.begin(); p != ClientMap.end(); p++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;second == bev) &#123;</span><br><span class="line">			<span class="keyword">return</span> p-&gt;first;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write_buffer</span><span class="params">(<span class="built_in">string</span>&amp; msg, struct bufferevent* bev, Header&amp; header)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> send_msg[BUFFER_SIZE] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">char</span>* ptr = send_msg;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">memcpy</span>(ptr, &amp;header, <span class="keyword">sizeof</span>(Header));</span><br><span class="line">	len += <span class="keyword">sizeof</span>(Header);</span><br><span class="line">	ptr += <span class="keyword">sizeof</span>(Header);</span><br><span class="line">	<span class="built_in">memcpy</span>(ptr, msg.c_str(), msg.size());</span><br><span class="line">	len += msg.size();</span><br><span class="line"></span><br><span class="line">	bufferevent_write(bev, send_msg, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">inttostr</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> result;</span><br><span class="line">	<span class="keyword">bool</span> neg = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		neg = <span class="literal">true</span>;</span><br><span class="line">		num = -num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">		result += <span class="string">'0'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">int</span> rem = num % <span class="number">10</span>;</span><br><span class="line">			result = (<span class="keyword">char</span>)(rem + <span class="string">'0'</span>) + result;</span><br><span class="line">			num /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (neg) &#123;</span><br><span class="line">		result = <span class="string">'-'</span> + result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _MESSAGE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _MESSAGE_H_</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">msg_header</span> &#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> targetID;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> sourceID;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> length;</span><br><span class="line">&#125; Header;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_writecb</span><span class="params">(struct bufferevent *, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_readcb</span><span class="params">(struct bufferevent *, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_eventcb</span><span class="params">(struct bufferevent *, <span class="keyword">short</span>, <span class="keyword">void</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">inttostr</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write_buffer</span><span class="params">(<span class="built_in">string</span>&amp;, struct bufferevent*, Header&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// !_MESSAGE_H_</span></span></span><br></pre></td></tr></table></figure>
<p><br></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/bufferevent.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/buffer.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/listener.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/util.h&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;event2/event.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"message.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PORT 1234</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUFFER_SIZE  (16 * 1024)	</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> READ_SIZE (16 * 1024)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SEND_INTERVAL 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CLIENT_NUMBER 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SEND_TIMES 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_PACKET_SIZE 1024</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HEADER_LENGTH 12</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DATA_LENGTH 1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> ip_address[] = <span class="string">"127.0.0.1"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Client running"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> WIN32  </span></span><br><span class="line">	WSAData wsaData;</span><br><span class="line">	WSAStartup(MAKEWORD(<span class="number">2</span>, <span class="number">0</span>), &amp;wsaData);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span>  </span></span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">srv</span>;</span></span><br><span class="line">	<span class="built_in">memset</span>(&amp;srv, <span class="number">0</span>, <span class="keyword">sizeof</span>(srv));</span><br><span class="line">	srv.sin_addr.S_un.S_addr = inet_addr(ip_address);</span><br><span class="line">	srv.sin_family = AF_INET;</span><br><span class="line">	srv.sin_port = htons(PORT);</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">event_base</span> *<span class="title">base</span> = <span class="title">event_base_new</span>();</span></span><br><span class="line">	<span class="keyword">if</span> (!base) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Could not initialize libevent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">bufferevent</span>* <span class="title">bev</span> = <span class="title">bufferevent_socket_new</span>(<span class="title">base</span>, -1,<span class="title">BEV_OPT_CLOSE_ON_FREE</span>);</span></span><br><span class="line">	bufferevent_setcb(bev, conn_readcb, conn_writecb, conn_eventcb, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//连接，成功返回0，失败返回-1</span></span><br><span class="line">	<span class="keyword">int</span> flag = bufferevent_socket_connect(bev, (struct sockaddr *)&amp;srv, <span class="keyword">sizeof</span>(srv));</span><br><span class="line"></span><br><span class="line">	bufferevent_enable(bev, EV_READ | EV_WRITE);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (<span class="number">-1</span> == flag) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Connect failed"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	event_base_dispatch(base);</span><br><span class="line">	event_base_free(base);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_writecb</span><span class="params">(struct bufferevent *bev, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//Sleep(SEND_INTERVAL);</span></span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> num[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> toID = rand() % CLIENT_NUMBER + <span class="number">1</span>;</span><br><span class="line">	Header header;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="built_in">string</span> <span class="title">msg</span><span class="params">(DATA_LENGTH - HEADER_LENGTH, <span class="string">'0'</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	header.targetID = toID;</span><br><span class="line">	header.length = msg.size();</span><br><span class="line">	write_buffer(msg, bev, header);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write_buffer</span><span class="params">(<span class="built_in">string</span>&amp; msg, struct bufferevent* bev, Header&amp; header)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> send_msg[READ_SIZE] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">char</span>* ptr = send_msg;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//多发几次，便于测试大量数据</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; SEND_TIMES; i++) &#123;</span><br><span class="line">		<span class="built_in">memcpy</span>(ptr + len, &amp;header, <span class="keyword">sizeof</span>(Header));</span><br><span class="line">		len += <span class="keyword">sizeof</span>(Header);</span><br><span class="line">		<span class="built_in">memcpy</span>(ptr + len, msg.c_str(), msg.size());</span><br><span class="line">		len += msg.size();</span><br><span class="line">	&#125;</span><br><span class="line">	bufferevent_write(bev, send_msg, len);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_readcb</span><span class="params">(struct bufferevent *bev, <span class="keyword">void</span> *user_data)</span> </span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">evbuffer</span> *<span class="title">input</span> = <span class="title">bufferevent_get_input</span>(<span class="title">bev</span>);</span></span><br><span class="line">	<span class="keyword">size_t</span> sz = evbuffer_get_length(input);	<span class="comment">//返回evbuffer储存的字节数</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (sz &gt;= MAX_PACKET_SIZE) &#123;</span><br><span class="line">		<span class="keyword">char</span> msg[MAX_PACKET_SIZE] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">		<span class="keyword">char</span> *ptr = msg;</span><br><span class="line">		bufferevent_read(bev, ptr, HEADER_LENGTH);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> len = ((Header*)ptr)-&gt;length;</span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> targetID = ((Header*)ptr)-&gt;targetID;</span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">int</span> sourceID = ((Header*)ptr)-&gt;sourceID;</span><br><span class="line"></span><br><span class="line">		ptr += HEADER_LENGTH;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (sz &lt; len + HEADER_LENGTH) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		bufferevent_read(bev, ptr, len);</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"receive "</span> &lt;&lt; HEADER_LENGTH +  <span class="built_in">strlen</span>(ptr) &lt;&lt; <span class="string">" bytes from client "</span> &lt;&lt; sourceID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">		sz = evbuffer_get_length(input);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conn_eventcb</span><span class="params">(struct bufferevent *bev, <span class="keyword">short</span> events, <span class="keyword">void</span> *user_data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (events &amp; BEV_EVENT_EOF) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Connection closed"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (events &amp; BEV_EVENT_ERROR) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Got an error on the connection: "</span> &lt;&lt; strerror(errno) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (events &amp; BEV_EVENT_CONNECTED) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"Connect succeed"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">string</span> msg = <span class="string">"connect to server"</span>;</span><br><span class="line">		Header header;</span><br><span class="line">		header.targetID = <span class="number">0</span>;</span><br><span class="line">		header.length = msg.size();</span><br><span class="line"></span><br><span class="line">		write_buffer(msg, bev, header);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bufferevent_free(bev);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">inttostr</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">string</span> result;</span><br><span class="line">	<span class="keyword">bool</span> neg = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		neg = <span class="literal">true</span>;</span><br><span class="line">		num = -num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">		result += <span class="string">'0'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">int</span> rem = num % <span class="number">10</span>;</span><br><span class="line">			result = (<span class="keyword">char</span>)(rem + <span class="string">'0'</span>) + result;</span><br><span class="line">			num /= <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (neg) &#123;</span><br><span class="line">		result = <span class="string">'-'</span> + result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="效果图片"><a href="#效果图片" class="headerlink" title="效果图片"></a>效果图片</h2><h3 id="普通测试"><a href="#普通测试" class="headerlink" title="普通测试"></a>普通测试</h3><blockquote>
<p>服务器测试转发速度</p>
</blockquote>
<p><img src="/images/libevent server 1.PNG" alt=""></p>
<blockquote>
<p>客户端</p>
</blockquote>
<p>client1：</p>
<p><img src="/images/lib event client1.PNG" alt=""></p>
<p>client2：</p>
<p><img src="/images/libevent client 2.PNG" alt=""></p>
<h3 id="最大负载测试"><a href="#最大负载测试" class="headerlink" title="最大负载测试"></a>最大负载测试</h3><blockquote>
<p>服务器数据</p>
</blockquote>
<p><img src="/images/libevent server 2.PNG" alt=""></p>
<h2 id="测试统计"><a href="#测试统计" class="headerlink" title="测试统计"></a>测试统计</h2><p>libevent 测试结果，本地回环地址测试</p>
<p>接收的client个数 2，发送的client个数 4</p>
<p>packet speed代表每秒服务器转发的packet的个数</p>
<table>
<thead>
<tr>
<th>packet length</th>
<th>packet speed</th>
<th>data speed</th>
</tr>
</thead>
<tbody>
<tr>
<td>20 bytes</td>
<td>66  k/s</td>
<td>1333 k/s</td>
</tr>
<tr>
<td>50 bytes</td>
<td>36.5 k/s</td>
<td>1800 k/s</td>
</tr>
<tr>
<td>100 bytes</td>
<td>20.0 k/s</td>
<td>2000 k/s</td>
</tr>
<tr>
<td>200 bytes</td>
<td>11.2 k/s</td>
<td>2200 k/s</td>
</tr>
<tr>
<td>300 bytes</td>
<td>8.3 k/s</td>
<td>2490 k/s</td>
</tr>
<tr>
<td>500 bytes</td>
<td>5.4 k/s</td>
<td>2700 k/s</td>
</tr>
<tr>
<td>800 bytes</td>
<td>3.45 k/s</td>
<td>2750 k/s</td>
</tr>
<tr>
<td>1000 bytes</td>
<td>2.65 k/s</td>
<td>2650 k/s</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Uyouii" />
          <p class="site-author-name" itemprop="name">Uyouii</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Uyouii" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Uyouii</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
